/*
 * Function: Physics_UpdateWithTimer
 * Address: 00411b40
 * Category: physics
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void __fastcall Physics_UpdateWithTimer(int param_1)

{
  int iVar1;
  double dVar2;
  double *pdVar3;
  uint uVar4;
  
  *(undefined4 *)(param_1 + 0x298) = *(undefined4 *)(param_1 + 0x294);
  do {
    iVar1 = *(int *)(*(int *)(param_1 + 0x298) + 4);
    if (iVar1 == 0) {
      return;
    }
    *(int *)(param_1 + 0x298) = iVar1;
    if (*(int *)(param_1 + 0x2a0) == 0) {
      pdVar3 = (double *)0x0;
    }
    else {
      pdVar3 = (double *)**(undefined4 **)(param_1 + 0x298);
    }
    *pdVar3 = pdVar3[2] + *pdVar3;
    pdVar3[1] = pdVar3[3] + pdVar3[1];
    dVar2 = pdVar3[4] - _DAT_0052a0f0;
    pdVar3[4] = dVar2;
  } while ((dVar2 < _DAT_0052a0f0 == (NAN(dVar2) || NAN(_DAT_0052a0f0))) ||
          (iVar1 = *(int *)(param_1 + 0x298), iVar1 == *(int *)(param_1 + 0x294)));
  if (iVar1 == *(int *)(param_1 + 0x29c)) {
    *(undefined4 *)(param_1 + 0x29c) = *(undefined4 *)(iVar1 + 8);
  }
  uVar4 = *(uint *)(iVar1 + 8);
  *(undefined4 *)(uVar4 + 4) = *(undefined4 *)(iVar1 + 4);
  iVar1 = *(int *)(*(int *)(param_1 + 0x298) + 4);
  if (iVar1 != 0) {
    uVar4 = *(uint *)(*(int *)(param_1 + 0x298) + 8);
    *(uint *)(iVar1 + 8) = uVar4;
  }
  if (**(int **)(param_1 + 0x298) != 0) {
                    /* WARNING: Subroutine does not return */
    System_ShutdownHandler(iVar1,uVar4);
  }
                    /* WARNING: Subroutine does not return */
  System_ShutdownHandler(iVar1,uVar4);
}


