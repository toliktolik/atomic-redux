/*
 * Function: Physics_ProcessPixelPerfect
 * Address: 00411eb0
 * Category: physics
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


void __thiscall Physics_ProcessPixelPerfect(void *this,float param_1)

{
  double *pdVar1;
  int iVar2;
  uint uVar3;
  
  *(undefined4 *)((int)this + 0x2d8) = *(undefined4 *)((int)this + 0x2d4);
  do {
    iVar2 = *(int *)(*(int *)((int)this + 0x2d8) + 4);
    if (iVar2 == 0) {
      return;
    }
    *(int *)((int)this + 0x2d8) = iVar2;
    if (*(int *)((int)this + 0x2e0) == 0) {
      pdVar1 = (double *)0x0;
    }
    else {
      pdVar1 = (double *)**(undefined4 **)((int)this + 0x2d8);
    }
    *pdVar1 = (double)((float)*pdVar1 - param_1 * (float)*(double *)((int)this + 0x188));
    if (*(int *)((int)pdVar1 + 0xc) == 0) {
      iVar2 = *(int *)(pdVar1 + 1) + -3;
    }
    else {
      iVar2 = *(int *)(pdVar1 + 1) + -5;
    }
    *(int *)(pdVar1 + 1) = iVar2;
  } while ((0 < iVar2) ||
          (iVar2 = *(int *)((int)this + 0x2d8), iVar2 == *(int *)((int)this + 0x2d4)));
  if (iVar2 == *(int *)((int)this + 0x2dc)) {
    *(undefined4 *)((int)this + 0x2dc) = *(undefined4 *)(iVar2 + 8);
  }
  uVar3 = *(uint *)(iVar2 + 8);
  *(undefined4 *)(uVar3 + 4) = *(undefined4 *)(iVar2 + 4);
  iVar2 = *(int *)(*(int *)((int)this + 0x2d8) + 4);
  if (iVar2 != 0) {
    uVar3 = *(uint *)(*(int *)((int)this + 0x2d8) + 8);
    *(uint *)(iVar2 + 8) = uVar3;
  }
  if (**(int **)((int)this + 0x2d8) != 0) {
                    /* WARNING: Subroutine does not return */
    System_ShutdownHandler(iVar2,uVar3);
  }
                    /* WARNING: Subroutine does not return */
  System_ShutdownHandler(iVar2,uVar3);
}


