/*
 * Function: Physics_ProcessDeceleration
 * Address: 00412190
 * Category: physics
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


int __thiscall Physics_ProcessDeceleration(void *this,undefined4 *param_1,uint param_2)

{
  uint uVar1;
  int iVar2;
  uint uVar3;
  undefined4 *puVar4;
  undefined4 *puVar5;
  int local_8;
  
  local_8 = 0;
  iVar2 = 0;
  if (0 < (int)param_2) {
    do {
      if (((undefined4 *)**(undefined4 **)((int)this + 0x24) == (undefined4 *)0x0) ||
         (uVar1 = **(uint **)((int)this + 0x34), (int)uVar1 < 1)) {
                    /* WARNING: Load size is inaccurate */
        iVar2 = (**(code **)(*this + 4))(*(undefined1 *)param_1);
        if (iVar2 == -1) {
          return local_8;
        }
        param_1 = (undefined4 *)((int)param_1 + 1);
        local_8 = local_8 + 1;
        param_2 = param_2 - 1;
      }
      else {
        if ((int)param_2 < (int)uVar1) {
          uVar1 = param_2;
        }
        puVar4 = param_1;
        puVar5 = (undefined4 *)**(undefined4 **)((int)this + 0x24);
        for (uVar3 = uVar1 >> 2; uVar3 != 0; uVar3 = uVar3 - 1) {
          *puVar5 = *puVar4;
          puVar4 = puVar4 + 1;
          puVar5 = puVar5 + 1;
        }
        param_1 = (undefined4 *)((int)param_1 + uVar1);
        for (uVar3 = uVar1 & 3; uVar3 != 0; uVar3 = uVar3 - 1) {
          *(undefined1 *)puVar5 = *(undefined1 *)puVar4;
          puVar4 = (undefined4 *)((int)puVar4 + 1);
          puVar5 = (undefined4 *)((int)puVar5 + 1);
        }
        local_8 = local_8 + uVar1;
        param_2 = param_2 - uVar1;
        **(int **)((int)this + 0x34) = **(int **)((int)this + 0x34) - uVar1;
        **(int **)((int)this + 0x24) = **(int **)((int)this + 0x24) + uVar1;
      }
      iVar2 = local_8;
    } while (0 < (int)param_2);
  }
  return iVar2;
}


