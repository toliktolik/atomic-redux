/*
 * Function: Physics_CalculateFriction
 * Address: 00438df0
 * Category: physics
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void __fastcall Physics_CalculateFriction(int param_1)

{
  double dVar1;
  undefined4 *puVar2;
  int iVar3;
  double dVar4;
  void *local_10;
  undefined4 uStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  uStack_c = 0x5121f6;
  local_10 = ExceptionList;
  if (*(int *)(*(int *)(param_1 + 0x4c) + 0x17c) < *(int *)(*(int *)(param_1 + 0x4c) + 0x184)) {
    return;
  }
  ExceptionList = &local_10;
  Boss_ProcessWreckerWarWrecker(param_1);
  dVar4 = *(double *)(param_1 + 8) + *(double *)(param_1 + 0x18);
  *(double *)(param_1 + 8) = dVar4;
  if ((*(int *)(param_1 + 0x78) == 0) && (*(int *)(param_1 + 0x7c) == 0)) {
    dVar1 = *(double *)(param_1 + 0x18);
    if (dVar4 <= _DAT_0052c9a8) {
LAB_00438e6f:
      dVar1 = dVar1 + _DAT_005305d8;
      *(double *)(param_1 + 0x18) = dVar1;
      if (_DAT_0052a0c0 < dVar1) {
        *(undefined4 *)(param_1 + 0x18) = 0;
        *(undefined4 *)(param_1 + 0x1c) = 0;
      }
    }
    else {
      *(double *)(param_1 + 0x18) = dVar1 - _DAT_005305d8;
    }
  }
  else if (dVar4 < _DAT_0052c9a0 != (NAN(dVar4) || NAN(_DAT_0052c9a0))) {
    dVar1 = *(double *)(param_1 + 0x18);
    goto LAB_00438e6f;
  }
  if (*(double *)(param_1 + 0x18) < _DAT_0052f6b0 !=
      (NAN(*(double *)(param_1 + 0x18)) || NAN(_DAT_0052f6b0))) {
    *(undefined4 *)(param_1 + 0x18) = 0;
    *(undefined4 *)(param_1 + 0x1c) = 0xbff00000;
  }
  if (_DAT_0052a0f0 < *(double *)(param_1 + 0x18)) {
    *(undefined4 *)(param_1 + 0x18) = 0;
    *(undefined4 *)(param_1 + 0x1c) = 0x3ff00000;
  }
  if ((NAN(*(double *)(param_1 + 0x18)) || NAN(_DAT_0052a0c0)) !=
      (*(double *)(param_1 + 0x18) == _DAT_0052a0c0)) {
    *(undefined1 *)(param_1 + 0x48) = 1;
  }
  if (*(int *)(param_1 + 0x88) != 0) {
    *(int *)(param_1 + 0x88) = *(int *)(param_1 + 0x88) + -1;
  }
  iVar3 = *(int *)(param_1 + 0x4c);
  if (*(int *)(iVar3 + 0x80) != 0) {
    *(undefined4 *)(param_1 + 0x88) = *(undefined4 *)(param_1 + 0xc4);
  }
  if (((NAN(*(double *)(param_1 + 0x18)) || NAN(_DAT_0052a0c0)) ==
       (*(double *)(param_1 + 0x18) == _DAT_0052a0c0)) && (*(char *)(param_1 + 0x48) == '\0')) {
    ExceptionList = local_10;
    return;
  }
  if (*(int *)(param_1 + 0x88) != 0) {
    ExceptionList = local_10;
    return;
  }
  if (*(int *)(iVar3 + 0x80) != 0) {
    ExceptionList = local_10;
    return;
  }
  if ((NAN(*(double *)(iVar3 + 0x88)) || NAN(_DAT_0052a0c0)) ==
      (*(double *)(iVar3 + 0x88) == _DAT_0052a0c0)) {
    ExceptionList = local_10;
    return;
  }
  if (*(int *)(iVar3 + 0x300) != 0) {
    ExceptionList = local_10;
    return;
  }
  if (*(double *)(param_1 + 8) < _DAT_0052a0c0 ==
      (NAN(*(double *)(param_1 + 8)) || NAN(_DAT_0052a0c0))) {
    puVar2 = (undefined4 *)operator_new(0x80);
    local_8 = 1;
    if (puVar2 == (undefined4 *)0x0) goto LAB_00438fdf;
    dVar4 = *(double *)(param_1 + 8) - _DAT_0052f620;
    iVar3 = *(int *)(param_1 + 0x4c);
  }
  else {
    puVar2 = (undefined4 *)operator_new(0x80);
    local_8 = 0;
    if (puVar2 == (undefined4 *)0x0) goto LAB_00438fdf;
    dVar4 = *(double *)(param_1 + 8) + _DAT_0052f620;
    iVar3 = *(int *)(param_1 + 0x4c);
  }
  Math_Floor(puVar2,iVar3,dVar4,0,0x4072c000,0,0,0,0,0,0x3fe80000);
LAB_00438fdf:
  *(undefined4 *)(param_1 + 0x88) = *(undefined4 *)(param_1 + 0xc4);
  ExceptionList = local_10;
  return;
}


