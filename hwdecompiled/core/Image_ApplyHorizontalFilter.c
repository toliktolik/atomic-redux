/*
 * Function: Image_ApplyHorizontalFilter
 * Address: 004d97a0
 * Category: core
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


void __cdecl Image_ApplyHorizontalFilter(int param_1,int param_2,int param_3,int param_4)

{
  int iVar1;
  byte *pbVar2;
  byte *pbVar3;
  undefined1 *puVar4;
  byte *pbVar5;
  byte *pbVar6;
  int iVar7;
  byte *pbVar8;
  int iVar9;
  byte *pbVar10;
  byte *pbVar11;
  undefined4 *puVar12;
  byte *pbVar13;
  int iVar14;
  int local_28;
  
  iVar1 = *(int *)(param_2 + 0x1c);
  puVar12 = (undefined4 *)(param_3 + -4);
  Image_FillPixelBoundaries
            ((void *)(iVar1 * 0x10),(int)puVar12,*(int *)(param_1 + 0xdc) + 2,
             *(int *)(param_1 + 0x1c));
  iVar7 = *(int *)(param_1 + 0xb4) * 0x10;
  iVar9 = *(int *)(param_1 + 0xb4) * -0x50 + 0x4000;
  local_28 = 0;
  if (0 < *(int *)(param_2 + 0xc)) {
    do {
      pbVar2 = (byte *)puVar12[1];
      pbVar3 = (byte *)*puVar12;
      puVar4 = *(undefined1 **)(param_4 + local_28 * 4);
      pbVar5 = (byte *)puVar12[2];
      pbVar6 = (byte *)puVar12[3];
      pbVar10 = pbVar5 + 2;
      pbVar11 = pbVar6 + 2;
      pbVar8 = pbVar2 + 2;
      pbVar13 = pbVar3 + 2;
      *puVar4 = (char)(((uint)*pbVar11 +
                       (uint)*pbVar13 + (uint)*pbVar3 +
                       ((uint)*pbVar8 +
                        (uint)*pbVar10 + (uint)*pbVar2 + (uint)pbVar6[1] + (uint)pbVar3[1] +
                        (uint)*pbVar5 + (uint)*pbVar3) * 2 + (uint)*pbVar6 * 3) * iVar7 + 0x8000 +
                       ((uint)pbVar2[1] + (uint)*pbVar2 + (uint)pbVar5[1] + (uint)*pbVar5) * iVar9
                      >> 0x10);
      for (iVar14 = iVar1 * 8 + -2; puVar4 = puVar4 + 1, iVar14 != 0; iVar14 = iVar14 + -1) {
        *puVar4 = (char)(((uint)pbVar11[-1] +
                          ((uint)pbVar11[1] + (uint)pbVar13[1] + (uint)pbVar10[-1] +
                           (uint)pbVar8[-1] + (uint)*pbVar11 + (uint)pbVar10[2] + (uint)*pbVar13 +
                          (uint)pbVar8[2]) * 2 + (uint)pbVar13[-1] + (uint)pbVar13[2] +
                         (uint)pbVar11[2]) * iVar7 + 0x8000 +
                         ((uint)pbVar10[1] + (uint)pbVar8[1] + (uint)*pbVar10 + (uint)*pbVar8) *
                         iVar9 >> 0x10);
        pbVar11 = pbVar11 + 2;
        pbVar8 = pbVar8 + 2;
        pbVar10 = pbVar10 + 2;
        pbVar13 = pbVar13 + 2;
      }
      *puVar4 = (char)(((uint)pbVar13[-1] +
                       (uint)pbVar11[-1] + (uint)pbVar13[1] +
                       ((uint)*pbVar13 +
                        (uint)*pbVar11 + (uint)pbVar8[1] + (uint)pbVar10[-1] + (uint)pbVar8[-1] +
                        (uint)pbVar10[1] + (uint)pbVar13[1]) * 2 + (uint)pbVar11[1] * 3) * iVar7 +
                       0x8000 + ((uint)*pbVar8 + (uint)pbVar8[1] + (uint)*pbVar10 + (uint)pbVar10[1]
                                ) * iVar9 >> 0x10);
      puVar12 = puVar12 + 2;
      local_28 = local_28 + 1;
    } while (local_28 < *(int *)(param_2 + 0xc));
  }
  return;
}


