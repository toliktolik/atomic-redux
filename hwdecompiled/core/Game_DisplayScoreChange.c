/*
 * Function: Game_DisplayScoreChange
 * Address: 00417230
 * Category: core
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


void __thiscall Game_DisplayScoreChange(void *this,int param_1,int param_2,int param_3)

{
  void *this_00;
  int *piVar1;
  _String_base *p_Var2;
  uint extraout_EDX;
  uint extraout_EDX_00;
  uint uVar3;
  uint unaff_retaddr;
  undefined4 *in_stack_ffffff7c;
  undefined4 *in_stack_ffffff80;
  _String_base local_68 [28];
  char local_4c [20];
  undefined1 local_38 [16];
  int local_28 [4];
  undefined4 local_18;
  uint local_14;
  void *local_10;
  undefined4 uStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  uStack_c = 0x5105b4;
  local_10 = ExceptionList;
  local_14 = DAT_00569f5c ^ unaff_retaddr;
  local_18 = 0;
  if ((param_1 != 0) && (*(char *)((int)this + 0x327) == '\0')) {
    ExceptionList = &local_10;
    *(int *)(*(int *)((int)this + 0x5c) + 0x95c) =
         *(int *)(*(int *)((int)this + 0x5c) + 0x95c) + param_1;
    if (*(int *)(*(int *)((int)this + 0x5c) + 0x95c) < 0) {
      *(undefined4 *)(*(int *)((int)this + 0x5c) + 0x95c) = 0;
    }
    Exception_Release(local_4c,&DAT_0052c7cc);
    this_00 = operator_new(0x4c);
    if (param_1 < 1) {
      local_8 = 3;
      if (this_00 == (void *)0x0) goto LAB_00417369;
      Level_InitializeDictastroika(&stack0xffffff7c,local_4c);
      local_8 = CONCAT31(local_8._1_3_,4);
      local_18 = 2;
      piVar1 = (int *)SexyWidget_ApplyMatrix(local_38,0xff,0,0);
      FloatingText_Constructor
                (this_00,(int)this,(_String_base *)&stack0xffffff7c,param_2,param_3,0,piVar1);
      p_Var2 = (_String_base *)&stack0xffffff7c;
      uVar3 = extraout_EDX_00;
    }
    else {
      local_8 = 0;
      if (this_00 == (void *)0x0) goto LAB_00417369;
      SexyWidget_GetMatrix(local_28,0);
      Level_InitializeDictastroika(local_68,local_4c);
      local_8 = CONCAT31(local_8._1_3_,1);
      local_18 = 1;
      FloatingText_Constructor(this_00,(int)this,local_68,param_2,param_3,0,local_28);
      p_Var2 = local_68;
      uVar3 = extraout_EDX;
    }
    String_Destructor((int)p_Var2,uVar3);
  }
LAB_00417369:
  ExceptionList = local_10;
  Exception_SetMessage((void *)(local_14 ^ unaff_retaddr),in_stack_ffffff7c,in_stack_ffffff80);
  return;
}


