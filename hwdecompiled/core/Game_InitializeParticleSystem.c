/*
 * Function: Game_InitializeParticleSystem
 * Address: 00488110
 * Category: core
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


bool __thiscall Game_InitializeParticleSystem(void *this,int *param_1)

{
  void *this_00;
  int *piVar1;
  int iVar2;
  undefined4 local_18 [2];
  void *local_10;
  undefined4 uStack_c;
  undefined4 local_8;
  
  piVar1 = param_1;
  local_8 = 0xffffffff;
  uStack_c = 0x514e7b;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  if (param_1[8] == 0) {
    ExceptionList = &local_10;
    STL_String_FindFirstNotOf((void *)((int)this + 0x40),local_18,(uint *)&param_1);
    param_1 = (int *)operator_new(0x44);
    local_8 = 0;
    if (param_1 == (int *)0x0) {
      iVar2 = 0;
    }
    else {
      iVar2 = FileIO_SetFileAttributes((int)param_1);
    }
    piVar1[8] = iVar2;
  }
  local_8 = 0xffffffff;
  this_00 = (void *)piVar1[8];
  Game_CleanupExplosions
            (this_00,piVar1,*(_String_base **)((int)this + 0x20),*(int **)((int)this + 0x10));
  ExceptionList = local_10;
  return *(int *)((int)this_00 + 0x3c) != 0;
}


