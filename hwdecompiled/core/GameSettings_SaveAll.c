/*
 * Function: GameSettings_SaveAll
 * Address: 00406b20
 * Category: core
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


void __fastcall GameSettings_SaveAll(int *param_1)

{
  int iVar1;
  char *pcVar2;
  char *pcVar3;
  int extraout_ECX;
  int extraout_ECX_00;
  uint extraout_EDX;
  uint extraout_EDX_00;
  uint extraout_EDX_01;
  uint extraout_EDX_02;
  _String_base local_50 [4];
  uint local_4c;
  undefined4 local_3c;
  uint local_38;
  _String_base local_34 [4];
  uint local_30;
  undefined4 local_20;
  uint local_1c;
  int local_18;
  undefined1 local_11;
  void *local_10;
  undefined *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &DAT_0050f820;
  local_10 = ExceptionList;
  if (*(char *)((int)param_1 + 0x2fd) == '\0') {
    local_38 = 0xf;
    local_3c = 0;
    local_4c = local_4c & 0xffffff00;
    pcVar2 = "MaxTime";
    do {
      pcVar3 = pcVar2;
      pcVar2 = pcVar3 + 1;
    } while (*pcVar3 != '\0');
    ExceptionList = &local_10;
    String_Assign(local_50,(_String_base *)"MaxTime",(uint)(pcVar3 + -0x52a2b4));
    local_8 = 0;
    iVar1 = HTTP_SetUserAgent(param_1,local_50,0x3c);
    local_11 = iVar1 != 0;
    local_8 = 0xffffffff;
    if (0xf < local_38) {
                    /* WARNING: Subroutine does not return */
      System_ShutdownHandler(local_4c,extraout_EDX);
    }
    if ((bool)local_11) {
      iVar1 = param_1[0x19e] + param_1[0x2cd] / 6000;
    }
    else {
      iVar1 = param_1[0x19e] + param_1[0x2ce];
    }
    param_1[0x19e] = iVar1;
    local_38 = 0xf;
    local_3c = 0;
    local_4c = local_4c & 0xffffff00;
    pcVar2 = "LastUser";
    do {
      pcVar3 = pcVar2;
      pcVar2 = pcVar3 + 1;
    } while (*pcVar3 != '\0');
    String_Assign(local_50,(_String_base *)"LastUser",(uint)(pcVar3 + -0x52a45c));
    local_8 = 1;
    STL_Vector_Resize(param_1,local_50);
    local_8 = 0xffffffff;
    if (0xf < local_38) {
                    /* WARNING: Subroutine does not return */
      System_ShutdownHandler(local_4c,extraout_EDX_00);
    }
    pcVar2 = "@Particles";
    local_38 = 0xf;
    local_3c = 0;
    local_4c = local_4c & 0xffffff00;
    do {
      pcVar2 = pcVar2 + 1;
    } while (*pcVar2 != '\0');
    String_Assign(local_50,(_String_base *)0x52a450,(uint)(pcVar2 + -0x52a450));
    local_8 = 2;
    Math_FloatToUInt64();
    STL_Vector_Resize(param_1,local_50);
    local_8 = 0xffffffff;
    if (0xf < local_38) {
                    /* WARNING: Subroutine does not return */
      System_ShutdownHandler(extraout_ECX,extraout_EDX_01);
    }
    local_1c = 0xf;
    local_20 = 0;
    local_30 = local_30 & 0xffffff00;
    pcVar2 = "AutoUpdate";
    do {
      pcVar3 = pcVar2;
      pcVar2 = pcVar3 + 1;
    } while (*pcVar3 != '\0');
    String_Assign(local_34,(_String_base *)"AutoUpdate",(uint)(pcVar3 + -0x52a43c));
    local_8 = 3;
    STL_Vector_PushBack(param_1,local_34,(BYTE)param_1[0x2cf]);
    local_8 = 0xffffffff;
    if (0xf < local_1c) {
                    /* WARNING: Subroutine does not return */
      System_ShutdownHandler(extraout_ECX_00,extraout_EDX_02);
    }
    local_1c = 0xf;
    local_20 = 0;
    local_30 = local_30 & 0xffffff00;
    if (param_1[0x523] != 0) {
      local_18 = (param_1[0x524] - param_1[0x523]) / 0x60;
      if (local_18 != 0) {
        UserDataSystem_SaveUserProfiles(param_1);
      }
    }
    HighScoreSystem_SaveData(param_1);
    Algorithm_Includes(param_1);
  }
  ExceptionList = local_10;
  return;
}


