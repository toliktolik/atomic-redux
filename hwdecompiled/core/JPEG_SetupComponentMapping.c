/*
 * Function: JPEG_SetupComponentMapping
 * Address: 004da9c0
 * Category: core
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


void JPEG_SetupComponentMapping(void)

{
  int *piVar1;
  int iVar2;
  int iVar3;
  int *piVar4;
  int *unaff_ESI;
  int *piVar5;
  
  if (unaff_ESI[0x2b] == 0) {
    if (4 < unaff_ESI[0xf]) {
      *(undefined4 *)(*unaff_ESI + 0x14) = 0x1a;
      *(int *)(*unaff_ESI + 0x18) = unaff_ESI[0xf];
      *(undefined4 *)(*unaff_ESI + 0x1c) = 4;
      (**(code **)*unaff_ESI)();
    }
    iVar2 = 0;
    unaff_ESI[0x39] = unaff_ESI[0xf];
    if (0 < unaff_ESI[0xf]) {
      iVar3 = 0;
      piVar1 = unaff_ESI + 0x3a;
      do {
        *piVar1 = unaff_ESI[0x11] + iVar3;
        iVar2 = iVar2 + 1;
        piVar1 = piVar1 + 1;
        iVar3 = iVar3 + 0x54;
      } while (iVar2 < unaff_ESI[0xf]);
    }
    unaff_ESI[0x4b] = 0;
    unaff_ESI[0x4d] = 0;
    unaff_ESI[0x4e] = 0;
    unaff_ESI[0x4c] = 0x3f;
    return;
  }
  piVar1 = (int *)(unaff_ESI[0x2b] + *(int *)(unaff_ESI[0x4f] + 0x1c) * 0x24);
  unaff_ESI[0x39] = *piVar1;
  iVar2 = 0;
  if (0 < *piVar1) {
    piVar5 = unaff_ESI + 0x3a;
    piVar4 = piVar1;
    do {
      piVar4 = piVar4 + 1;
      iVar2 = iVar2 + 1;
      *piVar5 = *piVar4 * 0x54 + unaff_ESI[0x11];
      piVar5 = piVar5 + 1;
    } while (iVar2 < *piVar1);
  }
  unaff_ESI[0x4b] = piVar1[5];
  unaff_ESI[0x4c] = piVar1[6];
  unaff_ESI[0x4d] = piVar1[7];
  unaff_ESI[0x4e] = piVar1[8];
  return;
}


