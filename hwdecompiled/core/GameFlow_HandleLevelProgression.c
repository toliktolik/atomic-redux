/*
 * Function: GameFlow_HandleLevelProgression
 * Address: 00410690
 * Category: core
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


void __thiscall GameFlow_HandleLevelProgression(void *this,int param_1)

{
  void *pvVar1;
  int *piVar2;
  uint extraout_EDX;
  void *local_10;
  undefined *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &DAT_005102ab;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  (**(code **)(**(int **)((int)this + 4) + 0xb8))(0x12,0);
  if (param_1 == 0x29) {
    (**(code **)(**(int **)(*(int *)((int)this + 4) + 0x330) + 0x24))(1,0xd2f1a9fc,0x3f70624d);
    (**(code **)(**(int **)(*(int *)((int)this + 4) + 0x330) + 0x1c))
              (3,0x3b,0xd2f1a9fc,0x3f60624d,0);
    (**(code **)(**(int **)((int)this + 4) + 0x108))(0x28);
    piVar2 = (int *)((int)this + -0x58);
    pvVar1 = *(void **)(*(int *)((int)this + 4) + 0x2dc);
    if (*(char *)((int)this + 0x2cf) != '\0') {
      UI_ProcessChildAnimation(pvVar1,piVar2);
      (**(code **)(**(int **)((int)this + 4) + 0x78))(piVar2);
      *(undefined4 *)(*(int *)((int)this + 4) + 0x920) = 0;
      GameEngine_ProcessStateTransitions(*(void **)((int)this + 4),extraout_EDX);
      ExceptionList = local_10;
      return;
    }
    UI_ProcessChildAnimation(pvVar1,piVar2);
    (**(code **)(**(int **)((int)this + 4) + 0x78))(piVar2);
    *(undefined4 *)(*(int *)((int)this + 4) + 0x920) = 0;
    pvVar1 = *(void **)((int)this + 4);
    if (0 < *(int *)((int)pvVar1 + 0x960)) {
      Level_InitializeWithEnemyData(pvVar1,*(int *)((int)pvVar1 + 0x960));
      ExceptionList = local_10;
      return;
    }
    GameMenu_ProcessSurvivalSelect(pvVar1,'\0');
  }
  else if (param_1 == 0x2a) {
    if (*(int *)((int)this + 0x2ec) == 10) {
      GameSystem_InitializeObject(*(int **)((int)this + 4));
    }
    else {
      pvVar1 = operator_new(0x8c);
      local_8 = 0;
      if (pvVar1 == (void *)0x0) {
        piVar2 = (int *)0x0;
      }
      else {
        piVar2 = Button_ClickHandler(pvVar1,*(undefined4 *)((int)this + 4),
                                     *(undefined1 *)((int)this + 0x2cf),
                                     *(undefined4 *)((int)this + 0x2ec));
      }
      local_8 = 0xffffffff;
      SexyWidget_GetColor(*(void **)(*(int *)((int)this + 4) + 0x2dc),piVar2);
    }
    *(undefined4 *)(*(int *)((int)this + 4) + 0x920) = 0;
    (**(code **)(**(int **)((int)this + 4) + 0x108))(0x28);
    UI_ProcessChildAnimation(*(void **)(*(int *)((int)this + 4) + 0x2dc),(int *)((int)this + -0x58))
    ;
    (**(code **)(**(int **)((int)this + 4) + 0x78))((int *)((int)this + -0x58));
    ExceptionList = local_10;
    return;
  }
  ExceptionList = local_10;
  return;
}


