/*
 * Function: Game_CreateParticle
 * Address: 004881b0
 * Category: core
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


void __thiscall
Game_CreateParticle(void *this,int *param_1,int *param_2,uint *param_3,int param_4,int *param_5,
                   undefined1 *param_6,char param_7)

{
  void *this_00;
  bool bVar1;
  uint uVar2;
  undefined4 *puVar3;
  float local_5c [9];
  undefined1 local_38 [36];
  uint local_14;
  uint local_10;
  uint local_c;
  uint local_8;
  
  uVar2 = SexyWidget_UpdateVertices((int)this);
  if (((char)uVar2 != '\0') && (bVar1 = Game_InitializeParticleSystem(this,param_1), bVar1)) {
    local_14 = *param_3;
    local_10 = param_3[1];
    local_c = param_3[2];
    local_8 = param_3[3];
    DirectX_SetRenderState(this,param_4);
    this_00 = (void *)param_1[8];
    if (*(int *)((int)this + 0x54) == 0) {
      Threading_ReleaseSemaphore(param_7);
    }
    else {
      Threading_ReleaseSemaphore('\x01');
      puVar3 = (undefined4 *)
               Font_GetAscent((void *)(*(int *)(*(int *)((int)this + 0x50) + 4) + 8),local_5c,
                              (int)param_6);
      Matrix_Zero(local_38,puVar3);
      param_6 = local_38;
    }
    FileIO_WriteFile(this_00,*(int **)((int)this + 0x20),param_6,param_5,&local_14,param_2);
  }
  return;
}


