/*
 * Function: FID_conflict:append
 * Address: 004f1bf8
 * Category: core
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


/* Library Function - Multiple Matches With Different Base Names
    public: class std::basic_string<unsigned short,struct std::char_traits<unsigned short>,class
   std::allocator<unsigned short> > & __thiscall std::basic_string<unsigned short,struct
   std::char_traits<unsigned short>,class std::allocator<unsigned short> >::append(class
   std::basic_string<unsigned short,struct std::char_traits<unsigned short>,class
   std::allocator<unsigned short> > const &,unsigned int,unsigned int)
    public: class std::basic_string<wchar_t,struct std::char_traits<wchar_t>,class
   std::allocator<wchar_t> > & __thiscall std::basic_string<wchar_t,struct
   std::char_traits<wchar_t>,class std::allocator<wchar_t> >::append(class
   std::basic_string<wchar_t,struct std::char_traits<wchar_t>,class std::allocator<wchar_t> > const
   &,unsigned int,unsigned int)
   
   Library: Visual Studio 2003 Release */

_String_base * __fastcall
FID_conflict_append(_String_base *param_1,uint param_2,int param_3,uint param_4,uint param_5)

{
  bool bVar1;
  uint uVar2;
  _String_base *p_Var3;
  int iVar4;
  uint extraout_EDX;
  uint extraout_EDX_00;
  _String_base *p_Var5;
  
  if (*(uint *)(param_3 + 0x14) < param_4) {
    std::_String_base::_Xran(param_1);
    param_2 = extraout_EDX;
  }
  uVar2 = *(int *)(param_3 + 0x14) - param_4;
  if (uVar2 < param_5) {
    param_5 = uVar2;
  }
  if (-*(int *)(param_1 + 0x14) - 1U <= param_5) {
    std::_String_base::_Xlen(param_1);
    param_2 = extraout_EDX_00;
  }
  if (param_5 != 0) {
    uVar2 = *(int *)(param_1 + 0x14) + param_5;
    bVar1 = Array_FindElement(param_1,param_2,uVar2,'\0');
    if (bVar1) {
      if (*(uint *)(param_3 + 0x18) < 8) {
        iVar4 = param_3 + 4;
      }
      else {
        iVar4 = *(int *)(param_3 + 4);
      }
      p_Var5 = param_1 + 4;
      p_Var3 = p_Var5;
      if (7 < *(uint *)(param_1 + 0x18)) {
        p_Var3 = *(_String_base **)p_Var5;
      }
      Assembly_MemoryCopy((undefined4 *)(p_Var3 + *(int *)(param_1 + 0x14) * 2),iVar4 + param_4 * 2)
      ;
      *(uint *)(param_1 + 0x14) = uVar2;
      if (7 < *(uint *)(param_1 + 0x18)) {
        p_Var5 = *(_String_base **)p_Var5;
      }
      *(undefined2 *)(p_Var5 + uVar2 * 2) = 0;
    }
  }
  return param_1;
}


