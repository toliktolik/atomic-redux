/*
 * Function: Sound_IsPlaying
 * Address: 0049fd00
 * Category: audio
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


/* WARNING: Removing unreachable block (ram,0x0049ff18) */

void __fastcall Sound_IsPlaying(undefined4 param_1,uint param_2,_String_base *param_3,void *param_4)

{
  char *pcVar1;
  bool bVar2;
  int iVar3;
  uint uVar4;
  char *pcVar5;
  uint extraout_EDX;
  uint extraout_EDX_00;
  uint extraout_EDX_01;
  uint extraout_EDX_02;
  uint extraout_EDX_03;
  uint extraout_EDX_04;
  uint extraout_EDX_05;
  uint extraout_EDX_06;
  uint uVar6;
  uint unaff_retaddr;
  undefined4 *in_stack_ffffffac;
  uint in_stack_ffffffb0;
  undefined4 *puVar7;
  _String_base local_38 [4];
  uint local_34;
  uint local_24;
  uint local_20;
  _String_base local_1c;
  undefined3 uStack_1b;
  char local_18 [4];
  uint local_14;
  void *local_10;
  undefined4 uStack_c;
  uint local_8;
  
  uStack_c = 0x515800;
  local_10 = ExceptionList;
  local_14 = DAT_00569f5c ^ unaff_retaddr;
  local_1c = (_String_base)0x0;
  uStack_1b = 0;
  puVar7 = (undefined4 *)(in_stack_ffffffb0 & 0xffffff00);
  local_8 = 0;
  ExceptionList = &local_10;
  if (*(int *)((int)param_4 + 0x14) != 0) {
    uVar6 = 0;
    ExceptionList = &local_10;
    do {
      if (*(uint *)((int)param_4 + 0x18) < 0x10) {
        iVar3 = (int)param_4 + 4;
      }
      else {
        iVar3 = *(int *)((int)param_4 + 4);
      }
      local_1c = *(_String_base *)(iVar3 + uVar6);
      if (local_1c == (_String_base)0x26) {
        local_18[0] = ';';
        uVar4 = UI_Widget_ResetTransform(param_4,local_18,uVar6,1);
        if (uVar4 != 0xffffffff) {
          GameMenu_ProcessRegistrationScreen(param_4,local_38,uVar6 + 1,(uVar4 - uVar6) - 1);
          local_8 = CONCAT31(local_8._1_3_,1);
          pcVar1 = "lt";
          do {
            pcVar5 = pcVar1;
            pcVar1 = pcVar5 + 1;
          } while (*pcVar5 != '\0');
          uVar6 = String_Compare(local_38,0,local_24,(_String_base *)&DAT_005356f8,
                                 (uint)(pcVar5 + -0x5356f8));
          if (uVar6 == 0) {
            local_1c = (_String_base)0x3c;
            uVar6 = extraout_EDX;
          }
          else {
            pcVar1 = "amp";
            do {
              pcVar5 = pcVar1;
              pcVar1 = pcVar5 + 1;
            } while (*pcVar5 != '\0');
            uVar6 = String_Compare(local_38,0,local_24,(_String_base *)&DAT_005356f4,
                                   (uint)(pcVar5 + -0x5356f4));
            if (uVar6 == 0) {
              local_1c = (_String_base)0x26;
              uVar6 = extraout_EDX_00;
            }
            else {
              pcVar1 = "gt";
              do {
                pcVar5 = pcVar1;
                pcVar1 = pcVar5 + 1;
              } while (*pcVar5 != '\0');
              uVar6 = String_Compare(local_38,0,local_24,(_String_base *)&DAT_005356f0,
                                     (uint)(pcVar5 + -0x5356f0));
              if (uVar6 == 0) {
                local_1c = (_String_base)0x3e;
                uVar6 = extraout_EDX_01;
              }
              else {
                pcVar1 = "quot";
                do {
                  pcVar5 = pcVar1;
                  pcVar1 = pcVar5 + 1;
                } while (*pcVar5 != '\0');
                uVar6 = String_Compare(local_38,0,local_24,(_String_base *)&DAT_005356e8,
                                       (uint)(pcVar5 + -0x5356e8));
                if (uVar6 == 0) {
                  local_1c = (_String_base)0x22;
                  uVar6 = extraout_EDX_02;
                }
                else {
                  bVar2 = String_EqualsCharArray(local_38,(_String_base *)&DAT_005356e0);
                  if (bVar2) {
                    local_1c = (_String_base)0x27;
                    uVar6 = extraout_EDX_03;
                  }
                  else {
                    bVar2 = String_EqualsCharArray(local_38,(_String_base *)&DAT_005356d8);
                    if (bVar2) {
                      local_1c = (_String_base)0x20;
                      uVar6 = extraout_EDX_04;
                    }
                    else {
                      bVar2 = String_EqualsCharArray(local_38,(_String_base *)&DAT_005356d4);
                      uVar6 = extraout_EDX_05;
                      if (bVar2) {
                        local_1c = (_String_base)0xa;
                      }
                    }
                  }
                }
              }
            }
          }
          local_8 = local_8 & 0xffffff00;
          if (0xf < local_20) {
                    /* WARNING: Subroutine does not return */
            System_ShutdownHandler(local_34,uVar6);
          }
          local_20 = 0xf;
          local_24 = 0;
          local_34 = local_34 & 0xffffff00;
          uVar6 = uVar4;
        }
      }
      Memory_AllocateSound((_String_base *)&stack0xffffffac,1,local_1c);
      uVar6 = uVar6 + 1;
      param_2 = extraout_EDX_06;
    } while (uVar6 < *(uint *)((int)param_4 + 0x14));
  }
  *(undefined4 *)(param_3 + 0x18) = 0xf;
  *(undefined4 *)(param_3 + 0x14) = 0;
  param_3[4] = (_String_base)0x0;
  PowerUp_ProcessThunderstrike(param_3,param_2,(_String_base *)&stack0xffffffac,0,0xffffffff);
  ExceptionList = local_10;
  Exception_SetMessage((void *)(local_14 ^ unaff_retaddr),in_stack_ffffffac,puVar7);
  return;
}


