/*
 * Function: Sound_FadeOut
 * Address: 0049ff80
 * Category: audio
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


void __fastcall Sound_FadeOut(int param_1)

{
  char cVar1;
  LSTATUS LVar2;
  char *pcVar3;
  uint unaff_retaddr;
  undefined4 *in_stack_fffffeec;
  undefined4 *in_stack_fffffef0;
  DWORD local_14 [2];
  HKEY local_c;
  uint local_8;
  
  local_8 = DAT_00569f5c ^ unaff_retaddr;
  if (*(char *)(*(int *)(param_1 + 4) + 0x491) == '\0') {
    LVar2 = RegOpenKeyExA((HKEY)0x80000001,"Software\\PopCap\\Beta",0,0x20019,&local_c);
    if (LVar2 == 0) {
      local_14[1] = 0x100;
      LVar2 = RegQueryValueExA(local_c,"Name",(LPDWORD)0x0,local_14,&stack0xfffffeec,local_14 + 1);
      if (LVar2 == 0) {
        pcVar3 = &stack0xfffffeec;
        do {
          cVar1 = *pcVar3;
          pcVar3 = pcVar3 + 1;
        } while (cVar1 != '\0');
        String_Assign((void *)(param_1 + 0x160),(_String_base *)&stack0xfffffeec,
                      (int)pcVar3 - (int)&stack0xfffffeed);
      }
      local_14[1] = 0x100;
      LVar2 = RegQueryValueExA(local_c,"Password",(LPDWORD)0x0,local_14,&stack0xfffffeec,
                               local_14 + 1);
      if (LVar2 == 0) {
        pcVar3 = &stack0xfffffeec;
        do {
          cVar1 = *pcVar3;
          pcVar3 = pcVar3 + 1;
        } while (cVar1 != '\0');
        String_Assign((void *)(param_1 + 0x17c),(_String_base *)&stack0xfffffeec,
                      (int)pcVar3 - (int)&stack0xfffffeed);
      }
      RegCloseKey(local_c);
    }
  }
  Exception_SetMessage((void *)(local_8 ^ unaff_retaddr),in_stack_fffffeec,in_stack_fffffef0);
  return;
}


