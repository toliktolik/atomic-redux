/*
 * Function: Music_PauseTrack
 * Address: 004a0af0
 * Category: audio
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


void __thiscall Music_PauseTrack(void *this,int param_1)

{
  char cVar1;
  _String_base _Var2;
  uint uVar3;
  uint uVar4;
  int iVar5;
  int *piVar6;
  _String_base *p_Var7;
  undefined ***pppuVar8;
  uint extraout_ECX;
  int extraout_ECX_00;
  char *pcVar9;
  _String_base *p_Var10;
  int extraout_ECX_01;
  uint extraout_ECX_02;
  uint extraout_EDX;
  uint extraout_EDX_00;
  uint extraout_EDX_01;
  char *pcVar11;
  undefined8 uVar12;
  uint unaff_retaddr;
  undefined4 *in_stack_00004355;
  undefined4 *in_stack_00004359;
  char local_450 [1024];
  void *local_50;
  _String_base local_4c [4];
  uint local_48;
  undefined4 local_38;
  uint local_34;
  _String_base local_30 [4];
  uint local_2c;
  undefined4 local_1c;
  uint local_18;
  uint local_14;
  void *local_10;
  undefined *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &DAT_005158ee;
  local_10 = ExceptionList;
  local_14 = DAT_00569f5c ^ unaff_retaddr;
  if (*(int *)(param_1 + 0x68) == 0) {
    ExceptionList = &local_10;
    iVar5 = Assembly_EmptyFunction();
    if (iVar5 == 0) {
      GameMenu_ProcessRegistrationScreen((_String_base *)(param_1 + 0x20),local_30,5,0xffffffff);
      local_8 = 0;
      piVar6 = (int *)Image_BlendPixels(this,local_30);
      if (piVar6 == (int *)0x0) {
        p_Var7 = Survival_LoadConfiguration
                           (local_4c,(_String_base *)"Ref font not found: ",(int)local_30);
        local_8 = CONCAT31(local_8._1_3_,1);
        Sound_Release((int)this,extraout_EDX,p_Var7);
        if (0xf < local_34) {
                    /* WARNING: Subroutine does not return */
          System_ShutdownHandler(local_48,extraout_EDX_00);
        }
        local_34 = 0xf;
        local_38 = 0;
        local_48 = local_48 & 0xffffff00;
        uVar3 = local_2c;
        uVar4 = extraout_ECX;
        goto joined_r0x004a0c85;
      }
      uVar12 = (**(code **)(*piVar6 + 0x2c))();
      piVar6 = (int *)uVar12;
      local_8 = 0xffffffff;
      if (0xf < local_18) {
                    /* WARNING: Subroutine does not return */
        System_ShutdownHandler(extraout_ECX_00,(uint)((ulonglong)uVar12 >> 0x20));
      }
      local_18 = 0xf;
      local_1c = 0;
      local_2c = local_2c & 0xffffff00;
    }
    else {
      local_50 = operator_new(0x50);
      local_8 = 2;
      if (local_50 == (void *)0x0) {
        piVar6 = (int *)0x0;
      }
      else {
        piVar6 = Font_LoadFromFile(local_50,*(undefined4 *)((int)this + 0x5c),
                                   (_String_base *)(param_1 + 0x20));
      }
    }
LAB_004a0cce:
    local_8 = 0xffffffff;
    if ((piVar6[5] != 0) && (*(char *)(piVar6[5] + 4) != '\0')) {
      if (*(int *)(param_1 + 0x84) != 0) {
        if (*(uint *)(param_1 + 0x88) < 0x10) {
          pcVar9 = (char *)(param_1 + 0x74);
        }
        else {
          pcVar9 = *(char **)(param_1 + 0x74);
        }
        pcVar11 = local_450;
        do {
          cVar1 = *pcVar9;
          pcVar9 = pcVar9 + 1;
          *pcVar11 = cVar1;
          pcVar11 = pcVar11 + 1;
        } while (cVar1 != '\0');
        p_Var7 = (_String_base *)func_0x004fd49e();
        while (p_Var7 != (_String_base *)0x0) {
          local_34 = 0xf;
          local_38 = 0;
          local_48 = local_48 & 0xffffff00;
          p_Var10 = p_Var7;
          do {
            _Var2 = *p_Var10;
            p_Var10 = p_Var10 + 1;
          } while (_Var2 != (_String_base)0x0);
          String_Assign(local_4c,p_Var7,(int)p_Var10 - (int)(p_Var7 + 1));
          local_8 = 6;
          (**(code **)(*piVar6 + 0x48))();
          local_8 = 0xffffffff;
          if (0xf < local_34) {
                    /* WARNING: Subroutine does not return */
            System_ShutdownHandler(extraout_ECX_01,local_48);
          }
          local_34 = 0xf;
          local_38 = 0;
          local_48 = local_48 & 0xffffff00;
          p_Var7 = (_String_base *)func_0x004fd49e();
        }
      }
      *(int **)(param_1 + 0x4c) = piVar6;
      goto LAB_004a0e12;
    }
    (**(code **)*piVar6)();
    uVar12 = Sound_SetPosition(local_30,"Failed to load font: %s");
    local_8 = 5;
    Sound_Release((int)this,(uint)((ulonglong)uVar12 >> 0x20),(_String_base *)uVar12);
    uVar3 = local_2c;
    uVar4 = extraout_ECX_02;
  }
  else {
    ExceptionList = &local_10;
    pppuVar8 = (undefined ***)(**(code **)(**(int **)((int)this + 0x5c) + 0xe8))(param_1 + 0x54);
    if (pppuVar8 != (undefined ***)0x0) {
      *(undefined ****)(param_1 + 0x50) = pppuVar8;
      local_50 = operator_new(0x50);
      local_8 = 4;
      if (local_50 == (void *)0x0) {
        piVar6 = (int *)0x0;
      }
      else {
        piVar6 = Font_ValidateFormat(local_50,pppuVar8,(_String_base *)(param_1 + 0x20));
      }
      goto LAB_004a0cce;
    }
    uVar12 = Sound_SetPosition(local_30,"Failed to load image: %s");
    local_8 = 3;
    Sound_Release((int)this,(uint)((ulonglong)uVar12 >> 0x20),(_String_base *)uVar12);
    uVar3 = extraout_EDX_01;
    uVar4 = local_2c;
  }
joined_r0x004a0c85:
  if (0xf < local_18) {
                    /* WARNING: Subroutine does not return */
    System_ShutdownHandler(uVar4,uVar3);
  }
LAB_004a0e12:
  ExceptionList = local_10;
  Exception_SetMessage((void *)(local_14 ^ unaff_retaddr),in_stack_00004355,in_stack_00004359);
  return;
}


