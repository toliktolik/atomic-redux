/*
 * Function: Sound_UnloadAudioFiles
 * Address: 0043a300
 * Category: audio
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void __fastcall Sound_UnloadAudioFiles(int param_1)

{
  double dVar1;
  int iVar2;
  int iVar3;
  double *pdVar4;
  int iVar5;
  float10 fVar6;
  float10 fVar7;
  ulonglong uVar8;
  int local_8;
  
  if (*(int *)(*(int *)(param_1 + 0x4c) + 0x17c) < *(int *)(*(int *)(param_1 + 0x4c) + 0x184)) {
    return;
  }
  Boss_ProcessWreckerWarWrecker(param_1);
  if (_DAT_005307e8 < *(double *)(param_1 + 8)) {
    *(undefined4 *)(param_1 + 0x28) = 0;
    *(undefined4 *)(param_1 + 0x2c) = 0x40240000;
    *(undefined4 *)(param_1 + 0x90) =
         *(undefined4 *)(*(int *)(param_1 + 0x70) + 0x8c + *(int *)(param_1 + 0x94) * 4);
    *(double *)(param_1 + 0x58) = (double)*(int *)(*(int *)(param_1 + 0x70) + 0xc0);
  }
  iVar2 = *(int *)(param_1 + 0x70);
  uVar8 = Math_FloatToUInt64();
  *(double *)(param_1 + 8) = (double)(int)uVar8 + *(double *)(param_1 + 0x78);
  uVar8 = Math_FloatToUInt64();
  *(double *)(param_1 + 0x10) = (double)(int)uVar8 + *(double *)(param_1 + 0x80);
  *(undefined4 *)(param_1 + 0x18) = *(undefined4 *)(iVar2 + 0x18);
  *(undefined4 *)(param_1 + 0x1c) = *(undefined4 *)(iVar2 + 0x1c);
  *(undefined4 *)(param_1 + 0x20) = *(undefined4 *)(iVar2 + 0x20);
  *(undefined4 *)(param_1 + 0x24) = *(undefined4 *)(iVar2 + 0x24);
  if (*(char *)(iVar2 + 0x48) == '\0') {
    return;
  }
  dVar1 = *(double *)(param_1 + 0x88) + *(double *)(param_1 + 0x28);
  iVar3 = *(int *)(param_1 + 0x94);
  *(undefined1 *)(param_1 + 0x48) = 1;
  *(double *)(param_1 + 0x28) = dVar1;
  if (iVar3 < 2) {
    iVar5 = *(int *)(*(int *)(param_1 + 0x60) + 0x18);
    if (dVar1 < (double)iVar5) {
      if (dVar1 < _DAT_005302e0 == (NAN(dVar1) || NAN(_DAT_005302e0))) goto LAB_0043a479;
      *(undefined4 *)(param_1 + 0x2c) = 0x401c0000;
LAB_0043a45c:
      *(undefined4 *)(param_1 + 0x28) = 0;
      *(undefined4 *)(param_1 + 0x88) = *(undefined4 *)(iVar2 + 0xa0 + iVar3 * 8);
      *(undefined4 *)(param_1 + 0x8c) = *(undefined4 *)(iVar2 + 0xa4 + iVar3 * 8);
      goto LAB_0043a479;
    }
    iVar5 = iVar5 + -1;
  }
  else {
    iVar5 = *(int *)(*(int *)(param_1 + 0x60) + 0x18) / 2;
    if (dVar1 < (double)(iVar5 + 4)) {
      if (dVar1 < _DAT_0052a0c0 == (NAN(dVar1) || NAN(_DAT_0052a0c0))) goto LAB_0043a479;
      *(undefined4 *)(param_1 + 0x2c) = 0;
      goto LAB_0043a45c;
    }
    iVar5 = iVar5 + 3;
  }
  *(double *)(param_1 + 0x28) = (double)iVar5;
  *(double *)(param_1 + 0x88) = -*(double *)(iVar2 + 0xa0 + iVar3 * 8);
LAB_0043a479:
  iVar5 = *(int *)(param_1 + 0x4c);
  if (*(int *)(iVar5 + 0x80) == 0) {
    *(int *)(param_1 + 0x90) = *(int *)(param_1 + 0x90) + -1;
  }
  else {
    *(undefined4 *)(param_1 + 0x90) = *(undefined4 *)(iVar2 + 0x8c + iVar3 * 4);
  }
  if ((((*(int *)(param_1 + 0x90) < 1) && (_DAT_0052a0a8 < *(double *)(iVar2 + 0x10))) &&
      (*(int *)(iVar5 + 0x80) == 0)) &&
     (((NAN(*(double *)(iVar5 + 0x88)) || NAN(_DAT_0052a0c0)) !=
       (*(double *)(iVar5 + 0x88) == _DAT_0052a0c0) && (*(int *)(iVar5 + 0x300) == 0)))) {
    local_8 = -0xc;
    do {
      pdVar4 = (double *)operator_new(0x40);
      LinkedList_PushBack((void *)(*(int *)(param_1 + 0x4c) + 0x1e4),pdVar4);
      dVar1 = *(double *)(param_1 + 0x28) - _DAT_0052c568;
      *pdVar4 = (dVar1 + dVar1 + *(double *)(param_1 + 8)) - (double)local_8;
      pdVar4[1] = *(double *)(param_1 + 0x10) - _DAT_005307e0;
      iVar2 = *(int *)(*(int *)(param_1 + 0x60) + 0x18);
      fVar6 = (float10)_DAT_005307d8;
      dVar1 = *(double *)(param_1 + 0x28);
      *(int *)(pdVar4 + 4) = -0x66666666;
      *(int *)((int)pdVar4 + 0x24) = 0x3fa99999;
      *(undefined1 *)(pdVar4 + 6) = 1;
      fVar6 = (float10)dVar1 / ((float10)iVar2 * fVar6) + (float10)_DAT_00530500;
      fVar7 = (float10)fcos(fVar6);
      pdVar4[2] = (double)(fVar7 * (float10)_DAT_005307d0);
      fVar6 = (float10)fsin(fVar6);
      pdVar4[3] = (double)(fVar6 * (float10)_DAT_005307d0);
      iVar2 = *(int *)(*(int *)(*(int *)(param_1 + 0x4c) + 0x5c) + 0x71c);
      *(int *)(pdVar4 + 7) = 0;
      *(int *)((int)pdVar4 + 0x3c) = 0;
      *(int *)((int)pdVar4 + 0x34) = iVar2;
      GameObject_Create8Parameters
                (*(void **)(param_1 + 0x4c),*(int *)pdVar4,*(int *)((int)pdVar4 + 4),
                 *(int *)(pdVar4 + 1),*(int *)((int)pdVar4 + 0xc),0,0,0,0);
      ParticleEffects_CreateParticles
                (*(int *)(param_1 + 0x4c) + 0x2e8,
                 *(int *)(*(int *)(*(int *)(param_1 + 0x4c) + 0x5c) + 0x710),*(int *)pdVar4,
                 *(int *)((int)pdVar4 + 4),SUB84(pdVar4[1] - _DAT_0052c5a8,0),
                 (int)((ulonglong)(pdVar4[1] - _DAT_0052c5a8) >> 0x20),-0.5,0.0,4,0.5,0x47ae147b,
                 -0x407b851f,0,-0x40200000,100,1,-1);
      local_8 = local_8 + 0x18;
    } while (local_8 < 0xd);
    iVar2 = **(int **)(*(int *)(param_1 + 0x4c) + 0x5c);
    uVar8 = Math_FloatToUInt64();
    (**(code **)(iVar2 + 0xb8))(0x2a,(int)uVar8);
    *(undefined4 *)(param_1 + 0x90) =
         *(undefined4 *)(*(int *)(param_1 + 0x70) + 0x8c + *(int *)(param_1 + 0x94) * 4);
  }
  return;
}


