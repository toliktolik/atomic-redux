/*
 * Function: Sprite_GetPixelData
 * Address: 0042d580
 * Category: graphics
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


int __fastcall Sprite_GetPixelData(int param_1)

{
  undefined1 uVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  void *pvVar5;
  undefined1 *puVar6;
  size_t _Size;
  
  iVar2 = *(int *)(param_1 + 0xc);
  if (iVar2 == 0) {
    iVar2 = (**(code **)(**(int **)(param_1 + 8) + 100))();
    iVar3 = SexyWidget_GetHeight(*(int *)(param_1 + 8));
    iVar4 = SexyWidget_GetWidth(*(int *)(param_1 + 8));
    _Size = iVar3 * iVar4;
    pvVar5 = _malloc(_Size);
    *(void **)(param_1 + 0xc) = pvVar5;
    iVar3 = 0;
    if (0 < (int)_Size) {
      puVar6 = (undefined1 *)(iVar2 + 3);
      do {
        uVar1 = *puVar6;
        puVar6 = puVar6 + 4;
        *(undefined1 *)(iVar3 + *(int *)(param_1 + 0xc)) = uVar1;
        iVar3 = iVar3 + 1;
      } while (iVar3 < (int)_Size);
    }
    iVar2 = *(int *)(param_1 + 0xc);
  }
  return iVar2;
}


