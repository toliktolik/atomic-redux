/*
 * Function: Texture_CreateRenderTarget
 * Address: 004b9b90
 * Category: graphics
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


uint __thiscall Texture_CreateRenderTarget(void *this,int param_1)

{
  ushort uVar1;
  ushort uVar2;
  char cVar3;
  ushort *puVar4;
  undefined3 extraout_var_00;
  int extraout_ECX;
  int extraout_ECX_00;
  int iVar5;
  undefined3 extraout_var;
  
  cVar3 = Texture_SetID((int)this);
  if (cVar3 != '\0') {
    cVar3 = Texture_SetID(param_1);
    puVar4 = (ushort *)CONCAT31(extraout_var,cVar3);
    if (cVar3 != '\0') {
      puVar4 = *(ushort **)((int)this + 0xc);
      if ((int)puVar4 <= *(int *)(extraout_ECX + 0xc)) {
        if ((*(int *)(extraout_ECX + 0xc) <= (int)puVar4) && (iVar5 = (int)puVar4 + -1, -1 < iVar5))
        {
          puVar4 = (ushort *)(*(int *)((int)this + 8) + iVar5 * 2);
          do {
            uVar1 = *puVar4;
            uVar2 = *(ushort *)
                     ((*(int *)(extraout_ECX + 8) - *(int *)((int)this + 8)) + (int)puVar4);
            if (uVar1 < uVar2) break;
            if (uVar1 >= uVar2 && uVar1 != uVar2) goto LAB_004b9c33;
            iVar5 = iVar5 + -1;
            puVar4 = puVar4 + -1;
          } while (-1 < iVar5);
        }
        goto LAB_004b9be6;
      }
    }
    goto LAB_004b9c33;
  }
  cVar3 = Texture_SetID(param_1);
  puVar4 = (ushort *)CONCAT31(extraout_var_00,cVar3);
  if (cVar3 == '\0') {
    puVar4 = *(ushort **)((int)this + 0xc);
    if ((int)puVar4 <= *(int *)(extraout_ECX_00 + 0xc)) {
      if (*(int *)(extraout_ECX_00 + 0xc) <= (int)puVar4) {
        iVar5 = (int)puVar4 + -1;
        if (iVar5 < 0) goto LAB_004b9be6;
        puVar4 = (ushort *)(*(int *)((int)this + 8) + iVar5 * 2);
        while( true ) {
          uVar1 = *puVar4;
          uVar2 = *(ushort *)
                   ((int)puVar4 + (*(int *)(extraout_ECX_00 + 8) - *(int *)((int)this + 8)));
          if (uVar1 < uVar2) break;
          if (uVar1 >= uVar2 && uVar1 != uVar2) goto LAB_004b9be6;
          iVar5 = iVar5 + -1;
          puVar4 = puVar4 + -1;
          if (iVar5 < 0) {
            return (uint)puVar4 & 0xffffff00;
          }
        }
      }
LAB_004b9c33:
      return CONCAT31((int3)((uint)puVar4 >> 8),1);
    }
  }
LAB_004b9be6:
  return (uint)puVar4 & 0xffffff00;
}


