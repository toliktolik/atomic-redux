/*
 * Function: Resource_GetSpriteHandle
 * Address: 00440300
 * Category: graphics
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


undefined4 * __thiscall Resource_GetSpriteHandle(void *this,int param_1)

{
  char *pcVar1;
  void *pvVar2;
  undefined4 uVar3;
  undefined4 *puVar4;
  char *pcVar5;
  int iVar6;
  int *piVar7;
  int extraout_ECX;
  uint extraout_EDX;
  uint extraout_EDX_00;
  uint extraout_EDX_01;
  uint extraout_EDX_02;
  undefined1 local_30 [4];
  uint local_2c;
  undefined4 local_1c;
  uint local_18;
  void *local_14;
  void *local_10;
  undefined4 uStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  uStack_c = 0x512910;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  local_14 = this;
  Boss_HelicopterTurretSystem(this,param_1);
  local_8 = 0;
  *(undefined ***)this = &PTR_Resource_GetTextureHandle_00530b6c;
  BossSystem_LoadBossesXML();
  *(undefined4 *)((int)this + 0x40) = *(undefined4 *)((int)this + 0x58);
  *(undefined4 *)((int)this + 0x44) = *(undefined4 *)((int)this + 0x5c);
  pvVar2 = operator_new(0x20);
  local_8._0_1_ = 1;
  if (pvVar2 == (void *)0x0) {
    uVar3 = 0;
  }
  else {
    uVar3 = Sprite_GetWidth(pvVar2,*(undefined4 *)(*(int *)((int)this + 0x4c) + 0x5c));
  }
  *(undefined4 *)((int)this + 0x60) = uVar3;
  local_8._0_1_ = 0;
  local_18 = 0xf;
  local_1c = 0;
  local_2c = local_2c & 0xffffff00;
  pcVar1 = "images\\hugecopter\\hugecopter";
  do {
    pcVar5 = pcVar1;
    pcVar1 = pcVar5 + 1;
  } while (*pcVar5 != '\0');
  String_Assign(local_30,(_String_base *)"images\\hugecopter\\hugecopter",(uint)(pcVar5 + -0x530c10)
               );
  local_8._0_1_ = 2;
  Sprite_GetHeight(*(void **)((int)this + 0x60),local_30,1,1);
  local_8._0_1_ = 0;
  if (0xf < local_18) {
                    /* WARNING: Subroutine does not return */
    System_ShutdownHandler(local_2c,extraout_EDX);
  }
  pvVar2 = operator_new(0x20);
  local_8._0_1_ = 3;
  if (pvVar2 == (void *)0x0) {
    uVar3 = 0;
  }
  else {
    uVar3 = Sprite_GetWidth(pvVar2,*(undefined4 *)(*(int *)((int)this + 0x4c) + 0x5c));
  }
  *(undefined4 *)((int)this + 0x70) = uVar3;
  local_18 = 0xf;
  local_8._0_1_ = 0;
  local_1c = 0;
  local_2c = local_2c & 0xffffff00;
  pcVar1 = "images\\hugecopter\\copterblades";
  do {
    pcVar5 = pcVar1;
    pcVar1 = pcVar5 + 1;
  } while (*pcVar5 != '\0');
  String_Assign(local_30,(_String_base *)"images\\hugecopter\\copterblades",
                (uint)(pcVar5 + -0x530bf0));
  local_8._0_1_ = 4;
  Sprite_GetHeight(*(void **)((int)this + 0x70),local_30,5,1);
  local_8._0_1_ = 0;
  if (0xf < local_18) {
                    /* WARNING: Subroutine does not return */
    System_ShutdownHandler(extraout_ECX,extraout_EDX_00);
  }
  pvVar2 = operator_new(0x20);
  local_8._0_1_ = 5;
  if (pvVar2 == (void *)0x0) {
    uVar3 = 0;
  }
  else {
    uVar3 = Sprite_GetWidth(pvVar2,*(undefined4 *)(*(int *)((int)this + 0x4c) + 0x5c));
  }
  *(undefined4 *)((int)this + 0x78) = uVar3;
  local_8._0_1_ = 0;
  local_18 = 0xf;
  local_1c = 0;
  local_2c = local_2c & 0xffffff00;
  pcVar1 = "images\\hugecopter\\launcher";
  do {
    pcVar5 = pcVar1;
    pcVar1 = pcVar5 + 1;
  } while (*pcVar5 != '\0');
  String_Assign(local_30,(_String_base *)"images\\hugecopter\\launcher",(uint)(pcVar5 + -0x530bd4));
  local_8._0_1_ = 6;
  Sprite_GetHeight(*(void **)((int)this + 0x78),local_30,1,1);
  local_8._0_1_ = 0;
  if (0xf < local_18) {
                    /* WARNING: Subroutine does not return */
    System_ShutdownHandler(local_2c,extraout_EDX_01);
  }
  pvVar2 = operator_new(0x98);
  local_8._0_1_ = 7;
  if (pvVar2 == (void *)0x0) {
    puVar4 = (undefined4 *)0x0;
  }
  else {
    puVar4 = Resource_GetFontHandle(pvVar2,*(int *)((int)this + 0x4c),(int)this);
  }
  *(undefined4 **)((int)this + 0x7c) = puVar4;
  puVar4[0x1e] = 0;
  puVar4[0x1f] = 0xc052c000;
  iVar6 = *(int *)((int)this + 0x7c);
  *(undefined4 *)(iVar6 + 0x80) = 0;
  local_8._0_1_ = 0;
  *(undefined4 *)(iVar6 + 0x84) = 0x40468000;
  pvVar2 = operator_new(0x98);
  local_8._0_1_ = 8;
  if (pvVar2 == (void *)0x0) {
    puVar4 = (undefined4 *)0x0;
  }
  else {
    puVar4 = Resource_GetFontHandle(pvVar2,*(int *)((int)this + 0x4c),(int)this);
  }
  *(undefined4 **)((int)this + 0x80) = puVar4;
  puVar4[0x1e] = 0;
  puVar4[0x1f] = 0x4052c000;
  iVar6 = *(int *)((int)this + 0x80);
  local_8._0_1_ = 0;
  *(undefined4 *)(iVar6 + 0x80) = 0;
  *(undefined4 *)(iVar6 + 0x84) = 0x40468000;
  if (*(int *)(*(int *)((int)this + 0x50) + 0x960) < 1) {
    *(undefined4 *)((int)this + 0x74) = 0;
  }
  else {
    pvVar2 = operator_new(0x20);
    local_8._0_1_ = 9;
    if (pvVar2 == (void *)0x0) {
      uVar3 = 0;
    }
    else {
      uVar3 = Sprite_GetWidth(pvVar2,*(undefined4 *)(*(int *)((int)this + 0x4c) + 0x5c));
    }
    *(undefined4 *)((int)this + 0x74) = uVar3;
    local_8._0_1_ = 0;
    local_18 = 0xf;
    local_1c = 0;
    local_2c = local_2c & 0xffffff00;
    pcVar1 = "images\\hugecopter\\turret";
    do {
      pcVar5 = pcVar1;
      pcVar1 = pcVar5 + 1;
    } while (*pcVar5 != '\0');
    String_Assign(local_30,(_String_base *)"images\\hugecopter\\turret",(uint)(pcVar5 + -0x530bb8));
    local_8._0_1_ = 10;
    Sprite_GetHeight(*(void **)((int)this + 0x74),local_30,0x15,1);
    local_8._0_1_ = 0;
    if (0xf < local_18) {
                    /* WARNING: Subroutine does not return */
      System_ShutdownHandler(local_2c,extraout_EDX_02);
    }
    pvVar2 = operator_new(0x98);
    local_8._0_1_ = 0xb;
    if (pvVar2 == (void *)0x0) {
      puVar4 = (undefined4 *)0x0;
    }
    else {
      puVar4 = Timer_Pause(pvVar2,*(int *)((int)this + 0x4c),(int)this);
    }
    *(undefined4 **)((int)this + 0x84) = puVar4;
    puVar4[0x1e] = 0;
    puVar4[0x1f] = 0xc05e8000;
    iVar6 = *(int *)((int)this + 0x84);
    *(undefined4 *)(iVar6 + 0x80) = 0;
    local_8._0_1_ = 0;
    *(undefined4 *)(iVar6 + 0x84) = 0x40408000;
    iVar6 = *(int *)((int)this + 0x84);
    *(undefined4 *)(iVar6 + 0x28) = 0;
    *(undefined4 *)(iVar6 + 0x2c) = 0x40240000;
    iVar6 = *(int *)((int)this + 0x84);
    *(undefined4 *)(iVar6 + 0x88) = 0x9999999a;
    *(undefined4 *)(iVar6 + 0x8c) = 0xbfb99999;
    pvVar2 = operator_new(0x98);
    local_8._0_1_ = 0xc;
    if (pvVar2 == (void *)0x0) {
      puVar4 = (undefined4 *)0x0;
    }
    else {
      puVar4 = Timer_Pause(pvVar2,*(int *)((int)this + 0x4c),(int)this);
    }
    *(undefined4 **)((int)this + 0x88) = puVar4;
    puVar4[0x1e] = 0;
    puVar4[0x1f] = 0x405e8000;
    iVar6 = *(int *)((int)this + 0x88);
    *(undefined4 *)(iVar6 + 0x80) = 0;
    *(undefined4 *)(iVar6 + 0x84) = 0x40408000;
    iVar6 = *(int *)((int)this + 0x88);
    *(undefined4 *)(iVar6 + 0x28) = 0;
    *(undefined4 *)(iVar6 + 0x2c) = 0x40240000;
    iVar6 = *(int *)((int)this + 0x88);
    *(undefined4 *)(iVar6 + 0x88) = 0x9999999a;
    *(undefined4 *)(iVar6 + 0x8c) = 0x3fb99999;
  }
  local_8._0_1_ = 0;
  *(undefined4 *)((int)this + 0x28) = 0;
  *(undefined4 *)((int)this + 0x2c) = 0;
  *(undefined4 *)((int)this + 0xb8) = 0;
  *(undefined4 *)((int)this + 0xbc) = 0;
  *(undefined4 *)((int)this + 8) = 0;
  *(undefined4 *)((int)this + 0xc) = 0;
  iVar6 = Boss_ProcessEyebot((int)this);
  *(undefined4 *)((int)this + 0x18) = 0;
  *(undefined4 *)((int)this + 0x1c) = 0;
  *(undefined4 *)((int)this + 0x20) = 0;
  *(undefined4 *)((int)this + 0x24) = 0;
  *(undefined1 *)((int)this + 0x48) = 0;
  *(double *)((int)this + 0x10) = (double)-iVar6;
  piVar7 = (int *)(**(code **)(**(int **)(*(int *)((int)this + 0x50) + 0x438) + 0x1c))(0x54);
  *(int **)((int)this + 0xc0) = piVar7;
  if (piVar7 != (int *)0x0) {
    (**(code **)(*piVar7 + 0x14))(0,0);
    (**(code **)(**(int **)((int)this + 0xc0) + 0x1c))(1,1);
  }
  ExceptionList = local_10;
  return (undefined4 *)this;
}


