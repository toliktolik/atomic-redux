/*
 * Function: Graphics_TintRect
 * Address: 0046de40
 * Category: graphics
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


void __thiscall Graphics_TintRect(void *this,int *param_1,uint *param_2)

{
  uint uVar1;
  uint uVar2;
  uint uVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  uint uVar7;
  uint uVar8;
  undefined4 uVar9;
  undefined4 uVar10;
  uint uVar11;
  undefined4 uVar12;
  uint uVar13;
  char cVar14;
  uint uVar15;
  int iVar16;
  uint *puVar17;
  byte bVar18;
  int local_14;
  int local_10;
  int local_c;
  byte bVar19;
  byte bVar20;
  
  if (*(char *)((int)this + 0x50) == '\0') {
    SexyWidget_EnsureTexture((int *)this);
                    /* WARNING: Load size is inaccurate */
    cVar14 = (**(code **)(*this + 0x9c))();
    if (cVar14 != '\0') {
      uVar1 = *(uint *)((int)this + 0xb8);
      uVar2 = *(uint *)((int)this + 0xbc);
      uVar3 = *(uint *)((int)this + 0xb4);
      iVar16 = *(int *)((int)this + 0x48);
      iVar4 = *(int *)(iVar16 + 0x84);
      iVar5 = *(int *)(iVar16 + 0x88);
      iVar6 = *(int *)(iVar16 + 0x8c);
      bVar18 = (byte)*(undefined4 *)(iVar16 + 0x24);
      bVar19 = (byte)*(undefined4 *)(iVar16 + 0x20);
      bVar20 = (byte)*(undefined4 *)(iVar16 + 0x28);
      if (*(int *)((int)this + 0xb0) == 0x10) {
        uVar7 = param_2[3];
        uVar8 = *param_2;
        uVar9 = *(undefined4 *)(iVar16 + 0x14);
        uVar10 = *(undefined4 *)(iVar16 + 0x18);
        uVar11 = param_2[1];
        local_14 = 0;
        uVar12 = *(undefined4 *)(iVar16 + 0x1c);
        uVar13 = param_2[2];
        param_2 = (uint *)(*(int *)((int)this + 0x80) +
                          ((param_1[1] * *(int *)((int)this + 0x6c)) / 2 + *param_1) * 2);
        if (0 < param_1[3]) {
          iVar16 = param_1[2];
          do {
            local_10 = 0;
            puVar17 = param_2;
            if (0 < iVar16) {
              do {
                uVar15 = (uint)(ushort)*puVar17;
                *(short *)puVar17 =
                     *(short *)(iVar4 + (((uVar15 & uVar3) >> (bVar19 & 0x1f)) +
                                        ((int)(uVar8 * uVar7) / 0xff >> (8U - (char)uVar9 & 0x1f) &
                                        0xffffU)) * 4) << (bVar19 & 0x1f) |
                     *(short *)(iVar5 + (((uVar15 & uVar1) >> (bVar18 & 0x1f)) +
                                        ((int)(uVar11 * uVar7) / 0xff >> (8U - (char)uVar10 & 0x1f)
                                        & 0xffffU)) * 4) << (bVar18 & 0x1f) |
                     *(short *)(iVar6 + (((uVar15 & uVar2) >> (bVar20 & 0x1f)) +
                                        ((int)(uVar13 * uVar7) / 0xff >> (8U - (char)uVar12 & 0x1f)
                                        & 0xffffU)) * 4) << (bVar20 & 0x1f);
                iVar16 = param_1[2];
                local_10 = local_10 + 1;
                puVar17 = (uint *)((int)puVar17 + 2);
              } while (local_10 < iVar16);
            }
            param_2 = (uint *)((int)param_2 + (*(int *)((int)this + 0x6c) / 2) * 2);
            local_14 = local_14 + 1;
          } while (local_14 < param_1[3]);
                    /* WARNING: Load size is inaccurate */
          (**(code **)(*this + 0xa0))();
          return;
        }
      }
      else if (*(int *)((int)this + 0xb0) == 0x20) {
        uVar7 = param_2[3];
        uVar8 = *param_2;
        uVar9 = *(undefined4 *)(iVar16 + 0x14);
        uVar10 = *(undefined4 *)(iVar16 + 0x18);
        uVar11 = param_2[1];
        uVar12 = *(undefined4 *)(iVar16 + 0x1c);
        uVar13 = param_2[2];
        iVar16 = param_1[1] * *(int *)((int)this + 0x6c);
        param_2 = (uint *)(*(int *)((int)this + 0x80) +
                          (((int)(iVar16 + (iVar16 >> 0x1f & 3U)) >> 2) + *param_1) * 4);
        local_c = 0;
        if (0 < param_1[3]) {
          iVar16 = param_1[2];
          do {
            local_10 = 0;
            puVar17 = param_2;
            if (0 < iVar16) {
              do {
                uVar15 = *puVar17;
                *puVar17 = *(int *)(iVar6 + (((uVar15 & uVar2) >> (bVar20 & 0x1f)) +
                                            ((int)(uVar13 * uVar7) / 0xff >>
                                            (8U - (char)uVar12 & 0x1f))) * 4) << (bVar20 & 0x1f) |
                           *(int *)(iVar5 + (((uVar15 & uVar1) >> (bVar18 & 0x1f)) +
                                            ((int)(uVar11 * uVar7) / 0xff >>
                                            (8U - (char)uVar10 & 0x1f))) * 4) << (bVar18 & 0x1f) |
                           *(int *)(iVar4 + (((uVar15 & uVar3) >> (bVar19 & 0x1f)) +
                                            ((int)(uVar8 * uVar7) / 0xff >>
                                            (8U - (char)uVar9 & 0x1f))) * 4) << (bVar19 & 0x1f);
                iVar16 = param_1[2];
                puVar17 = puVar17 + 1;
                local_10 = local_10 + 1;
              } while (local_10 < iVar16);
            }
            param_2 = param_2 + ((int)(*(int *)((int)this + 0x6c) +
                                      (*(int *)((int)this + 0x6c) >> 0x1f & 3U)) >> 2);
            local_c = local_c + 1;
          } while (local_c < param_1[3]);
        }
      }
                    /* WARNING: Load size is inaccurate */
      (**(code **)(*this + 0xa0))();
    }
  }
  return;
}


