/*
 * Function: Particle_RenderSystem
 * Address: 0048dc10
 * Category: graphics
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


void __thiscall
Particle_RenderSystem
          (void *this,int *param_1,int *param_2,int *param_3,int *param_4,uint *param_5,int param_6,
          char param_7)

{
  char cVar1;
  int *piVar2;
  undefined4 uVar3;
  int *piVar4;
  int iVar5;
  int iVar6;
  uint uVar7;
  uint uVar8;
  undefined4 uVar9;
  undefined4 uVar10;
  byte bVar11;
  byte bVar12;
  byte bVar13;
  void *this_00;
  int iVar14;
  int iVar15;
  uint extraout_EDX;
  uint extraout_EDX_00;
  uint extraout_EDX_01;
  uint extraout_EDX_02;
  uint extraout_EDX_03;
  uint extraout_EDX_04;
  uint uVar16;
  uint extraout_EDX_05;
  uint extraout_EDX_06;
  uint extraout_EDX_07;
  uint extraout_EDX_08;
  uint extraout_EDX_09;
  uint extraout_EDX_10;
  uint extraout_EDX_11;
  uint extraout_EDX_12;
  uint extraout_EDX_13;
  uint extraout_EDX_14;
  uint extraout_EDX_15;
  uint extraout_EDX_16;
  uint extraout_EDX_17;
  uint extraout_EDX_18;
  uint extraout_EDX_19;
  uint extraout_EDX_20;
  undefined4 unaff_EBX;
  uint *puVar17;
  uint *puVar18;
  int unaff_ESI;
  ushort *puVar19;
  uint uVar20;
  uint unaff_EDI;
  undefined4 *puVar21;
  uint *puVar22;
  ulonglong uVar23;
  undefined8 uVar24;
  int iVar25;
  TypeDescriptor *pTVar26;
  TypeDescriptor *pTVar27;
  undefined1 *puVar28;
  byte *in_stack_fffffe94;
  undefined4 local_108 [18];
  int local_c0;
  int local_bc;
  int local_b8;
  int local_b4;
  undefined4 local_b0;
  undefined4 local_ac;
  undefined4 local_a8;
  undefined4 local_a4;
  int local_a0 [2];
  uint *local_98;
  uint *local_94;
  undefined8 local_90;
  undefined4 local_88;
  undefined4 uStack_84;
  undefined4 local_80;
  undefined4 uStack_7c;
  undefined4 local_78;
  undefined4 uStack_74;
  uint local_70;
  uint local_6c;
  uint local_68;
  int local_64;
  uint local_60;
  uint local_5c;
  uint local_58;
  uint *local_54;
  int local_50;
  int local_4c;
  uint *local_48;
  uint *local_44;
  uint *local_40;
  uint *local_3c;
  uint *local_38;
  uint local_34;
  int *local_30;
  uint *local_2c;
  uint local_28;
  uint *local_24;
  uint *local_20;
  uint *local_1c;
  uint *local_18;
  uint *local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_0051504b;
  local_10 = ExceptionList;
  pTVar27 = &Sexy::DDImage::RTTI_Type_Descriptor;
  pTVar26 = &Sexy::Image::RTTI_Type_Descriptor;
  iVar25 = 0;
  ExceptionList = &local_10;
  piVar4 = param_1;
  local_30 = (int *)this;
  uVar23 = Memory_ValidateHeap(this,(undefined1 *)param_1,0,0x566184,
                               &Sexy::DDImage::RTTI_Type_Descriptor,0,unaff_EDI,unaff_ESI,unaff_EBX,
                               in_stack_fffffe94);
  piVar2 = (int *)uVar23;
  uVar23 = Memory_ValidateHeap(this_00,(undefined1 *)param_1,0,0x566184,
                               &Sexy::MemoryImage::RTTI_Type_Descriptor,0,(uint)piVar4,iVar25,
                               pTVar26,(byte *)pTVar27);
  piVar4 = (int *)uVar23;
                    /* WARNING: Load size is inaccurate */
  (**(code **)(*this + 0x50))();
  uVar3 = Texture_IsReady((int)this);
  if ((char)uVar3 != '\0') {
    Player_HandleDamage(*(void **)(*(int *)((int)this + 0x48) + 0x30),param_1,param_2,param_3,
                        param_4,param_5,param_6,param_7,'\0');
    ExceptionList = local_10;
    return;
  }
  local_50 = 0;
  local_4c = 0;
  local_48 = (uint *)0x0;
  local_44 = (uint *)0x0;
  local_90._0_4_ = 0;
  local_90._4_4_ = 0;
  local_88 = 0;
  uStack_84 = 0;
  local_80 = 0;
  uStack_7c = 0;
  local_78 = 0;
  uStack_74 = 0;
  uVar3 = Graphics_UpdateAlphaBlend(param_3,param_4,param_2,(undefined4 *)&local_90,&local_50);
  if ((char)uVar3 != '\0') {
    if (param_7 == '\0') {
      if ((((*(char *)((int)this + 0x56) == '\0') && (*(char *)((int)this + 0x32) == '\0')) &&
          (*(char *)((int)this + 0x31) == '\0')) &&
         (*(char *)(*(int *)((int)this + 0x48) + 0x38) == '\0')) {
        SexyFramework_DrawWidget(local_108,*(int *)((int)this + 0x44));
        local_94 = local_44;
        local_8 = 0;
        local_a0[0] = 0;
        local_a0[1] = 0;
        local_98 = local_48;
        puVar22 = local_48;
        puVar18 = local_44;
        System_HandleShutdown6((int)local_108,extraout_EDX_19);
        Graphics_DrawImageTransformed(local_108,param_1,local_a0,(double *)&local_90);
                    /* WARNING: Load size is inaccurate */
        (**(code **)(*this + 0x1c))
                  (local_108,local_50,local_4c,local_a0,param_5,param_6,puVar22,puVar18);
        local_8 = 0xffffffff;
        SexyFramework_UpdateWidget(local_108);
        uVar7 = extraout_EDX_20;
        goto LAB_0048fbcd;
      }
      Memory_AllocateImageBuffer
                (this,(undefined1 *)param_1,param_2,param_3,param_4,(int *)param_5,param_6,'\0');
    }
    else {
      uVar7 = extraout_EDX;
      if (((piVar2 == (int *)0x0) ||
          (uVar3 = SexyWidget_ProcessTexture((int *)param_5,&DAT_005a2378), uVar7 = extraout_EDX_00,
          (char)uVar3 == '\0')) ||
         ((param_6 != 0 ||
          ((*(char *)((int)piVar2 + 0x32) != '\0' ||
           (iVar25 = SexyWidget_EnsureTexture(piVar2), uVar7 = extraout_EDX_01, iVar25 == 0)))))) {
        if (piVar4 == (int *)0x0) {
LAB_0048fbcd:
          System_HandleShutdown2((int)local_30,uVar7);
          ExceptionList = local_10;
          return;
        }
        (**(code **)(*piVar4 + 0x50))();
        piVar2 = local_30;
        iVar25 = (**(code **)(*piVar4 + 0x34))(local_30[0x12]);
        if (param_6 == 0) {
          if (piVar4[10] == 0) {
            cVar1 = (**(code **)(*piVar2 + 0x9c))();
            if (cVar1 != '\0') {
              uVar23 = Math_FloatToUInt64();
              param_6 = (int)uVar23;
              uVar23 = Math_FloatToUInt64();
              iVar5 = (int)uVar23;
              uVar23 = Math_FloatToUInt64();
              iVar6 = (int)uVar23;
              uVar3 = SexyWidget_ProcessTexture((int *)param_5,&DAT_005a2378);
              puVar22 = local_44;
              if ((char)uVar3 == '\0') {
                local_60 = param_5[3];
                local_3c = (uint *)((int)(*param_5 * local_60) / 0xff);
                local_40 = (uint *)((int)(param_5[1] * local_60) / 0xff);
                local_64 = (int)(param_5[2] * local_60) / 0xff;
                if (piVar2[0x2c] == 0x10) {
                  puVar18 = (uint *)piVar2[0x2e];
                  local_20 = (uint *)piVar2[0x2d];
                  local_54 = (uint *)(piVar2[0x20] + ((piVar2[0x1b] * local_4c) / 2 + local_50) * 2)
                  ;
                  uVar7 = piVar2[0x2f];
                  local_38 = puVar18;
                  if (0 < (int)local_44) {
                    uVar23 = Math_FloatToUInt64();
                    local_18 = puVar22;
                    do {
                      local_34 = iVar25 + (param_6 >> 0x10) * piVar4[1] * 4;
                      local_14 = local_54;
                      puVar22 = local_48;
                      local_1c = (uint *)(int)uVar23;
                      if (0 < (int)local_48) {
                        do {
                          local_24 = puVar22;
                          uVar8 = *(uint *)(local_34 + ((int)local_1c >> 0x10) * 4);
                          uVar20 = (uint)(ushort)*local_14;
                          uVar16 = ((uVar8 >> 0x18) * local_60) / 0xff;
                          if (uVar16 != 0) {
                            local_28 = 0x100 - uVar16;
                            local_2c = (uint *)((uVar8 & uVar7) * local_64 +
                                                (uVar20 & uVar7) * local_28 >> 8 & uVar7);
                            *(ushort *)local_14 =
                                 (short)local_2c +
                                 ((ushort)((uVar8 & (uint)puVar18) * (int)local_40 +
                                           (uVar20 & (uint)puVar18) * local_28 >> 8) &
                                 (ushort)local_38) +
                                 ((ushort)((uVar8 & (uint)local_20) * (int)local_3c +
                                           (uVar20 & (uint)local_20) * local_28 >> 8) &
                                 (ushort)local_20);
                            puVar18 = local_38;
                          }
                          local_14 = (uint *)((int)local_14 + 2);
                          local_1c = (uint *)((int)local_1c + iVar5);
                          puVar22 = (uint *)((int)local_24 + -1);
                        } while ((uint *)((int)local_24 + -1) != (uint *)0x0);
                        local_24 = (uint *)0x0;
                      }
                      local_54 = (uint *)((int)local_54 + (local_30[0x1b] / 2) * 2);
                      param_6 = param_6 + iVar6;
                      local_18 = (uint *)((int)local_18 + -1);
                    } while (local_18 != (uint *)0x0);
                    (**(code **)(*local_30 + 0xa0))();
                    System_HandleShutdown2((int)local_30,extraout_EDX_05);
                    ExceptionList = local_10;
                    return;
                  }
                }
                else if (piVar2[0x2c] == 0x20) {
                  puVar18 = (uint *)local_30[0x2f];
                  local_1c = (uint *)(local_30[0x20] +
                                     (((int)(local_30[0x1b] * local_4c +
                                            (local_30[0x1b] * local_4c >> 0x1f & 3U)) >> 2) +
                                     local_50) * 4);
                  local_38 = (uint *)local_30[0x2d];
                  local_24 = (uint *)local_30[0x2e];
                  local_18 = puVar18;
                  if (0 < (int)local_44) {
                    uVar23 = Math_FloatToUInt64();
                    local_20 = puVar22;
                    do {
                      local_34 = iVar25 + (param_6 >> 0x10) * piVar4[1] * 4;
                      local_14 = (uint *)uVar23;
                      if (0 < (int)local_48) {
                        local_54 = local_48;
                        puVar22 = local_1c;
                        do {
                          uVar7 = *(uint *)(local_34 + ((int)local_14 >> 0x10) * 4);
                          uVar8 = *puVar22;
                          uVar16 = ((uVar7 >> 0x18) * local_60) / 0xff;
                          if (uVar16 != 0) {
                            local_2c = (uint *)(0x100 - uVar16);
                            local_28 = ((uVar8 & (uint)puVar18) * (int)local_2c +
                                        (uVar7 & (uint)puVar18) * local_64 >> 8 & (uint)local_18) +
                                       ((uVar8 & (uint)local_24) * (int)local_2c +
                                        (uVar7 & (uint)local_24) * (int)local_40 >> 8 &
                                       (uint)local_24);
                            *puVar22 = local_28 +
                                       ((uVar8 & (uint)local_38) * (int)local_2c +
                                        (uVar7 & (uint)local_38) * (int)local_3c >> 8 &
                                       (uint)local_38);
                            puVar18 = local_18;
                          }
                          puVar22 = puVar22 + 1;
                          local_14 = (uint *)((int)local_14 + iVar5);
                          local_54 = (uint *)((int)local_54 + -1);
                        } while (local_54 != (uint *)0x0);
                      }
                      local_1c = local_1c +
                                 ((int)(local_30[0x1b] + (local_30[0x1b] >> 0x1f & 3U)) >> 2);
                      param_6 = param_6 + iVar6;
                      local_20 = (uint *)((int)local_20 + -1);
                    } while (local_20 != (uint *)0x0);
                  }
                }
              }
              else if (piVar2[0x2c] == 0x10) {
                puVar18 = (uint *)piVar2[0x2d];
                _param_7 = (uint *)(piVar2[0x20] + ((piVar2[0x1b] * local_4c) / 2 + local_50) * 2);
                local_28 = piVar2[0x2e];
                local_2c = (uint *)piVar2[0x2f];
                local_20 = puVar18;
                if (0 < (int)local_44) {
                  uVar23 = Math_FloatToUInt64();
                  local_14 = puVar22;
                  do {
                    local_34 = iVar25 + (param_6 >> 0x10) * piVar4[1] * 4;
                    local_24 = (uint *)(int)uVar23;
                    if (0 < (int)local_48) {
                      local_18 = local_48;
                      puVar19 = (ushort *)_param_7;
                      do {
                        local_38 = *(uint **)(local_34 + ((int)local_24 >> 0x10) * 4);
                        uVar7 = (uint)*puVar19;
                        if ((uint)local_38 >> 0x18 != 0) {
                          iVar14 = 0x100 - ((uint)local_38 >> 0x18);
                          local_38 = (uint *)(((uVar7 & (uint)puVar18) * iVar14 >> 8 & (uint)puVar18
                                              ) + (int)local_38);
                          *puVar19 = ((ushort)((uVar7 & (uint)local_2c) * iVar14 >> 8) &
                                     (ushort)local_2c) +
                                     (short)local_38 +
                                     ((ushort)((uVar7 & local_28) * iVar14 >> 8) & (ushort)local_28)
                          ;
                          puVar18 = local_20;
                        }
                        local_24 = (uint *)((int)local_24 + iVar5);
                        puVar19 = puVar19 + 1;
                        local_18 = (uint *)((int)local_18 + -1);
                      } while (local_18 != (uint *)0x0);
                      local_18 = (uint *)0x0;
                    }
                    _param_7 = (uint *)((int)_param_7 + (local_30[0x1b] / 2) * 2);
                    param_6 = param_6 + iVar6;
                    local_14 = (uint *)((int)local_14 + -1);
                  } while (local_14 != (uint *)0x0);
                  (**(code **)(*local_30 + 0xa0))();
                  System_HandleShutdown2((int)local_30,extraout_EDX_03);
                  ExceptionList = local_10;
                  return;
                }
              }
              else if (piVar2[0x2c] == 0x20) {
                puVar18 = (uint *)local_30[0x2e];
                puVar17 = (uint *)local_30[0x2f];
                _param_7 = (uint *)(local_30[0x20] +
                                   (((int)(local_30[0x1b] * local_4c +
                                          (local_30[0x1b] * local_4c >> 0x1f & 3U)) >> 2) + local_50
                                   ) * 4);
                local_38 = (uint *)local_30[0x2d];
                local_2c = puVar17;
                local_20 = puVar18;
                if (0 < (int)local_44) {
                  uVar23 = Math_FloatToUInt64();
                  local_14 = puVar22;
                  do {
                    local_34 = iVar25 + (param_6 >> 0x10) * piVar4[1] * 4;
                    local_24 = (uint *)(int)uVar23;
                    if (0 < (int)local_48) {
                      local_18 = local_48;
                      puVar22 = _param_7;
                      do {
                        uVar7 = *(uint *)(local_34 + ((int)local_24 >> 0x10) * 4);
                        uVar8 = *puVar22;
                        local_28 = uVar7;
                        if (uVar7 >> 0x18 != 0) {
                          iVar14 = 0x100 - (uVar7 >> 0x18);
                          local_28 = (uVar8 & (uint)puVar17) * iVar14 >> 8 & (uint)puVar17;
                          *puVar22 = ((uVar8 & (uint)local_38) * iVar14 >> 8 & (uint)local_38) +
                                     ((uVar8 & (uint)puVar18) * iVar14 >> 8 & (uint)puVar18) + uVar7
                                     + local_28;
                          puVar17 = local_2c;
                          puVar18 = local_20;
                        }
                        local_24 = (uint *)((int)local_24 + iVar5);
                        puVar22 = puVar22 + 1;
                        local_18 = (uint *)((int)local_18 + -1);
                      } while (local_18 != (uint *)0x0);
                    }
                    _param_7 = _param_7 +
                               ((int)(local_30[0x1b] + (local_30[0x1b] >> 0x1f & 3U)) >> 2);
                    param_6 = param_6 + iVar6;
                    local_14 = (uint *)((int)local_14 + -1);
                  } while (local_14 != (uint *)0x0);
                  (**(code **)(*local_30 + 0xa0))();
                  System_HandleShutdown2((int)local_30,extraout_EDX_04);
                  ExceptionList = local_10;
                  return;
                }
              }
              (**(code **)(*local_30 + 0xa0))();
              System_HandleShutdown2((int)local_30,extraout_EDX_06);
              ExceptionList = local_10;
              return;
            }
          }
          else {
            iVar5 = piVar4[0xb];
            cVar1 = (**(code **)(*piVar2 + 0x9c))();
            if (cVar1 != '\0') {
              uVar23 = Math_FloatToUInt64();
              param_6 = (int)uVar23;
              uVar23 = Math_FloatToUInt64();
              iVar6 = (int)uVar23;
              uVar23 = Math_FloatToUInt64();
              iVar14 = (int)uVar23;
              uVar3 = SexyWidget_ProcessTexture((int *)param_5,&DAT_005a2378);
              puVar22 = local_44;
              if ((char)uVar3 == '\0') {
                local_18 = (uint *)param_5[3];
                local_2c = (uint *)((int)(*param_5 * (int)local_18) / 0xff);
                local_64 = (int)(param_5[1] * (int)local_18) / 0xff;
                local_60 = (int)(param_5[2] * (int)local_18) / 0xff;
                if (piVar2[0x2c] == 0x10) {
                  uVar7 = piVar2[0x2f];
                  local_20 = (uint *)piVar2[0x2e];
                  puVar18 = (uint *)(piVar2[0x20] + ((piVar2[0x1b] * local_4c) / 2 + local_50) * 2);
                  local_38 = (uint *)piVar2[0x2d];
                  local_5c = uVar7;
                  local_40 = puVar18;
                  if (0 < (int)local_44) {
                    uVar23 = Math_FloatToUInt64();
                    local_24 = puVar22;
                    do {
                      local_34 = (param_6 >> 0x10) * piVar4[1] + iVar5;
                      puVar22 = puVar18;
                      puVar17 = local_48;
                      local_1c = (uint *)(int)uVar23;
                      local_14 = puVar18;
                      if (0 < (int)local_48) {
                        do {
                          local_3c = puVar17;
                          uVar8 = *(uint *)(iVar25 + (uint)*(byte *)(((int)local_1c >> 0x10) +
                                                                    local_34) * 4);
                          uVar16 = (uint)(ushort)*puVar18;
                          uVar20 = ((uVar8 >> 0x18) * (int)local_18) / 0xff;
                          if (uVar20 != 0) {
                            local_54 = (uint *)(0x100 - uVar20);
                            local_28 = ((uVar16 & uVar7) * (int)local_54 +
                                        (uVar8 & uVar7) * local_60 >> 8 & uVar7) +
                                       ((uVar16 & (uint)local_20) * (int)local_54 +
                                        (uVar8 & (uint)local_20) * local_64 >> 8 & (uint)local_20);
                            *(ushort *)puVar18 =
                                 (short)local_28 +
                                 ((ushort)((uVar16 & (uint)local_38) * (int)local_54 +
                                           (uVar8 & (uint)local_38) * (int)local_2c >> 8) &
                                 (ushort)local_38);
                            uVar7 = local_5c;
                          }
                          puVar18 = (uint *)((int)puVar18 + 2);
                          local_1c = (uint *)((int)local_1c + iVar6);
                          puVar17 = (uint *)((int)local_3c + -1);
                        } while ((uint *)((int)local_3c + -1) != (uint *)0x0);
                        local_3c = (uint *)0x0;
                        puVar22 = local_40;
                        local_14 = puVar18;
                      }
                      puVar18 = (uint *)((int)puVar22 + (local_30[0x1b] / 2) * 2);
                      param_6 = param_6 + iVar14;
                      local_24 = (uint *)((int)local_24 + -1);
                      local_40 = puVar18;
                    } while (local_24 != (uint *)0x0);
                    (**(code **)(*local_30 + 0xa0))();
                    System_HandleShutdown2((int)local_30,extraout_EDX_09);
                    ExceptionList = local_10;
                    return;
                  }
                }
                else if (piVar2[0x2c] == 0x20) {
                  puVar18 = (uint *)local_30[0x2f];
                  local_54 = (uint *)(local_30[0x20] +
                                     (((int)(local_30[0x1b] * local_4c +
                                            (local_30[0x1b] * local_4c >> 0x1f & 3U)) >> 2) +
                                     local_50) * 4);
                  local_28 = local_30[0x2d];
                  local_20 = (uint *)local_30[0x2e];
                  local_3c = puVar18;
                  if (0 < (int)local_44) {
                    uVar23 = Math_FloatToUInt64();
                    local_24 = puVar22;
                    do {
                      local_5c = (param_6 >> 0x10) * piVar4[1] + iVar5;
                      local_14 = local_54;
                      local_1c = (uint *)uVar23;
                      if (0 < (int)local_48) {
                        local_40 = local_48;
                        do {
                          uVar7 = *(uint *)(iVar25 + (uint)*(byte *)(((int)local_1c >> 0x10) +
                                                                    local_5c) * 4);
                          uVar8 = *local_14;
                          uVar16 = ((uVar7 >> 0x18) * (int)local_18) / 0xff;
                          if (uVar16 != 0) {
                            local_38 = (uint *)(0x100 - uVar16);
                            local_34 = ((uVar8 & (uint)puVar18) * (int)local_38 +
                                        (uVar7 & (uint)puVar18) * local_60 >> 8 & (uint)local_3c) +
                                       ((uVar8 & (uint)local_20) * (int)local_38 +
                                        (uVar7 & (uint)local_20) * local_64 >> 8 & (uint)local_20);
                            *local_14 = local_34 +
                                        ((uVar8 & local_28) * (int)local_38 +
                                         (uVar7 & local_28) * (int)local_2c >> 8 & local_28);
                            puVar18 = local_3c;
                          }
                          local_14 = local_14 + 1;
                          local_1c = (uint *)((int)local_1c + iVar6);
                          local_40 = (uint *)((int)local_40 + -1);
                        } while (local_40 != (uint *)0x0);
                      }
                      local_54 = local_54 +
                                 ((int)(local_30[0x1b] + (local_30[0x1b] >> 0x1f & 3U)) >> 2);
                      param_6 = param_6 + iVar14;
                      local_24 = (uint *)((int)local_24 + -1);
                    } while (local_24 != (uint *)0x0);
                  }
                }
              }
              else if (piVar2[0x2c] == 0x10) {
                puVar18 = (uint *)piVar2[0x2e];
                local_1c = (uint *)(piVar2[0x20] + ((piVar2[0x1b] * local_4c) / 2 + local_50) * 2);
                local_28 = piVar2[0x2d];
                puVar17 = (uint *)piVar2[0x2f];
                local_40 = puVar18;
                local_2c = puVar17;
                if (0 < (int)local_44) {
                  uVar23 = Math_FloatToUInt64();
                  local_3c = puVar22;
                  do {
                    local_38 = (uint *)((param_6 >> 0x10) * piVar4[1] + iVar5);
                    local_14 = (uint *)(int)uVar23;
                    if (0 < (int)local_48) {
                      local_20 = local_48;
                      puVar22 = local_1c;
                      do {
                        uVar7 = *(uint *)(iVar25 + (uint)*(byte *)(((int)local_14 >> 0x10) +
                                                                  (int)local_38) * 4);
                        uVar8 = (uint)(ushort)*puVar22;
                        local_34 = uVar7;
                        if (uVar7 >> 0x18 != 0) {
                          iVar15 = 0x100 - (uVar7 >> 0x18);
                          local_34 = (uVar8 & (uint)puVar17) * iVar15 >> 8 & (uint)puVar17;
                          *(ushort *)puVar22 =
                               ((ushort)((uVar8 & local_28) * iVar15 >> 8) & (ushort)local_28) +
                               ((ushort)((uVar8 & (uint)puVar18) * iVar15 >> 8) & (ushort)puVar18) +
                               (short)uVar7 + (short)local_34;
                          puVar17 = local_2c;
                          puVar18 = local_40;
                        }
                        local_14 = (uint *)((int)local_14 + iVar6);
                        puVar22 = (uint *)((int)puVar22 + 2);
                        local_20 = (uint *)((int)local_20 + -1);
                      } while (local_20 != (uint *)0x0);
                    }
                    local_1c = (uint *)((int)local_1c + (local_30[0x1b] / 2) * 2);
                    param_6 = param_6 + iVar14;
                    local_3c = (uint *)((int)local_3c + -1);
                  } while (local_3c != (uint *)0x0);
                  (**(code **)(*local_30 + 0xa0))();
                  System_HandleShutdown2((int)local_30,extraout_EDX_07);
                  ExceptionList = local_10;
                  return;
                }
              }
              else if (piVar2[0x2c] == 0x20) {
                puVar18 = (uint *)local_30[0x2e];
                puVar17 = (uint *)local_30[0x2f];
                local_1c = (uint *)(local_30[0x20] +
                                   (((int)(local_30[0x1b] * local_4c +
                                          (local_30[0x1b] * local_4c >> 0x1f & 3U)) >> 2) + local_50
                                   ) * 4);
                local_28 = local_30[0x2d];
                local_40 = puVar18;
                local_2c = puVar17;
                if (0 < (int)local_44) {
                  uVar23 = Math_FloatToUInt64();
                  local_3c = puVar22;
                  do {
                    local_38 = (uint *)((param_6 >> 0x10) * piVar4[1] + iVar5);
                    local_14 = (uint *)(int)uVar23;
                    if (0 < (int)local_48) {
                      local_20 = local_48;
                      puVar22 = local_1c;
                      do {
                        uVar7 = *(uint *)(iVar25 + (uint)*(byte *)(((int)local_14 >> 0x10) +
                                                                  (int)local_38) * 4);
                        uVar8 = *puVar22;
                        local_34 = uVar7;
                        if (uVar7 >> 0x18 != 0) {
                          iVar15 = 0x100 - (uVar7 >> 0x18);
                          local_34 = (uVar8 & (uint)puVar17) * iVar15 >> 8 & (uint)puVar17;
                          *puVar22 = ((uVar8 & local_28) * iVar15 >> 8 & local_28) +
                                     ((uVar8 & (uint)puVar18) * iVar15 >> 8 & (uint)puVar18) + uVar7
                                     + local_34;
                          puVar18 = local_40;
                          puVar17 = local_2c;
                        }
                        local_14 = (uint *)((int)local_14 + iVar6);
                        puVar22 = puVar22 + 1;
                        local_20 = (uint *)((int)local_20 + -1);
                      } while (local_20 != (uint *)0x0);
                    }
                    local_1c = local_1c +
                               ((int)(local_30[0x1b] + (local_30[0x1b] >> 0x1f & 3U)) >> 2);
                    param_6 = param_6 + iVar14;
                    local_3c = (uint *)((int)local_3c + -1);
                  } while (local_3c != (uint *)0x0);
                  (**(code **)(*local_30 + 0xa0))();
                  System_HandleShutdown2((int)local_30,extraout_EDX_08);
                  ExceptionList = local_10;
                  return;
                }
              }
              (**(code **)(*local_30 + 0xa0))();
              System_HandleShutdown2((int)local_30,extraout_EDX_10);
              ExceptionList = local_10;
              return;
            }
          }
        }
        else if (piVar4[10] == 0) {
          cVar1 = (**(code **)(*piVar2 + 0x9c))();
          if (cVar1 != '\0') {
            iVar5 = local_30[0x12];
            local_60 = *(int *)(iVar5 + 0x84);
            local_64 = *(int *)(iVar5 + 0x88);
            puVar22 = *(uint **)(iVar5 + 0x24);
            uVar3 = *(undefined4 *)(iVar5 + 0x28);
            uVar10 = *(undefined4 *)(iVar5 + 0x20);
            iVar5 = *(int *)(iVar5 + 0x8c);
            local_24 = puVar22;
            uVar23 = Math_FloatToUInt64();
            param_6 = (int)uVar23;
            uVar23 = Math_FloatToUInt64();
            iVar6 = (int)uVar23;
            uVar23 = Math_FloatToUInt64();
            local_54 = (uint *)uVar23;
            uVar9 = SexyWidget_ProcessTexture((int *)param_5,&DAT_005a2378);
            bVar13 = (byte)uVar10;
            bVar11 = (byte)uVar3;
            if ((char)uVar9 == '\0') {
              local_28 = (int)(*param_5 * param_5[3]) / 0xff;
              local_5c = param_5[3];
              local_38 = (uint *)((int)(param_5[1] * local_5c) / 0xff);
              local_40 = (uint *)((int)(param_5[2] * local_5c) / 0xff);
              if (local_30[0x2c] == 0x10) {
                uVar7 = local_30[0x2e];
                local_18 = (uint *)(local_30[0x20] +
                                   ((local_30[0x1b] * local_4c) / 2 + local_50) * 2);
                local_58 = local_30[0x2d];
                local_6c = local_30[0x2f];
                local_68 = uVar7;
                if (0 < (int)local_44) {
                  uVar23 = Math_FloatToUInt64();
                  local_3c = local_44;
                  do {
                    local_5c = iVar25 + (param_6 >> 0x10) * piVar4[1] * 4;
                    local_1c = local_18;
                    local_2c = (uint *)(int)uVar23;
                    if (0 < (int)local_48) {
                      local_20 = local_48;
                      do {
                        local_2c = (uint *)((int)local_2c + iVar6);
                        uVar8 = *(uint *)(local_5c + ((int)local_2c >> 0x10) * 4);
                        local_14 = (uint *)(uint)(ushort)*local_1c;
                        if (uVar8 != 0) {
                          bVar12 = (byte)puVar22;
                          *(short *)local_1c =
                               *(short *)(local_64 +
                                         ((((uVar8 & uVar7) >> (bVar12 & 0x1f)) * (int)local_38 >> 8
                                          ) + (((uint)local_14 & uVar7) >> (bVar12 & 0x1f))) * 4) <<
                               (bVar12 & 0x1f) |
                               *(short *)(local_60 +
                                         ((((uVar8 & local_58) >> (bVar13 & 0x1f)) * local_28 >> 8)
                                         + (((uint)local_14 & local_58) >> (bVar13 & 0x1f))) * 4) <<
                               (bVar13 & 0x1f) |
                               *(short *)(iVar5 + ((((uVar8 & local_6c) >> (bVar11 & 0x1f)) *
                                                    (int)local_40 >> 8) +
                                                  (((uint)local_14 & local_6c) >> (bVar11 & 0x1f)))
                                                  * 4) << (bVar11 & 0x1f);
                          uVar7 = local_68;
                          puVar22 = local_24;
                        }
                        local_1c = (uint *)((int)local_1c + 2);
                        local_20 = (uint *)((int)local_20 + -1);
                      } while (local_20 != (uint *)0x0);
                    }
                    local_18 = (uint *)((int)local_18 + (local_30[0x1b] / 2) * 2);
                    param_6 = param_6 + (int)local_54;
                    local_3c = (uint *)((int)local_3c + -1);
                  } while (local_3c != (uint *)0x0);
                  (**(code **)(*local_30 + 0xa0))();
                  System_HandleShutdown2((int)local_30,extraout_EDX_13);
                  ExceptionList = local_10;
                  return;
                }
              }
              else if (local_30[0x2c] == 0x20) {
                local_1c = (uint *)(local_30[0x20] +
                                   (((int)(local_30[0x1b] * local_4c +
                                          (local_30[0x1b] * local_4c >> 0x1f & 3U)) >> 2) + local_50
                                   ) * 4);
                local_34 = local_30[0x2d];
                local_5c = local_30[0x2e];
                local_6c = local_30[0x2f];
                if (0 < (int)local_44) {
                  uVar23 = Math_FloatToUInt64();
                  local_3c = local_44;
                  do {
                    local_68 = iVar25 + (param_6 >> 0x10) * piVar4[1] * 4;
                    local_14 = local_1c;
                    local_2c = (uint *)uVar23;
                    if (0 < (int)local_48) {
                      local_20 = local_48;
                      do {
                        local_2c = (uint *)((int)local_2c + iVar6);
                        uVar7 = *(uint *)(local_68 + ((int)local_2c >> 0x10) * 4);
                        local_18 = (uint *)*local_14;
                        if (uVar7 != 0) {
                          local_58 = *(int *)(iVar5 + ((((uVar7 & local_6c) >> (bVar11 & 0x1f)) *
                                                        (int)local_40 >> 8) +
                                                      (((uint)local_18 & local_6c) >>
                                                      (bVar11 & 0x1f))) * 4) << (bVar11 & 0x1f) |
                                     *(int *)(local_64 +
                                             ((((uVar7 & local_5c) >> ((byte)puVar22 & 0x1f)) *
                                               (int)local_38 >> 8) +
                                             (((uint)local_18 & local_5c) >> ((byte)local_24 & 0x1f)
                                             )) * 4) << ((byte)local_24 & 0x1f);
                          *local_14 = local_58 |
                                      *(int *)(local_60 +
                                              ((((uVar7 & local_34) >> (bVar13 & 0x1f)) * local_28
                                               >> 8) + (((uint)local_18 & local_34) >>
                                                       (bVar13 & 0x1f))) * 4) << (bVar13 & 0x1f);
                          puVar22 = local_24;
                        }
                        local_14 = local_14 + 1;
                        local_20 = (uint *)((int)local_20 + -1);
                      } while (local_20 != (uint *)0x0);
                    }
                    local_1c = local_1c +
                               ((int)(local_30[0x1b] + (local_30[0x1b] >> 0x1f & 3U)) >> 2);
                    param_6 = param_6 + (int)local_54;
                    local_3c = (uint *)((int)local_3c + -1);
                  } while (local_3c != (uint *)0x0);
                }
              }
            }
            else {
              bVar12 = (byte)puVar22;
              if (local_30[0x2c] == 0x10) {
                local_1c = (uint *)(local_30[0x20] +
                                   ((local_30[0x1b] * local_4c) / 2 + local_50) * 2);
                local_40 = (uint *)local_30[0x2d];
                local_28 = local_30[0x2e];
                local_34 = local_30[0x2f];
                if (0 < (int)local_44) {
                  uVar23 = Math_FloatToUInt64();
                  local_18 = local_44;
                  do {
                    local_5c = iVar25 + (param_6 >> 0x10) * piVar4[1] * 4;
                    local_14 = local_1c;
                    local_2c = (uint *)(int)uVar23;
                    if (0 < (int)local_48) {
                      local_24 = local_48;
                      do {
                        local_2c = (uint *)((int)local_2c + iVar6);
                        local_3c = *(uint **)(local_5c + ((int)local_2c >> 0x10) * 4);
                        local_20 = (uint *)(uint)(ushort)*local_14;
                        if (local_3c != (uint *)0x0) {
                          *(short *)local_14 =
                               *(short *)(iVar5 + (((uint)local_20 & local_34) +
                                                   ((uint)local_3c & local_34) >> (bVar11 & 0x1f)) *
                                                  4) << (bVar11 & 0x1f) |
                               *(short *)(local_64 +
                                         (((uint)local_20 & local_28) + ((uint)local_3c & local_28)
                                         >> (bVar12 & 0x1f)) * 4) << (bVar12 & 0x1f) |
                               *(short *)(local_60 +
                                         (((uint)local_20 & (uint)local_40) +
                                          ((uint)local_3c & (uint)local_40) >> (bVar13 & 0x1f)) * 4)
                               << (bVar13 & 0x1f);
                        }
                        local_14 = (uint *)((int)local_14 + 2);
                        local_24 = (uint *)((int)local_24 + -1);
                      } while (local_24 != (uint *)0x0);
                    }
                    local_1c = (uint *)((int)local_1c + (local_30[0x1b] / 2) * 2);
                    param_6 = param_6 + (int)local_54;
                    local_18 = (uint *)((int)local_18 + -1);
                  } while (local_18 != (uint *)0x0);
                  (**(code **)(*local_30 + 0xa0))();
                  System_HandleShutdown2((int)local_30,extraout_EDX_11);
                  ExceptionList = local_10;
                  return;
                }
              }
              else if (local_30[0x2c] == 0x20) {
                local_1c = (uint *)(local_30[0x20] +
                                   (((int)(local_30[0x1b] * local_4c +
                                          (local_30[0x1b] * local_4c >> 0x1f & 3U)) >> 2) + local_50
                                   ) * 4);
                local_40 = (uint *)local_30[0x2d];
                local_28 = local_30[0x2e];
                local_34 = local_30[0x2f];
                if (0 < (int)local_44) {
                  uVar23 = Math_FloatToUInt64();
                  local_18 = local_44;
                  do {
                    local_5c = iVar25 + (param_6 >> 0x10) * piVar4[1] * 4;
                    local_14 = local_1c;
                    local_2c = (uint *)(int)uVar23;
                    if (0 < (int)local_48) {
                      local_24 = local_48;
                      do {
                        local_2c = (uint *)((int)local_2c + iVar6);
                        local_3c = *(uint **)(local_5c + ((int)local_2c >> 0x10) * 4);
                        local_20 = (uint *)*local_14;
                        if (local_3c != (uint *)0x0) {
                          *local_14 = *(int *)(iVar5 + (((uint)local_20 & local_34) +
                                                        ((uint)local_3c & local_34) >>
                                                       (bVar11 & 0x1f)) * 4) << (bVar11 & 0x1f) |
                                      *(int *)(local_64 +
                                              (((uint)local_20 & local_28) +
                                               ((uint)local_3c & local_28) >> (bVar12 & 0x1f)) * 4)
                                      << (bVar12 & 0x1f) |
                                      *(int *)(local_60 +
                                              (((uint)local_20 & (uint)local_40) +
                                               ((uint)local_3c & (uint)local_40) >> (bVar13 & 0x1f))
                                              * 4) << (bVar13 & 0x1f);
                        }
                        local_14 = local_14 + 1;
                        local_24 = (uint *)((int)local_24 + -1);
                      } while (local_24 != (uint *)0x0);
                    }
                    local_1c = local_1c +
                               ((int)(local_30[0x1b] + (local_30[0x1b] >> 0x1f & 3U)) >> 2);
                    param_6 = param_6 + (int)local_54;
                    local_18 = (uint *)((int)local_18 + -1);
                  } while (local_18 != (uint *)0x0);
                  (**(code **)(*local_30 + 0xa0))();
                  System_HandleShutdown2((int)local_30,extraout_EDX_12);
                  ExceptionList = local_10;
                  return;
                }
              }
            }
            (**(code **)(*local_30 + 0xa0))();
            System_HandleShutdown2((int)local_30,extraout_EDX_14);
            ExceptionList = local_10;
            return;
          }
        }
        else {
          iVar5 = piVar4[0xb];
          cVar1 = (**(code **)(*piVar2 + 0x9c))();
          piVar2 = local_30;
          if (cVar1 != '\0') {
            iVar6 = local_30[0x12];
            local_1c = *(uint **)(iVar6 + 0x84);
            local_60 = *(int *)(iVar6 + 0x88);
            puVar22 = *(uint **)(iVar6 + 0x28);
            local_54 = *(uint **)(iVar6 + 0x8c);
            local_64 = *(undefined4 *)(iVar6 + 0x20);
            uVar3 = *(undefined4 *)(iVar6 + 0x24);
            local_20 = puVar22;
            uVar23 = Math_FloatToUInt64();
            param_6 = (int)uVar23;
            uVar23 = Math_FloatToUInt64();
            iVar6 = (int)uVar23;
            uVar23 = Math_FloatToUInt64();
            local_14 = (uint *)uVar23;
            uVar10 = SexyWidget_ProcessTexture((int *)param_5,&DAT_005a2378);
            puVar18 = local_44;
            bVar13 = (byte)puVar22;
            bVar11 = (byte)uVar3;
            if ((char)uVar10 == '\0') {
              uVar7 = param_5[3];
              local_34 = (int)(*param_5 * uVar7) / 0xff;
              local_40 = (uint *)((int)(param_5[1] * uVar7) / 0xff);
              local_3c = (uint *)((int)(param_5[2] * uVar7) / 0xff);
              if (piVar2[0x2c] == 0x10) {
                uVar7 = piVar2[0x2f];
                local_18 = (uint *)(piVar2[0x20] + ((piVar2[0x1b] * local_4c) / 2 + local_50) * 2);
                local_6c = piVar2[0x2d];
                local_38 = (uint *)piVar2[0x2e];
                local_70 = uVar7;
                if (0 < (int)local_44) {
                  uVar23 = Math_FloatToUInt64();
                  local_20 = puVar18;
                  do {
                    local_5c = (param_6 >> 0x10) * piVar4[1] + iVar5;
                    local_24 = local_18;
                    local_28 = (int)uVar23;
                    if (0 < (int)local_48) {
                      local_2c = local_48;
                      do {
                        local_28 = local_28 + iVar6;
                        uVar8 = *(uint *)(iVar25 + (uint)*(byte *)(((int)local_28 >> 0x10) +
                                                                  local_5c) * 4);
                        local_58 = (uint)(ushort)*local_24;
                        if (uVar8 != 0) {
                          bVar12 = (byte)local_64;
                          *(short *)local_24 =
                               *(short *)((int)local_54 +
                                         ((((uVar8 & uVar7) >> (bVar13 & 0x1f)) * (int)local_3c >> 8
                                          ) + ((local_58 & uVar7) >> (bVar13 & 0x1f))) * 4) <<
                               (bVar13 & 0x1f) |
                               *(short *)(local_60 +
                                         ((((uVar8 & (uint)local_38) >> (bVar11 & 0x1f)) *
                                           (int)local_40 >> 8) +
                                         ((local_58 & (uint)local_38) >> (bVar11 & 0x1f))) * 4) <<
                               (bVar11 & 0x1f) |
                               *(short *)((int)local_1c +
                                         ((((uVar8 & local_6c) >> (bVar12 & 0x1f)) * local_34 >> 8)
                                         + ((local_58 & local_6c) >> (bVar12 & 0x1f))) * 4) <<
                               (bVar12 & 0x1f);
                          uVar7 = local_70;
                        }
                        local_24 = (uint *)((int)local_24 + 2);
                        local_2c = (uint *)((int)local_2c + -1);
                      } while (local_2c != (uint *)0x0);
                    }
                    local_18 = (uint *)((int)local_18 + (local_30[0x1b] / 2) * 2);
                    param_6 = param_6 + (int)local_14;
                    local_20 = (uint *)((int)local_20 + -1);
                  } while (local_20 != (uint *)0x0);
                  (**(code **)(*local_30 + 0xa0))();
                  System_HandleShutdown2((int)local_30,extraout_EDX_17);
                  ExceptionList = local_10;
                  return;
                }
              }
              else if (piVar2[0x2c] == 0x20) {
                uVar7 = local_30[0x2f];
                local_18 = (uint *)(local_30[0x20] +
                                   (((int)(local_30[0x1b] * local_4c +
                                          (local_30[0x1b] * local_4c >> 0x1f & 3U)) >> 2) + local_50
                                   ) * 4);
                local_6c = local_30[0x2d];
                local_68 = local_30[0x2e];
                local_5c = uVar7;
                if (0 < (int)local_44) {
                  uVar23 = Math_FloatToUInt64();
                  local_2c = puVar18;
                  do {
                    local_58 = (param_6 >> 0x10) * piVar4[1] + iVar5;
                    local_24 = local_18;
                    local_28 = (uint)uVar23;
                    if (0 < (int)local_48) {
                      local_38 = local_48;
                      do {
                        local_28 = local_28 + iVar6;
                        uVar8 = *(uint *)(iVar25 + (uint)*(byte *)(((int)local_28 >> 0x10) +
                                                                  local_58) * 4);
                        uVar16 = *local_24;
                        if (uVar8 != 0) {
                          bVar13 = (byte)puVar22;
                          bVar12 = (byte)local_64;
                          *local_24 = *(int *)((int)local_54 +
                                              ((((uVar8 & uVar7) >> (bVar13 & 0x1f)) * (int)local_3c
                                               >> 8) + ((uVar16 & uVar7) >> (bVar13 & 0x1f))) * 4)
                                      << (bVar13 & 0x1f) |
                                      *(int *)(local_60 +
                                              ((((uVar8 & local_68) >> (bVar11 & 0x1f)) *
                                                (int)local_40 >> 8) +
                                              ((uVar16 & local_68) >> (bVar11 & 0x1f))) * 4) <<
                                      (bVar11 & 0x1f) |
                                      *(int *)((int)local_1c +
                                              ((((uVar8 & local_6c) >> (bVar12 & 0x1f)) * local_34
                                               >> 8) + ((uVar16 & local_6c) >> (bVar12 & 0x1f))) * 4
                                              ) << (bVar12 & 0x1f);
                          puVar22 = local_20;
                          uVar7 = local_5c;
                        }
                        local_24 = local_24 + 1;
                        local_38 = (uint *)((int)local_38 + -1);
                      } while (local_38 != (uint *)0x0);
                    }
                    local_18 = local_18 +
                               ((int)(local_30[0x1b] + (local_30[0x1b] >> 0x1f & 3U)) >> 2);
                    param_6 = param_6 + (int)local_14;
                    local_2c = (uint *)((int)local_2c + -1);
                  } while (local_2c != (uint *)0x0);
                }
              }
            }
            else if (piVar2[0x2c] == 0x10) {
              uVar7 = piVar2[0x2f];
              local_68 = piVar2[0x2d];
              local_18 = (uint *)(piVar2[0x20] + ((piVar2[0x1b] * local_4c) / 2 + local_50) * 2);
              local_38 = (uint *)piVar2[0x2e];
              local_58 = uVar7;
              if (0 < (int)local_44) {
                uVar23 = Math_FloatToUInt64();
                local_20 = puVar18;
                do {
                  local_6c = (param_6 >> 0x10) * piVar4[1] + iVar5;
                  local_24 = local_18;
                  local_28 = (int)uVar23;
                  if (0 < (int)local_48) {
                    local_2c = local_48;
                    do {
                      local_28 = local_28 + iVar6;
                      uVar8 = *(uint *)(iVar25 + (uint)*(byte *)(((int)local_28 >> 0x10) + local_6c)
                                                 * 4);
                      uVar16 = (uint)(ushort)*local_24;
                      if (uVar8 != 0) {
                        *(short *)local_24 =
                             *(short *)((int)local_54 +
                                       ((uVar16 & uVar7) + (uVar8 & uVar7) >> (bVar13 & 0x1f)) * 4)
                             << (bVar13 & 0x1f) |
                             *(short *)(local_60 +
                                       ((uVar16 & (uint)local_38) + (uVar8 & (uint)local_38) >>
                                       (bVar11 & 0x1f)) * 4) << (bVar11 & 0x1f) |
                             *(short *)((int)local_1c +
                                       ((uVar16 & local_68) + (uVar8 & local_68) >>
                                       ((byte)local_64 & 0x1f)) * 4) << ((byte)local_64 & 0x1f);
                        uVar7 = local_58;
                      }
                      local_24 = (uint *)((int)local_24 + 2);
                      local_2c = (uint *)((int)local_2c + -1);
                    } while (local_2c != (uint *)0x0);
                  }
                  local_18 = (uint *)((int)local_18 + (local_30[0x1b] / 2) * 2);
                  param_6 = param_6 + (int)local_14;
                  local_20 = (uint *)((int)local_20 + -1);
                } while (local_20 != (uint *)0x0);
                (**(code **)(*local_30 + 0xa0))();
                System_HandleShutdown2((int)local_30,extraout_EDX_15);
                ExceptionList = local_10;
                return;
              }
            }
            else if (piVar2[0x2c] == 0x20) {
              uVar7 = local_30[0x2f];
              local_18 = (uint *)(local_30[0x20] +
                                 (((int)(local_30[0x1b] * local_4c +
                                        (local_30[0x1b] * local_4c >> 0x1f & 3U)) >> 2) + local_50)
                                 * 4);
              local_68 = local_30[0x2d];
              local_38 = (uint *)local_30[0x2e];
              local_58 = uVar7;
              if (0 < (int)local_44) {
                uVar23 = Math_FloatToUInt64();
                local_20 = puVar18;
                do {
                  local_6c = (param_6 >> 0x10) * piVar4[1] + iVar5;
                  local_24 = local_18;
                  local_28 = (int)uVar23;
                  if (0 < (int)local_48) {
                    local_2c = local_48;
                    do {
                      local_28 = local_28 + iVar6;
                      uVar8 = *(uint *)(iVar25 + (uint)*(byte *)(((int)local_28 >> 0x10) + local_6c)
                                                 * 4);
                      uVar16 = *local_24;
                      if (uVar8 != 0) {
                        *local_24 = *(int *)((int)local_54 +
                                            ((uVar16 & uVar7) + (uVar8 & uVar7) >> (bVar13 & 0x1f))
                                            * 4) << (bVar13 & 0x1f) |
                                    *(int *)(local_60 +
                                            ((uVar16 & (uint)local_38) + (uVar8 & (uint)local_38) >>
                                            (bVar11 & 0x1f)) * 4) << (bVar11 & 0x1f) |
                                    *(int *)((int)local_1c +
                                            ((uVar16 & local_68) + (uVar8 & local_68) >>
                                            ((byte)local_64 & 0x1f)) * 4) << ((byte)local_64 & 0x1f)
                        ;
                        uVar7 = local_58;
                      }
                      local_24 = local_24 + 1;
                      local_2c = (uint *)((int)local_2c + -1);
                    } while (local_2c != (uint *)0x0);
                  }
                  local_18 = local_18 + ((int)(local_30[0x1b] + (local_30[0x1b] >> 0x1f & 3U)) >> 2)
                  ;
                  param_6 = param_6 + (int)local_14;
                  local_20 = (uint *)((int)local_20 + -1);
                } while (local_20 != (uint *)0x0);
                (**(code **)(*local_30 + 0xa0))();
                System_HandleShutdown2((int)local_30,extraout_EDX_16);
                ExceptionList = local_10;
                return;
              }
            }
            (**(code **)(*local_30 + 0xa0))();
            System_HandleShutdown2((int)local_30,extraout_EDX_18);
            ExceptionList = local_10;
            return;
          }
        }
      }
      else {
        SexyWidget_EnsureTexture(piVar2);
        SexyWidget_EnsureTexture((int *)this);
        puVar21 = (undefined4 *)&stack0xfffffe94;
        for (iVar25 = 0x19; iVar25 != 0; iVar25 = iVar25 + -1) {
          *puVar21 = 0;
          puVar21 = puVar21 + 1;
        }
        param_5 = (uint *)0x1000000;
        if (*(char *)((int)piVar2 + 0x31) != '\0') {
          param_5 = (uint *)0x1008000;
        }
        local_b8 = (int)local_48 + local_50;
        local_c0 = local_50;
        local_b4 = (int)local_44 + local_4c;
        local_bc = local_4c;
        uVar23 = Math_FloatToUInt64();
        local_b0 = (undefined4)uVar23;
        uVar23 = Math_FloatToUInt64();
        local_ac = (undefined4)uVar23;
        uVar23 = Math_FloatToUInt64();
        local_a8 = (undefined4)uVar23;
        uVar23 = Math_FloatToUInt64();
        local_a4 = (undefined4)uVar23;
        if (0 < *(int *)((int)this + 0x58)) {
          (**(code **)(**(int **)((int)this + 0x4c) + 0x80))(*(int **)((int)this + 0x4c),0);
        }
        piVar4 = (int *)SexyWidget_EnsureTexture((int *)this);
        puVar28 = &stack0xfffffe94;
        iVar25 = *piVar4;
        puVar21 = &local_b0;
        iVar5 = SexyWidget_EnsureTexture(piVar2);
        (**(code **)(iVar25 + 0x14))(piVar4,&local_c0,iVar5,puVar21,param_5,puVar28);
        uVar7 = extraout_EDX_02;
        if (*(int *)((int)this + 0x58) < 1) goto LAB_0048fbcd;
        uVar24 = (**(code **)(*(int *)local_30[0x13] + 100))
                           ((int *)local_30[0x13],0,local_30 + 0x17,1,0);
        if ((int)uVar24 == 0) {
          System_HandleShutdown2((int)local_30,(uint)((ulonglong)uVar24 >> 0x20));
          ExceptionList = local_10;
          return;
        }
      }
    }
  }
  ExceptionList = local_10;
  return;
}


