/*
 * Function: Render_AllocateShaderBuffers
 * Address: 004dcfe0
 * Category: graphics
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


void __cdecl Render_AllocateShaderBuffers(int *param_1,char param_2)

{
  int *piVar1;
  int *piVar2;
  undefined4 *puVar3;
  int iVar4;
  undefined4 uVar5;
  int *piVar6;
  
  piVar2 = param_1;
  puVar3 = (undefined4 *)(**(code **)param_1[1])(param_1,1,0x50);
  param_1[0x61] = (int)puVar3;
  *puVar3 = Render_InitializeShaderContext;
  if (param_2 != '\0') {
    *(undefined4 *)(*param_1 + 0x14) = 4;
    (**(code **)*param_1)(param_1);
  }
  if (*(char *)(param_1[0x68] + 8) == '\0') {
    iVar4 = param_1[0x46];
  }
  else {
    if (param_1[0x46] < 2) {
      *(undefined4 *)(*param_1 + 0x14) = 0x2f;
      (**(code **)*param_1)(param_1);
    }
    Image_AllocateLinebuffers();
    iVar4 = param_1[0x46] + 2;
  }
  piVar6 = param_1 + 9;
  piVar1 = param_1 + 0x31;
  param_1 = (int *)0x0;
  if (0 < *piVar6) {
    piVar6 = (int *)(*piVar1 + 0x24);
    puVar3 = puVar3 + 2;
    do {
      uVar5 = (**(code **)(piVar2[1] + 8))
                        (piVar2,1,piVar6[-2] * *piVar6,
                         ((piVar6[-6] * *piVar6) / piVar2[0x46]) * iVar4);
      *puVar3 = uVar5;
      param_1 = (int *)((int)param_1 + 1);
      puVar3 = puVar3 + 1;
      piVar6 = piVar6 + 0x15;
    } while ((int)param_1 < piVar2[9]);
  }
  return;
}


