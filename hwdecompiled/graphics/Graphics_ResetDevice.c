/*
 * Function: Graphics_ResetDevice
 * Address: 004e4460
 * Category: graphics
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


void __thiscall Graphics_ResetDevice(void *this,int param_1,int param_2,int param_3)

{
  longlong lVar1;
  int iVar2;
  int in_EAX;
  int iVar3;
  int *piVar4;
  int iVar5;
  int iVar6;
  uint uVar7;
  uint uVar8;
  int iVar9;
  int local_8;
  
  uVar8 = in_EAX - param_2;
  iVar9 = param_1 - (int)this;
  iVar3 = (int)uVar8 / iVar9;
  iVar6 = iVar3 + -1;
  if (-1 < (int)uVar8) {
    iVar6 = iVar3 + 1;
  }
  uVar7 = iVar3 * iVar9 >> 0x1f;
  piVar4 = (int *)(&DAT_00543b40 + param_2 * 4);
  lVar1 = (longlong)*(int *)(param_3 + (int)this * 4) * (longlong)*piVar4;
  *(uint *)(param_3 + (int)this * 4) = (uint)lVar1 >> 0xf | (int)((ulonglong)lVar1 >> 0x20) << 0x11;
  local_8 = 0;
  for (iVar5 = (int)this + 1; iVar5 < param_1; iVar5 = iVar5 + 1) {
    local_8 = local_8 + (((uVar8 ^ (int)uVar8 >> 0x1f) - ((int)uVar8 >> 0x1f)) -
                        ((iVar3 * iVar9 ^ uVar7) - uVar7));
    iVar2 = iVar3;
    if (iVar9 <= local_8) {
      local_8 = local_8 - iVar9;
      iVar2 = iVar6;
    }
    piVar4 = piVar4 + iVar2;
    lVar1 = (longlong)*piVar4 * (longlong)*(int *)(param_3 + iVar5 * 4);
    *(uint *)(param_3 + iVar5 * 4) = (uint)lVar1 >> 0xf | (int)((ulonglong)lVar1 >> 0x20) << 0x11;
  }
  return;
}


