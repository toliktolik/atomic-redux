/*
 * Function: Graphics_BlendImage
 * Address: 004729c0
 * Category: graphics
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


void __thiscall
Graphics_BlendImage(void *this,undefined1 *param_1,int param_2,uint *param_3,int *param_4,
                   int *param_5)

{
  uint uVar1;
  uint uVar2;
  int *piVar3;
  int iVar4;
  int iVar5;
  undefined4 uVar6;
  uint *puVar7;
  int iVar8;
  int iVar9;
  uint *puVar10;
  int iVar11;
  byte *pbVar12;
  byte *pbVar13;
  int unaff_ESI;
  int iVar14;
  uint unaff_EDI;
  uint uVar15;
  ulonglong uVar16;
  undefined4 in_stack_ffffffd8;
  byte *in_stack_ffffffdc;
  int iVar17;
  int local_20;
  int local_1c;
  int local_18;
  int local_14;
  int local_10;
  int local_c;
  
  uVar16 = Memory_ValidateHeap(this,param_1,0,0x566184,&Sexy::MemoryImage::RTTI_Type_Descriptor,0,
                               unaff_EDI,unaff_ESI,in_stack_ffffffd8,in_stack_ffffffdc);
  piVar3 = (int *)uVar16;
  iVar14 = *(int *)((int)this + 0x44) + 0xd9;
  if (piVar3 != (int *)0x0) {
    iVar4 = piVar3[10];
    if (iVar4 == 0) {
      iVar4 = (**(code **)(*piVar3 + 100))();
                    /* WARNING: Load size is inaccurate */
      iVar5 = (**(code **)(*this + 100))();
      puVar10 = (uint *)(iVar5 + (*(int *)((int)this + 4) * (int)param_3 + param_2) * 4);
      param_3 = (uint *)(iVar4 + (param_4[1] * *(int *)(param_1 + 4) + *param_4) * 4);
      uVar6 = SexyWidget_ProcessTexture(param_5,&DAT_005a2378);
      if ((char)uVar6 == '\0') {
        iVar4 = (*param_5 * param_5[3]) / 0xff;
        iVar5 = (param_5[1] * param_5[3]) / 0xff;
        iVar9 = (param_5[2] * param_5[3]) / 0xff;
        if (*(char *)((int)piVar3 + 0x32) == '\0') {
          local_10 = 0;
          if (0 < param_4[3]) {
            iVar8 = param_4[2];
            do {
              local_14 = 0;
              if (0 < iVar8) {
                puVar7 = puVar10;
                do {
                  uVar1 = *(uint *)(((int)param_3 - (int)puVar10) + (int)puVar7);
                  uVar2 = *puVar7;
                  *puVar7 = (uint)CONCAT21(CONCAT11(*(undefined1 *)
                                                     ((((uVar1 & 0xff0000) * iVar4 >> 8) +
                                                       (uVar2 & 0xff0000) >> 0x10) + iVar14),
                                                    *(undefined1 *)
                                                     ((((uVar1 & 0xff00) * iVar5 >> 8) +
                                                       (uVar2 & 0xff00) >> 8) + iVar14)),
                                           *(undefined1 *)
                                            ((uVar2 & 0xff) + iVar14 + ((uVar1 & 0xff) * iVar9 >> 8)
                                            )) | uVar2 & 0xff000000;
                  iVar8 = param_4[2];
                  puVar7 = puVar7 + 1;
                  local_14 = local_14 + 1;
                } while (local_14 < iVar8);
              }
              puVar10 = puVar10 + *(int *)((int)this + 4);
              param_3 = param_3 + *(int *)(param_1 + 4);
              local_10 = local_10 + 1;
            } while (local_10 < param_4[3]);
                    /* WARNING: Load size is inaccurate */
            (**(code **)(*this + 0x4c))();
            return;
          }
        }
        else {
          local_18 = 0;
          if (0 < param_4[3]) {
            iVar8 = param_4[2];
            do {
              local_c = 0;
              if (0 < iVar8) {
                puVar7 = puVar10;
                do {
                  uVar1 = *(uint *)(((int)param_3 - (int)puVar10) + (int)puVar7);
                  uVar2 = *puVar7;
                  uVar15 = uVar1 >> 0x18;
                  *puVar7 = (uint)CONCAT21(CONCAT11(*(undefined1 *)
                                                     (((((uVar1 & 0xff0000) * iVar4 >> 8) * uVar15
                                                       >> 8) + (uVar2 & 0xff0000) >> 0x10) + iVar14)
                                                    ,*(undefined1 *)
                                                      (((((uVar1 & 0xff00) * iVar5 >> 8) * uVar15 >>
                                                        8) + (uVar2 & 0xff00) >> 8) + iVar14)),
                                           *(undefined1 *)
                                            ((uVar2 & 0xff) +
                                            iVar14 + (((uVar1 & 0xff) * iVar9 >> 8) * uVar15 >> 8)))
                            | uVar2 & 0xff000000;
                  iVar8 = param_4[2];
                  puVar7 = puVar7 + 1;
                  local_c = local_c + 1;
                } while (local_c < iVar8);
              }
              puVar10 = puVar10 + *(int *)((int)this + 4);
              param_3 = param_3 + *(int *)(param_1 + 4);
              local_18 = local_18 + 1;
            } while (local_18 < param_4[3]);
                    /* WARNING: Load size is inaccurate */
            (**(code **)(*this + 0x4c))();
            return;
          }
        }
      }
      else if (*(char *)((int)piVar3 + 0x32) == '\0') {
        local_c = 0;
        if (0 < param_4[3]) {
          iVar4 = param_4[2];
          do {
            local_10 = 0;
            if (0 < iVar4) {
              puVar7 = puVar10;
              do {
                uVar1 = *(uint *)(((int)param_3 - (int)puVar10) + (int)puVar7);
                uVar2 = *puVar7;
                *puVar7 = (uint)CONCAT21(CONCAT11(*(undefined1 *)
                                                   (((uVar2 & 0xff0000) + (uVar1 & 0xff0000) >> 0x10
                                                    ) + iVar14),
                                                  *(undefined1 *)
                                                   (((uVar2 & 0xff00) + (uVar1 & 0xff00) >> 8) +
                                                   iVar14)),
                                         *(undefined1 *)((uVar1 & 0xff) + iVar14 + (uVar2 & 0xff)))
                          | uVar2 & 0xff000000;
                iVar4 = param_4[2];
                puVar7 = puVar7 + 1;
                local_10 = local_10 + 1;
              } while (local_10 < iVar4);
            }
            puVar10 = puVar10 + *(int *)((int)this + 4);
            param_3 = param_3 + *(int *)(param_1 + 4);
            local_c = local_c + 1;
          } while (local_c < param_4[3]);
                    /* WARNING: Load size is inaccurate */
          (**(code **)(*this + 0x4c))();
          return;
        }
      }
      else {
        local_14 = 0;
        if (0 < param_4[3]) {
          iVar4 = param_4[2];
          do {
            local_c = 0;
            if (0 < iVar4) {
              puVar7 = puVar10;
              do {
                uVar1 = *(uint *)(((int)param_3 - (int)puVar10) + (int)puVar7);
                uVar2 = *puVar7;
                uVar15 = uVar1 >> 0x18;
                *puVar7 = (uint)CONCAT21(CONCAT11(*(undefined1 *)
                                                   ((((uVar1 & 0xff0000) * uVar15 >> 8) +
                                                     (uVar2 & 0xff0000) >> 0x10) + iVar14),
                                                  *(undefined1 *)
                                                   ((((uVar1 & 0xff00) * uVar15 >> 8) +
                                                     (uVar2 & 0xff00) >> 8) + iVar14)),
                                         *(undefined1 *)
                                          ((uVar2 & 0xff) + iVar14 + ((uVar1 & 0xff) * uVar15 >> 8))
                                        ) | uVar2 & 0xff000000;
                iVar4 = param_4[2];
                puVar7 = puVar7 + 1;
                local_c = local_c + 1;
              } while (local_c < iVar4);
            }
            puVar10 = puVar10 + *(int *)((int)this + 4);
            param_3 = param_3 + *(int *)(param_1 + 4);
            local_14 = local_14 + 1;
          } while (local_14 < param_4[3]);
                    /* WARNING: Load size is inaccurate */
          (**(code **)(*this + 0x4c))();
          return;
        }
      }
    }
    else {
      iVar5 = piVar3[0xb];
                    /* WARNING: Load size is inaccurate */
      iVar9 = (**(code **)(*this + 100))();
      param_3 = (uint *)(iVar9 + (*(int *)((int)this + 4) * (int)param_3 + param_2) * 4);
      pbVar12 = (byte *)(param_4[1] * *(int *)(param_1 + 4) + *param_4 + iVar5);
      uVar6 = SexyWidget_ProcessTexture(param_5,&DAT_005a2378);
      if ((char)uVar6 == '\0') {
        iVar5 = (*param_5 * param_5[3]) / 0xff;
        iVar9 = (param_5[1] * param_5[3]) / 0xff;
        iVar8 = (param_5[2] * param_5[3]) / 0xff;
        if (*(char *)((int)piVar3 + 0x32) == '\0') {
          local_20 = 0;
          if (0 < param_4[3]) {
            iVar11 = param_4[2];
            do {
              iVar17 = 0;
              puVar10 = param_3;
              pbVar13 = pbVar12;
              if (0 < iVar11) {
                do {
                  uVar1 = *(uint *)(iVar4 + (uint)*pbVar13 * 4);
                  uVar2 = *puVar10;
                  pbVar13 = pbVar13 + 1;
                  *puVar10 = (uint)CONCAT21(CONCAT11(*(undefined1 *)
                                                      ((((uVar1 & 0xff0000) * iVar5 >> 8) +
                                                        (uVar2 & 0xff0000) >> 0x10) + iVar14),
                                                     *(undefined1 *)
                                                      ((((uVar1 & 0xff00) * iVar9 >> 8) +
                                                        (uVar2 & 0xff00) >> 8) + iVar14)),
                                            *(undefined1 *)
                                             ((uVar2 & 0xff) +
                                             iVar14 + ((uVar1 & 0xff) * iVar8 >> 8))) |
                             uVar2 & 0xff000000;
                  iVar11 = param_4[2];
                  puVar10 = puVar10 + 1;
                  iVar17 = iVar17 + 1;
                } while (iVar17 < iVar11);
              }
              param_3 = param_3 + *(int *)((int)this + 4);
              pbVar12 = pbVar12 + *(int *)(param_1 + 4);
              local_20 = local_20 + 1;
            } while (local_20 < param_4[3]);
          }
        }
        else {
          local_1c = 0;
          if (0 < param_4[3]) {
            iVar11 = param_4[2];
            do {
              local_20 = 0;
              puVar10 = param_3;
              pbVar13 = pbVar12;
              if (0 < iVar11) {
                do {
                  uVar1 = *(uint *)(iVar4 + (uint)*pbVar13 * 4);
                  uVar2 = *puVar10;
                  uVar15 = uVar1 >> 0x18;
                  pbVar13 = pbVar13 + 1;
                  *puVar10 = (uint)CONCAT21(CONCAT11(*(undefined1 *)
                                                      (((((uVar1 & 0xff0000) * iVar5 >> 8) * uVar15
                                                        >> 8) + (uVar2 & 0xff0000) >> 0x10) + iVar14
                                                      ),*(undefined1 *)
                                                         (((((uVar1 & 0xff00) * iVar9 >> 8) * uVar15
                                                           >> 8) + (uVar2 & 0xff00) >> 8) + iVar14))
                                            ,*(undefined1 *)
                                              ((uVar2 & 0xff) +
                                              iVar14 + (((uVar1 & 0xff) * iVar8 >> 8) * uVar15 >> 8)
                                              )) | uVar2 & 0xff000000;
                  iVar11 = param_4[2];
                  puVar10 = puVar10 + 1;
                  local_20 = local_20 + 1;
                } while (local_20 < iVar11);
              }
              param_3 = param_3 + *(int *)((int)this + 4);
              pbVar12 = pbVar12 + *(int *)(param_1 + 4);
              local_1c = local_1c + 1;
            } while (local_1c < param_4[3]);
                    /* WARNING: Load size is inaccurate */
            (**(code **)(*this + 0x4c))();
            return;
          }
        }
      }
      else {
        local_20 = 0;
        if (*(char *)((int)piVar3 + 0x32) == '\0') {
          if (0 < param_4[3]) {
            iVar5 = param_4[2];
            do {
              iVar9 = 0;
              puVar10 = param_3;
              pbVar13 = pbVar12;
              if (0 < iVar5) {
                do {
                  uVar1 = *puVar10;
                  uVar2 = *(uint *)(iVar4 + (uint)*pbVar13 * 4);
                  pbVar13 = pbVar13 + 1;
                  *puVar10 = (uint)CONCAT21(CONCAT11(*(undefined1 *)
                                                      (((uVar1 & 0xff0000) + (uVar2 & 0xff0000) >>
                                                       0x10) + iVar14),
                                                     *(undefined1 *)
                                                      (((uVar1 & 0xff00) + (uVar2 & 0xff00) >> 8) +
                                                      iVar14)),
                                            *(undefined1 *)
                                             ((uVar2 & 0xff) + iVar14 + (uVar1 & 0xff))) |
                             uVar1 & 0xff000000;
                  iVar5 = param_4[2];
                  puVar10 = puVar10 + 1;
                  iVar9 = iVar9 + 1;
                } while (iVar9 < iVar5);
              }
              param_3 = param_3 + *(int *)((int)this + 4);
              pbVar12 = pbVar12 + *(int *)(param_1 + 4);
              local_20 = local_20 + 1;
            } while (local_20 < param_4[3]);
                    /* WARNING: Load size is inaccurate */
            (**(code **)(*this + 0x4c))();
            return;
          }
        }
        else if (0 < param_4[3]) {
          iVar5 = param_4[2];
          do {
            iVar9 = 0;
            puVar10 = param_3;
            pbVar13 = pbVar12;
            if (0 < iVar5) {
              do {
                uVar1 = *(uint *)(iVar4 + (uint)*pbVar13 * 4);
                uVar2 = *puVar10;
                uVar15 = uVar1 >> 0x18;
                pbVar13 = pbVar13 + 1;
                *puVar10 = (uint)CONCAT21(CONCAT11(*(undefined1 *)
                                                    ((((uVar1 & 0xff0000) * uVar15 >> 8) +
                                                      (uVar2 & 0xff0000) >> 0x10) + iVar14),
                                                   *(undefined1 *)
                                                    ((((uVar1 & 0xff00) * uVar15 >> 8) +
                                                      (uVar2 & 0xff00) >> 8) + iVar14)),
                                          *(undefined1 *)
                                           ((uVar2 & 0xff) + iVar14 + ((uVar1 & 0xff) * uVar15 >> 8)
                                           )) | uVar2 & 0xff000000;
                iVar5 = param_4[2];
                puVar10 = puVar10 + 1;
                iVar9 = iVar9 + 1;
              } while (iVar9 < iVar5);
            }
            param_3 = param_3 + *(int *)((int)this + 4);
            pbVar12 = pbVar12 + *(int *)(param_1 + 4);
            local_20 = local_20 + 1;
          } while (local_20 < param_4[3]);
                    /* WARNING: Load size is inaccurate */
          (**(code **)(*this + 0x4c))();
          return;
        }
      }
    }
                    /* WARNING: Load size is inaccurate */
    (**(code **)(*this + 0x4c))();
  }
  return;
}


