/*
 * Function: Graphics_UpdateTextureState
 * Address: 004767d0
 * Category: graphics
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


uint __thiscall
Graphics_UpdateTextureState
          (void *this,undefined1 *param_1,uint *param_2,ushort *param_3,uint *param_4,int *param_5)

{
  void *this_00;
  uint uVar1;
  uint uVar2;
  uint uVar3;
  ushort uVar4;
  ushort uVar5;
  ushort uVar6;
  uint uVar7;
  byte bVar8;
  int *piVar9;
  undefined4 uVar10;
  uint uVar11;
  int iVar12;
  byte *pbVar13;
  uint uVar14;
  uint uVar15;
  int iVar16;
  uint uVar17;
  void *this_01;
  int iVar18;
  ushort *puVar19;
  uint *puVar20;
  uint uVar21;
  int iVar22;
  int iVar23;
  undefined4 unaff_EBX;
  ushort *puVar24;
  uint *puVar25;
  int unaff_ESI;
  uint unaff_EDI;
  ulonglong uVar26;
  undefined1 *puVar27;
  int iVar28;
  TypeDescriptor *pTVar29;
  TypeDescriptor *pTVar30;
  byte *in_stack_ffffffa8;
  undefined4 local_3c;
  uint local_38;
  uint local_34;
  undefined4 local_28;
  int local_24;
  undefined4 local_20;
  byte local_1c;
  uint *local_18;
  uint *local_14;
  ushort *local_10;
  uint *local_c;
  
  local_34 = param_4[3];
  uVar17 = *param_4;
  uVar1 = param_4[1];
  pTVar30 = &Sexy::MemoryImage::RTTI_Type_Descriptor;
  uVar2 = param_4[2];
  pTVar29 = &Sexy::Image::RTTI_Type_Descriptor;
  this_00 = (void *)((int)param_2 + (uVar2 - 1));
  iVar28 = 0;
  puVar27 = param_1;
  uVar26 = Memory_ValidateHeap(this_00,param_1,0,0x566184,&Sexy::MemoryImage::RTTI_Type_Descriptor,0
                               ,unaff_EDI,unaff_ESI,unaff_EBX,in_stack_ffffffa8);
  piVar9 = (int *)uVar26;
  uVar26 = Memory_ValidateHeap(this_01,param_1,0,0x566184,&Sexy::DDImage::RTTI_Type_Descriptor,0,
                               (uint)puVar27,iVar28,pTVar29,(byte *)pTVar30);
  uVar11 = (uint)uVar26;
  if (piVar9 != (int *)0x0) {
    uVar10 = (**(code **)(*piVar9 + 0x50))();
    uVar11 = CONCAT31((int3)((uint)uVar10 >> 8),*(char *)((int)this + 0x50));
    if (*(char *)((int)this + 0x50) == '\0') {
      SexyWidget_EnsureTexture((int *)this);
                    /* WARNING: Load size is inaccurate */
      uVar11 = (**(code **)(*this + 0x9c))();
      if ((char)uVar11 != '\0') {
        iVar28 = (**(code **)(*piVar9 + 0x34))(*(undefined4 *)((int)this + 0x48));
        iVar12 = (**(code **)(*piVar9 + 0x38))();
        local_38 = local_34;
        local_28 = local_34;
        if (piVar9[10] == 0) {
          iVar18 = *(int *)(param_1 + 4) * uVar1;
          param_2 = (uint *)(iVar28 + (iVar18 + uVar17) * 4);
          param_4 = param_2;
          if (*(int *)((int)this + 0xb0) == 0x10) {
            uVar1 = *(uint *)((int)this + 0xb4);
            puVar19 = (ushort *)
                      (*(int *)((int)this + 0x80) +
                      ((*(int *)((int)this + 0x6c) * (int)param_3) / 2 + (int)this_00) * 2);
            pbVar13 = (byte *)(iVar18 + iVar12 + uVar17);
            uVar17 = *(uint *)((int)this + 0xbc);
            uVar11 = *(uint *)((int)this + 0xb8);
            uVar10 = SexyWidget_ProcessTexture(param_5,&DAT_005a2378);
            uVar4 = (ushort)uVar1;
            uVar5 = (ushort)uVar17;
            uVar6 = (ushort)uVar11;
            local_14 = (uint *)pbVar13;
            if ((char)uVar10 == '\0') {
              iVar28 = param_5[3];
              iVar12 = (*param_5 * iVar28) / 0xff;
              iVar18 = (param_5[1] * iVar28) / 0xff;
              iVar16 = (param_5[2] * iVar28) / 0xff;
              uVar7 = uVar2;
              local_18 = (uint *)puVar19;
              puVar24 = puVar19;
              if (0 < (int)local_34) {
                do {
                  for (; 0 < (int)uVar7; uVar7 = uVar7 - (uVar21 & 0xff)) {
                    uVar21 = uVar7;
                    if ((int)(uint)*pbVar13 <= (int)uVar7) {
                      uVar21 = (uint)*pbVar13;
                    }
                    if (*param_2 >> 0x18 == 0xff) {
                      if (iVar28 == 0xff) {
                        for (uVar14 = uVar21 & 0xff; uVar14 != 0; uVar14 = uVar14 - 1) {
                          uVar3 = *param_2;
                          param_2 = param_2 + 1;
                          *(ushort *)local_18 =
                               ((ushort)((uVar3 & uVar17) * iVar16 >> 8) & uVar5) +
                               ((ushort)((uVar3 & uVar11) * iVar18 >> 8) & uVar6) +
                               ((ushort)((uVar3 & uVar1) * iVar12 >> 8) & uVar4);
                          puVar19 = (ushort *)((int)local_18 + -2);
                          local_18 = (uint *)puVar19;
                        }
                      }
                      else {
LAB_00476c0b:
                        for (uVar14 = uVar21 & 0xff; uVar14 != 0; uVar14 = uVar14 - 1) {
                          uVar3 = *param_2;
                          param_2 = param_2 + 1;
                          iVar22 = 0x100 - ((uVar3 >> 0x18) * iVar28) / 0xff;
                          uVar15 = (uint)*puVar19;
                          *(ushort *)local_18 =
                               ((ushort)((uVar15 & uVar17) * iVar22 + (uVar3 & uVar17) * iVar16 >> 8
                                        ) & uVar5) +
                               ((ushort)((uVar15 & uVar11) * iVar22 + (uVar3 & uVar11) * iVar18 >> 8
                                        ) & uVar6) +
                               ((ushort)((uVar15 & uVar1) * iVar22 + (uVar3 & uVar1) * iVar12 >> 8)
                               & uVar4);
                          puVar19 = (ushort *)((int)local_18 + -2);
                          local_18 = (uint *)puVar19;
                        }
                      }
                    }
                    else {
                      if (*param_2 >> 0x18 != 0) goto LAB_00476c0b;
                      puVar19 = puVar19 + -(uVar21 & 0xff);
                      param_2 = param_2 + (uVar21 & 0xff);
                      local_18 = (uint *)puVar19;
                    }
                    pbVar13 = pbVar13 + (uVar21 & 0xff);
                  }
                  puVar19 = puVar24 + *(int *)((int)this + 0x6c) / 2;
                  param_2 = param_4 + *(int *)(param_1 + 4);
                  pbVar13 = (byte *)((int)local_14 + *(int *)(param_1 + 4));
                  local_38 = local_38 - 1;
                  uVar7 = uVar2;
                  local_18 = (uint *)puVar19;
                  local_14 = (uint *)pbVar13;
                  param_4 = param_2;
                  puVar24 = puVar19;
                } while (local_38 != 0);
              }
            }
            else {
              uVar7 = uVar2;
              local_c = (uint *)puVar19;
              puVar24 = puVar19;
              if (0 < (int)local_34) {
                do {
                  for (; 0 < (int)uVar7; uVar7 = uVar7 - bVar8) {
                    uVar21 = *param_2;
                    bVar8 = *pbVar13;
                    if ((int)uVar7 < (int)(uint)bVar8) {
                      bVar8 = (byte)uVar7;
                    }
                    iVar28 = 0x100 - (uVar21 >> 0x18);
                    if (iVar28 == 1) {
                      for (uVar21 = (uint)bVar8; uVar21 != 0; uVar21 = uVar21 - 1) {
                        *puVar19 = (ushort)*param_2;
                        puVar19 = puVar19 + -1;
                        param_2 = param_2 + 1;
                        local_c = (uint *)puVar19;
                      }
                    }
                    else if (iVar28 == 0x100) {
                      puVar19 = puVar19 + -(uint)bVar8;
                      param_2 = param_2 + bVar8;
                      local_c = (uint *)puVar19;
                    }
                    else {
                      param_2 = param_2 + 1;
                      uVar14 = (uint)*puVar19;
                      *(ushort *)local_c =
                           ((ushort)((uVar14 & uVar1) * iVar28 >> 8) & uVar4) +
                           ((ushort)((uVar14 & uVar11) * iVar28 >> 8) & uVar6) + (short)uVar21 +
                           ((ushort)((uVar14 & uVar17) * iVar28 >> 8) & uVar5);
                      puVar19 = (ushort *)((int)local_c + -2);
                      local_c = (uint *)puVar19;
                      if (1 < bVar8) {
                        local_24 = bVar8 - 1;
                        do {
                          uVar21 = *param_2;
                          param_2 = param_2 + 1;
                          iVar28 = 0x100 - (uVar21 >> 0x18);
                          uVar14 = (uint)*puVar19;
                          *puVar19 = ((ushort)((uVar14 & uVar1) * iVar28 >> 8) & uVar4) +
                                     ((ushort)((uVar14 & uVar11) * iVar28 >> 8) & uVar6) +
                                     (short)uVar21 +
                                     ((ushort)((uVar14 & uVar17) * iVar28 >> 8) & uVar5);
                          puVar19 = puVar19 + -1;
                          local_24 = local_24 + -1;
                          local_c = (uint *)puVar19;
                        } while (local_24 != 0);
                      }
                    }
                    pbVar13 = pbVar13 + bVar8;
                  }
                  puVar19 = puVar24 + *(int *)((int)this + 0x6c) / 2;
                  param_2 = param_4 + *(int *)(param_1 + 4);
                  pbVar13 = (byte *)((int)local_14 + *(int *)(param_1 + 4));
                  local_28 = local_28 - 1;
                  uVar7 = uVar2;
                  local_c = (uint *)puVar19;
                  local_14 = (uint *)pbVar13;
                  param_4 = param_2;
                  puVar24 = puVar19;
                } while (local_28 != 0);
              }
            }
          }
          else if (*(int *)((int)this + 0xb0) == 0x20) {
            iVar28 = *(int *)((int)this + 0x6c) * (int)param_3;
            uVar1 = *(uint *)((int)this + 0xb4);
            puVar20 = (uint *)(*(int *)((int)this + 0x80) +
                              (((int)(iVar28 + (iVar28 >> 0x1f & 3U)) >> 2) + (int)this_00) * 4);
            pbVar13 = (byte *)(iVar18 + iVar12 + uVar17);
            uVar17 = *(uint *)((int)this + 0xbc);
            uVar11 = *(uint *)((int)this + 0xb8);
            uVar10 = SexyWidget_ProcessTexture(param_5,&DAT_005a2378);
            local_c = (uint *)pbVar13;
            if ((char)uVar10 == '\0') {
              iVar28 = param_5[3];
              iVar12 = (*param_5 * iVar28) / 0xff;
              iVar18 = (param_5[1] * iVar28) / 0xff;
              iVar16 = (param_5[2] * iVar28) / 0xff;
              uVar7 = uVar2;
              local_18 = puVar20;
              local_20 = local_34;
              puVar25 = puVar20;
              if (0 < (int)local_34) {
                do {
                  for (; 0 < (int)uVar7; uVar7 = uVar7 - (uVar21 & 0xff)) {
                    uVar21 = uVar7;
                    if ((int)(uint)*pbVar13 <= (int)uVar7) {
                      uVar21 = (uint)*pbVar13;
                    }
                    if (*param_2 >> 0x18 == 0xff) {
                      if (iVar28 == 0xff) {
                        for (uVar14 = uVar21 & 0xff; uVar14 != 0; uVar14 = uVar14 - 1) {
                          uVar3 = *param_2;
                          param_2 = param_2 + 1;
                          *local_18 = ((uVar3 & uVar17) * iVar16 >> 8 & uVar17) +
                                      ((uVar3 & uVar11) * iVar18 >> 8 & uVar11) +
                                      ((uVar3 & uVar1) * iVar12 >> 8 & uVar1);
                          puVar20 = local_18 + -1;
                          local_18 = puVar20;
                        }
                      }
                      else {
LAB_0047706b:
                        for (uVar14 = uVar21 & 0xff; uVar14 != 0; uVar14 = uVar14 - 1) {
                          uVar3 = *param_2;
                          param_2 = param_2 + 1;
                          iVar22 = 0x100 - ((uVar3 >> 0x18) * iVar28) / 0xff;
                          uVar15 = *puVar20;
                          *local_18 = ((uVar15 & uVar17) * iVar22 + (uVar3 & uVar17) * iVar16 >> 8 &
                                      uVar17) + ((uVar15 & uVar11) * iVar22 +
                                                 (uVar3 & uVar11) * iVar18 >> 8 & uVar11) +
                                      ((uVar3 & uVar1) * iVar12 + (uVar15 & uVar1) * iVar22 >> 8 &
                                      uVar1);
                          puVar20 = local_18 + -1;
                          local_18 = puVar20;
                        }
                      }
                    }
                    else {
                      if (*param_2 >> 0x18 != 0) goto LAB_0047706b;
                      puVar20 = puVar20 + -(uVar21 & 0xff);
                      param_2 = param_2 + (uVar21 & 0xff);
                      local_18 = puVar20;
                    }
                    pbVar13 = pbVar13 + (uVar21 & 0xff);
                  }
                  puVar20 = puVar25 + ((int)(*(int *)((int)this + 0x6c) +
                                            (*(int *)((int)this + 0x6c) >> 0x1f & 3U)) >> 2);
                  param_2 = param_4 + *(int *)(param_1 + 4);
                  pbVar13 = (byte *)((int)local_c + *(int *)(param_1 + 4));
                  local_20 = local_20 - 1;
                  uVar7 = uVar2;
                  local_18 = puVar20;
                  local_c = (uint *)pbVar13;
                  param_4 = param_2;
                  puVar25 = puVar20;
                } while (local_20 != 0);
              }
            }
            else {
              uVar7 = uVar2;
              local_14 = puVar20;
              puVar25 = puVar20;
              if (0 < (int)local_34) {
                do {
                  for (; 0 < (int)uVar7; uVar7 = uVar7 - (byte)local_18) {
                    local_18._0_1_ = *pbVar13;
                    uVar21 = *param_2;
                    if ((int)uVar7 < (int)(uint)(byte)local_18) {
                      local_18._0_1_ = (byte)uVar7;
                    }
                    iVar28 = 0x100 - (uVar21 >> 0x18);
                    if (iVar28 == 1) {
                      for (uVar21 = (uint)(byte)local_18; uVar21 != 0; uVar21 = uVar21 - 1) {
                        *puVar20 = *param_2;
                        puVar20 = puVar20 + -1;
                        param_2 = param_2 + 1;
                        local_14 = puVar20;
                      }
                    }
                    else if (iVar28 == 0x100) {
                      puVar20 = puVar20 + -(uint)(byte)local_18;
                      param_2 = param_2 + (byte)local_18;
                      local_14 = puVar20;
                    }
                    else {
                      uVar14 = *puVar20;
                      param_2 = param_2 + 1;
                      *local_14 = ((uVar14 & uVar1) * iVar28 >> 8 & uVar1) +
                                  ((uVar14 & uVar11) * iVar28 >> 8 & uVar11) + uVar21 +
                                  ((uVar14 & uVar17) * iVar28 >> 8 & uVar17);
                      puVar20 = local_14 + -1;
                      local_14 = puVar20;
                      if (1 < (byte)local_18) {
                        local_38 = (byte)local_18 - 1;
                        do {
                          uVar21 = *param_2;
                          param_2 = param_2 + 1;
                          iVar28 = 0x100 - (uVar21 >> 0x18);
                          uVar14 = *puVar20;
                          *puVar20 = ((uVar14 & uVar1) * iVar28 >> 8 & uVar1) +
                                     ((uVar14 & uVar11) * iVar28 >> 8 & uVar11) + uVar21 +
                                     ((uVar14 & uVar17) * iVar28 >> 8 & uVar17);
                          puVar20 = puVar20 + -1;
                          local_38 = local_38 + -1;
                          local_14 = puVar20;
                        } while (local_38 != 0);
                      }
                    }
                    pbVar13 = pbVar13 + (byte)local_18;
                  }
                  puVar20 = puVar25 + ((int)(*(int *)((int)this + 0x6c) +
                                            (*(int *)((int)this + 0x6c) >> 0x1f & 3U)) >> 2);
                  param_2 = param_4 + *(int *)(param_1 + 4);
                  pbVar13 = (byte *)((int)local_c + *(int *)(param_1 + 4));
                  local_34 = local_34 - 1;
                  uVar7 = uVar2;
                  local_14 = puVar20;
                  local_c = (uint *)pbVar13;
                  param_4 = param_2;
                  puVar25 = puVar20;
                } while (local_34 != 0);
              }
            }
          }
        }
        else {
          iVar18 = *(int *)(param_1 + 4) * uVar1;
          param_2 = (uint *)(piVar9[0xb] + iVar18 + uVar17);
          local_c = param_2;
          if (*(int *)((int)this + 0xb0) == 0x10) {
            uVar1 = *(uint *)((int)this + 0xb8);
            param_3 = (ushort *)
                      (*(int *)((int)this + 0x80) +
                      ((*(int *)((int)this + 0x6c) * (int)param_3) / 2 + (int)this_00) * 2);
            pbVar13 = (byte *)(iVar18 + iVar12 + uVar17);
            uVar17 = *(uint *)((int)this + 0xb4);
            uVar11 = *(uint *)((int)this + 0xbc);
            uVar10 = SexyWidget_ProcessTexture(param_5,&DAT_005a2378);
            uVar6 = (ushort)uVar1;
            uVar4 = (ushort)uVar17;
            uVar5 = (ushort)uVar11;
            local_18 = (uint *)pbVar13;
            local_10 = param_3;
            if ((char)uVar10 == '\0') {
              iVar12 = param_5[3];
              iVar18 = (*param_5 * iVar12) / 0xff;
              iVar16 = (param_5[1] * iVar12) / 0xff;
              iVar22 = (param_5[2] * iVar12) / 0xff;
              uVar7 = uVar2;
              puVar19 = param_3;
              local_3c = local_34;
              if (0 < (int)local_34) {
                do {
                  for (; 0 < (int)uVar7; uVar7 = uVar7 - (uVar21 & 0xff)) {
                    uVar21 = uVar7;
                    if ((int)(uint)*pbVar13 <= (int)uVar7) {
                      uVar21 = (uint)*pbVar13;
                    }
                    uVar14 = *(uint *)(iVar28 + (uint)(byte)*param_2 * 4) >> 0x18;
                    if (uVar14 == 0xff) {
                      if (iVar12 == 0xff) {
                        for (uVar14 = uVar21 & 0xff; uVar14 != 0; uVar14 = uVar14 - 1) {
                          uVar3 = *(uint *)(iVar28 + (uint)(byte)*param_2 * 4);
                          param_2 = (uint *)((int)param_2 + 1);
                          *param_3 = ((ushort)((uVar3 & uVar11) * iVar22 >> 8) & uVar5) +
                                     ((ushort)((uVar3 & uVar1) * iVar16 >> 8) & uVar6) +
                                     ((ushort)((uVar3 & uVar17) * iVar18 >> 8) & uVar4);
                          param_3 = param_3 + -1;
                          puVar19 = param_3;
                        }
                      }
                      else {
LAB_00477506:
                        for (uVar14 = uVar21 & 0xff; uVar14 != 0; uVar14 = uVar14 - 1) {
                          uVar3 = *(uint *)(iVar28 + (uint)(byte)*param_2 * 4);
                          param_2 = (uint *)((int)param_2 + 1);
                          iVar23 = 0x100 - ((uVar3 >> 0x18) * iVar12) / 0xff;
                          uVar15 = (uint)*puVar19;
                          *param_3 = ((ushort)((uVar15 & uVar17) * iVar23 +
                                               (uVar3 & uVar17) * iVar18 >> 8) & uVar4) +
                                     ((ushort)((uVar15 & uVar11) * iVar23 +
                                               (uVar3 & uVar11) * iVar22 >> 8) & uVar5) +
                                     ((ushort)((uVar15 & uVar1) * iVar23 + (uVar3 & uVar1) * iVar16
                                              >> 8) & uVar6);
                          param_3 = param_3 + -1;
                          puVar19 = param_3;
                        }
                      }
                    }
                    else {
                      if (uVar14 != 0) goto LAB_00477506;
                      puVar19 = puVar19 + -(uVar21 & 0xff);
                      param_2 = (uint *)((int)param_2 + (uVar21 & 0xff));
                      param_3 = puVar19;
                    }
                    pbVar13 = pbVar13 + (uVar21 & 0xff);
                  }
                  param_3 = local_10 + *(int *)((int)this + 0x6c) / 2;
                  param_2 = (uint *)((int)local_c + *(int *)(param_1 + 4));
                  pbVar13 = (byte *)((int)local_18 + *(int *)(param_1 + 4));
                  local_3c = local_3c - 1;
                  uVar7 = uVar2;
                  puVar19 = param_3;
                  local_c = param_2;
                  local_10 = param_3;
                  local_18 = (uint *)pbVar13;
                } while (local_3c != 0);
              }
            }
            else {
              uVar7 = uVar2;
              puVar19 = param_3;
              if (0 < (int)local_34) {
                do {
                  for (; 0 < (int)uVar7; uVar7 = uVar7 - local_1c) {
                    uVar21 = *(uint *)(iVar28 + (uint)(byte)*param_2 * 4);
                    local_1c = *pbVar13;
                    if ((int)uVar7 < (int)(uint)local_1c) {
                      local_1c = (byte)uVar7;
                    }
                    iVar12 = 0x100 - (uVar21 >> 0x18);
                    if (iVar12 == 1) {
                      for (uVar21 = (uint)local_1c; uVar21 != 0; uVar21 = uVar21 - 1) {
                        *puVar19 = *(ushort *)(iVar28 + (uint)(byte)*param_2 * 4);
                        param_3 = puVar19 + -1;
                        param_2 = (uint *)((int)param_2 + 1);
                        puVar19 = param_3;
                      }
                    }
                    else if (iVar12 == 0x100) {
                      puVar19 = puVar19 + -(uint)local_1c;
                      param_2 = (uint *)((int)param_2 + (uint)local_1c);
                      param_3 = puVar19;
                    }
                    else {
                      uVar14 = (uint)*puVar19;
                      param_2 = (uint *)((int)param_2 + 1);
                      *param_3 = ((ushort)((uVar14 & uVar17) * iVar12 >> 8) & uVar4) +
                                 ((ushort)((uVar14 & uVar1) * iVar12 >> 8) & uVar6) + (short)uVar21
                                 + ((ushort)((uVar14 & uVar11) * iVar12 >> 8) & uVar5);
                      puVar19 = param_3 + -1;
                      param_3 = puVar19;
                      if (1 < local_1c) {
                        param_5 = (int *)(local_1c - 1);
                        do {
                          uVar21 = *(uint *)(iVar28 + (uint)(byte)*param_2 * 4);
                          param_2 = (uint *)((int)param_2 + 1);
                          iVar12 = 0x100 - (uVar21 >> 0x18);
                          uVar14 = (uint)*puVar19;
                          *puVar19 = ((ushort)((uVar14 & uVar17) * iVar12 >> 8) & uVar4) +
                                     ((ushort)((uVar14 & uVar1) * iVar12 >> 8) & uVar6) +
                                     (short)uVar21 +
                                     ((ushort)((uVar14 & uVar11) * iVar12 >> 8) & uVar5);
                          puVar19 = puVar19 + -1;
                          param_5 = (int *)((int)param_5 + -1);
                          param_3 = puVar19;
                        } while (param_5 != (int *)0x0);
                      }
                    }
                    pbVar13 = pbVar13 + local_1c;
                  }
                  param_3 = local_10 + *(int *)((int)this + 0x6c) / 2;
                  param_2 = (uint *)((int)local_c + *(int *)(param_1 + 4));
                  pbVar13 = (byte *)((int)local_18 + *(int *)(param_1 + 4));
                  local_38 = local_38 - 1;
                  uVar7 = uVar2;
                  puVar19 = param_3;
                  local_c = param_2;
                  local_10 = param_3;
                  local_18 = (uint *)pbVar13;
                } while (local_38 != 0);
              }
            }
          }
          else if (*(int *)((int)this + 0xb0) == 0x20) {
            iVar16 = *(int *)((int)this + 0x6c) * (int)param_3;
            uVar1 = *(uint *)((int)this + 0xb4);
            local_18 = (uint *)(*(int *)((int)this + 0x80) +
                               (((int)(iVar16 + (iVar16 >> 0x1f & 3U)) >> 2) + (int)this_00) * 4);
            pbVar13 = (byte *)(iVar18 + iVar12 + uVar17);
            uVar17 = *(uint *)((int)this + 0xbc);
            uVar11 = *(uint *)((int)this + 0xb8);
            uVar10 = SexyWidget_ProcessTexture(param_5,&DAT_005a2378);
            local_14 = local_18;
            local_10 = (ushort *)pbVar13;
            if ((char)uVar10 == '\0') {
              iVar12 = param_5[3];
              iVar18 = (*param_5 * iVar12) / 0xff;
              iVar16 = (param_5[1] * iVar12) / 0xff;
              iVar22 = (param_5[2] * iVar12) / 0xff;
              uVar7 = uVar2;
              puVar20 = local_18;
              if (0 < (int)local_34) {
                do {
                  for (; 0 < (int)uVar7; uVar7 = uVar7 - (uVar21 & 0xff)) {
                    uVar21 = uVar7;
                    if ((int)(uint)*pbVar13 <= (int)uVar7) {
                      uVar21 = (uint)*pbVar13;
                    }
                    uVar14 = *(uint *)(iVar28 + (uint)(byte)*param_2 * 4) >> 0x18;
                    if (uVar14 == 0xff) {
                      if (iVar12 == 0xff) {
                        for (uVar14 = uVar21 & 0xff; uVar14 != 0; uVar14 = uVar14 - 1) {
                          uVar3 = *(uint *)(iVar28 + (uint)(byte)*param_2 * 4);
                          param_2 = (uint *)((int)param_2 + 1);
                          *local_18 = ((uVar3 & uVar17) * iVar22 >> 8 & uVar17) +
                                      ((uVar3 & uVar11) * iVar16 >> 8 & uVar11) +
                                      ((uVar3 & uVar1) * iVar18 >> 8 & uVar1);
                          local_18 = local_18 + -1;
                          puVar20 = local_18;
                        }
                      }
                      else {
LAB_004779ad:
                        for (uVar14 = uVar21 & 0xff; uVar14 != 0; uVar14 = uVar14 - 1) {
                          uVar3 = *(uint *)(iVar28 + (uint)(byte)*param_2 * 4);
                          param_2 = (uint *)((int)param_2 + 1);
                          iVar23 = 0x100 - ((uVar3 >> 0x18) * iVar12) / 0xff;
                          uVar15 = *puVar20;
                          *local_18 = ((uVar15 & uVar17) * iVar23 + (uVar3 & uVar17) * iVar22 >> 8 &
                                      uVar17) + ((uVar15 & uVar11) * iVar23 +
                                                 (uVar3 & uVar11) * iVar16 >> 8 & uVar11) +
                                      ((uVar15 & uVar1) * iVar23 + (uVar3 & uVar1) * iVar18 >> 8 &
                                      uVar1);
                          local_18 = local_18 + -1;
                          puVar20 = local_18;
                        }
                      }
                    }
                    else {
                      if (uVar14 != 0) goto LAB_004779ad;
                      puVar20 = puVar20 + -(uVar21 & 0xff);
                      param_2 = (uint *)((int)param_2 + (uVar21 & 0xff));
                      local_18 = puVar20;
                    }
                    pbVar13 = pbVar13 + (uVar21 & 0xff);
                  }
                  local_18 = local_14 +
                             ((int)(*(int *)((int)this + 0x6c) +
                                   (*(int *)((int)this + 0x6c) >> 0x1f & 3U)) >> 2);
                  param_2 = (uint *)((int)local_c + *(int *)(param_1 + 4));
                  pbVar13 = (byte *)((int)local_10 + *(int *)(param_1 + 4));
                  local_28 = local_28 - 1;
                  uVar7 = uVar2;
                  puVar20 = local_18;
                  local_c = param_2;
                  local_10 = (ushort *)pbVar13;
                  local_14 = local_18;
                } while (local_28 != 0);
              }
            }
            else {
              uVar7 = uVar2;
              puVar20 = local_18;
              if (0 < (int)local_34) {
                do {
                  for (; 0 < (int)uVar7; uVar7 = uVar7 - bVar8) {
                    uVar21 = *(uint *)(iVar28 + (uint)(byte)*param_2 * 4);
                    bVar8 = *pbVar13;
                    if ((int)uVar7 < (int)(uint)bVar8) {
                      bVar8 = (byte)uVar7;
                    }
                    iVar12 = 0x100 - (uVar21 >> 0x18);
                    if (iVar12 == 1) {
                      for (uVar21 = (uint)bVar8; uVar21 != 0; uVar21 = uVar21 - 1) {
                        *puVar20 = *(uint *)(iVar28 + (uint)(byte)*param_2 * 4);
                        local_18 = puVar20 + -1;
                        param_2 = (uint *)((int)param_2 + 1);
                        puVar20 = local_18;
                      }
                    }
                    else if (iVar12 == 0x100) {
                      puVar20 = puVar20 + -(uint)bVar8;
                      param_2 = (uint *)((int)param_2 + (uint)bVar8);
                      local_18 = puVar20;
                    }
                    else {
                      param_2 = (uint *)((int)param_2 + 1);
                      uVar14 = *puVar20;
                      *local_18 = ((uVar14 & uVar1) * iVar12 >> 8 & uVar1) +
                                  ((uVar14 & uVar11) * iVar12 >> 8 & uVar11) + uVar21 +
                                  ((uVar14 & uVar17) * iVar12 >> 8 & uVar17);
                      puVar20 = local_18 + -1;
                      local_18 = puVar20;
                      if (1 < bVar8) {
                        local_38 = bVar8 - 1;
                        do {
                          uVar21 = *(uint *)(iVar28 + (uint)(byte)*param_2 * 4);
                          param_2 = (uint *)((int)param_2 + 1);
                          iVar12 = 0x100 - (uVar21 >> 0x18);
                          uVar14 = *puVar20;
                          *puVar20 = ((uVar14 & uVar1) * iVar12 >> 8 & uVar1) +
                                     ((uVar14 & uVar11) * iVar12 >> 8 & uVar11) + uVar21 +
                                     ((uVar14 & uVar17) * iVar12 >> 8 & uVar17);
                          puVar20 = puVar20 + -1;
                          local_38 = local_38 + -1;
                          local_18 = puVar20;
                        } while (local_38 != 0);
                      }
                    }
                    pbVar13 = pbVar13 + bVar8;
                  }
                  local_18 = local_14 +
                             ((int)(*(int *)((int)this + 0x6c) +
                                   (*(int *)((int)this + 0x6c) >> 0x1f & 3U)) >> 2);
                  param_2 = (uint *)((int)local_c + *(int *)(param_1 + 4));
                  pbVar13 = (byte *)((int)local_10 + *(int *)(param_1 + 4));
                  local_34 = local_34 - 1;
                  uVar7 = uVar2;
                  puVar20 = local_18;
                  local_c = param_2;
                  local_10 = (ushort *)pbVar13;
                  local_14 = local_18;
                } while (local_34 != 0);
                    /* WARNING: Load size is inaccurate */
                uVar17 = (**(code **)(*this + 0xa0))();
                return uVar17;
              }
            }
          }
        }
                    /* WARNING: Load size is inaccurate */
        uVar11 = (**(code **)(*this + 0xa0))();
      }
    }
  }
  return uVar11;
}


