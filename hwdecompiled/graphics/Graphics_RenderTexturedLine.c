/*
 * Function: Graphics_RenderTexturedLine
 * Address: 0046ce40
 * Category: graphics
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void __thiscall
Graphics_RenderTexturedLine
          (void *this,undefined4 param_1,ushort *param_2,undefined4 param_3,int param_4,
          undefined4 param_5,uint *param_6,double param_7,int *param_8)

{
  uint uVar1;
  uint uVar2;
  uint uVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  double dVar7;
  double dVar8;
  char cVar9;
  int iVar10;
  int iVar11;
  byte bVar12;
  uint uVar15;
  uint uVar16;
  uint uVar17;
  uint uVar18;
  uint uVar19;
  int iVar20;
  int iVar21;
  int iVar22;
  uint *puVar23;
  float10 extraout_ST0;
  float10 fVar24;
  float10 extraout_ST0_00;
  float10 extraout_ST1;
  float10 extraout_ST1_00;
  ulonglong uVar25;
  ulonglong uVar26;
  ulonglong uVar27;
  double local_74;
  undefined8 local_6c;
  undefined4 local_64;
  uint *puStack_60;
  undefined4 local_5c;
  uint *puStack_58;
  int local_54;
  int local_38;
  int iStack_30;
  int local_10;
  int local_c;
  byte bVar13;
  byte bVar14;
  
  if (*(char *)((int)this + 0x50) == '\0') {
    if ((double)CONCAT44(param_2,param_1) < (double)CONCAT44(param_6,param_5) ==
        (NAN((double)CONCAT44(param_2,param_1)) || NAN((double)CONCAT44(param_6,param_5)))) {
      local_5c = param_5;
      puStack_58 = param_6;
    }
    else {
      local_5c = param_1;
      puStack_58 = (uint *)param_2;
    }
    dVar7 = (double)CONCAT44(param_4,param_3);
    local_74 = dVar7;
    if (dVar7 < param_7 == (NAN(dVar7) || NAN(param_7))) {
      local_74 = param_7;
    }
    if ((double)CONCAT44(param_2,param_1) <= (double)CONCAT44(param_6,param_5)) {
      local_64 = param_5;
      puStack_60 = param_6;
    }
    else {
      local_64 = param_1;
      puStack_60 = (uint *)param_2;
    }
    if (dVar7 <= param_7) {
      local_6c = param_7;
    }
    else {
      local_6c = (double)CONCAT44(param_4,param_3);
    }
    SexyWidget_EnsureTexture((int *)this);
                    /* WARNING: Load size is inaccurate */
    cVar9 = (**(code **)(*this + 0x9c))();
    if (cVar9 != '\0') {
      uVar1 = *(uint *)((int)this + 0xb4);
      uVar2 = *(uint *)((int)this + 0xb8);
      uVar3 = *(uint *)((int)this + 0xbc);
      iVar10 = *(int *)((int)this + 0x48);
      iVar4 = *(int *)(iVar10 + 0x84);
      iVar5 = *(int *)(iVar10 + 0x8c);
      iVar6 = *(int *)(iVar10 + 0x88);
      bVar12 = (byte)*(undefined4 *)(iVar10 + 0x20);
      bVar13 = (byte)*(undefined4 *)(iVar10 + 0x24);
      bVar14 = (byte)*(undefined4 *)(iVar10 + 0x28);
      if (*(int *)((int)this + 0xb0) == 0x10) {
        iVar22 = param_8[3];
        uVar15 = (*param_8 * iVar22) / 0xff >> (8U - (char)*(undefined4 *)(iVar10 + 0x14) & 0x1f);
        iStack_30 = 1;
        uVar16 = (param_8[1] * iVar22) / 0xff >> (8U - (char)*(undefined4 *)(iVar10 + 0x18) & 0x1f);
        uVar17 = (param_8[2] * iVar22) / 0xff >> (8U - (char)*(undefined4 *)(iVar10 + 0x1c) & 0x1f);
        iVar10 = *(int *)((int)this + 0x6c) / 2;
        uVar25 = Math_FloatToUInt64();
        uVar18 = (int)(uint)uVar25 >> 0x1f;
        uVar26 = Math_FloatToUInt64();
        uVar19 = (int)(uint)uVar26 >> 0x1f;
        if ((int)(((uint)uVar26 ^ uVar19) - uVar19) < (int)(((uint)uVar25 ^ uVar18) - uVar18)) {
          fVar24 = extraout_ST0;
          if (extraout_ST1 < (float10)_DAT_0052a0c0 !=
              (NAN(extraout_ST1) || NAN((float10)_DAT_0052a0c0))) {
            fVar24 = -extraout_ST0;
            param_5 = param_1;
            param_6 = (uint *)param_2;
          }
          local_54 = iVar10;
          if (fVar24 < (float10)_DAT_0052a0c0 != (NAN(fVar24) || NAN((float10)_DAT_0052a0c0))) {
            local_54 = -iVar10;
            iStack_30 = -1;
          }
          uVar25 = Math_FloatToUInt64();
          local_10 = (int)uVar25;
          uVar25 = Math_FloatToUInt64();
          param_2 = (ushort *)(*(int *)((int)this + 0x80) + (local_10 * iVar10 + (int)uVar25) * 2);
          uVar18 = (uint)*param_2;
          *param_2 = *(short *)(iVar4 + (((uVar18 & uVar1) >> (bVar12 & 0x1f)) + (uVar15 & 0xffff))
                                        * 4) << (bVar12 & 0x1f) |
                     *(short *)(iVar6 + (((uVar18 & uVar2) >> (bVar13 & 0x1f)) + (uVar16 & 0xffff))
                                        * 4) << (bVar13 & 0x1f) |
                     *(short *)(iVar5 + (((uVar18 & uVar3) >> (bVar14 & 0x1f)) + (uVar17 & 0xffff))
                                        * 4) << (bVar14 & 0x1f);
          uVar25 = Math_FloatToUInt64();
          local_c = (int)uVar25;
          uVar25 = Math_FloatToUInt64();
          uVar26 = Math_FloatToUInt64();
          Math_FloatToUInt64();
          uVar27 = Math_FloatToUInt64();
          param_4 = (int)uVar27;
          dVar7 = (double)local_c;
          if (dVar7 < (double)CONCAT44(param_6,param_5) !=
              (dVar7 == (double)CONCAT44(param_6,param_5))) {
            do {
              param_2 = param_2 + 1;
              iVar10 = (int)uVar26;
              if (0 < param_4) {
                local_10 = local_10 + iStack_30;
                param_2 = param_2 + local_54;
                if ((((dVar7 < (double)CONCAT44(puStack_58,local_5c) !=
                       (NAN(dVar7) || NAN((double)CONCAT44(puStack_58,local_5c)))) ||
                     (dVar8 = (double)local_10, dVar8 < local_74 != (NAN(dVar8) || NAN(local_74))))
                    || ((double)CONCAT44(puStack_60,local_64) < dVar7)) ||
                   (iVar10 = (int)uVar25, local_6c < dVar8)) break;
              }
              param_4 = param_4 + iVar10;
              uVar18 = (uint)*param_2;
              *param_2 = *(short *)(iVar4 + (((uVar18 & uVar1) >> (bVar12 & 0x1f)) +
                                            (uVar15 & 0xffff)) * 4) << (bVar12 & 0x1f) |
                         *(short *)(iVar6 + (((uVar18 & uVar2) >> (bVar13 & 0x1f)) +
                                            (uVar16 & 0xffff)) * 4) << (bVar13 & 0x1f) |
                         *(short *)(iVar5 + (((uVar18 & uVar3) >> (bVar14 & 0x1f)) +
                                            (uVar17 & 0xffff)) * 4) << (bVar14 & 0x1f);
              local_c = local_c + 1;
              dVar7 = (double)local_c;
            } while (dVar7 < (double)CONCAT44(param_6,param_5) !=
                     (dVar7 == (double)CONCAT44(param_6,param_5)));
          }
        }
        else {
          fVar24 = extraout_ST1;
          if (extraout_ST0 < (float10)_DAT_0052a0c0 !=
              (NAN(extraout_ST0) || NAN((float10)_DAT_0052a0c0))) {
            fVar24 = -extraout_ST1;
            param_7 = (double)CONCAT44(param_4,param_3);
          }
          if (fVar24 < (float10)_DAT_0052a0c0 != (NAN(fVar24) || NAN((float10)_DAT_0052a0c0))) {
            iStack_30 = -1;
          }
          uVar25 = Math_FloatToUInt64();
          local_c = (int)uVar25;
          uVar25 = Math_FloatToUInt64();
          param_6 = (uint *)(*(int *)((int)this + 0x80) +
                            (((int)uVar25 * *(int *)((int)this + 0x6c)) / 2 + local_c) * 2);
          uVar18 = (uint)(ushort)*param_6;
          *(short *)param_6 =
               *(short *)(iVar4 + (((uVar18 & uVar1) >> (bVar12 & 0x1f)) + (uVar15 & 0xffff)) * 4)
               << (bVar12 & 0x1f) |
               *(short *)(iVar6 + (((uVar18 & uVar2) >> (bVar13 & 0x1f)) + (uVar16 & 0xffff)) * 4)
               << (bVar13 & 0x1f) |
               *(short *)(iVar5 + (((uVar18 & uVar3) >> (bVar14 & 0x1f)) + (uVar17 & 0xffff)) * 4)
               << (bVar14 & 0x1f);
          uVar25 = Math_FloatToUInt64();
          local_10 = (int)uVar25;
          uVar25 = Math_FloatToUInt64();
          uVar26 = Math_FloatToUInt64();
          Math_FloatToUInt64();
          uVar27 = Math_FloatToUInt64();
          param_4 = (int)uVar27;
          dVar7 = (double)local_10;
          if (dVar7 < param_7 != (dVar7 == param_7)) {
            do {
              param_6 = (uint *)((int)param_6 + iVar10 * 2);
              iVar22 = (int)uVar26;
              if (0 < param_4) {
                local_c = local_c + iStack_30;
                dVar8 = (double)local_c;
                param_6 = (uint *)((int)param_6 + iStack_30 * 2);
                if (((dVar8 < (double)CONCAT44(puStack_58,local_5c) !=
                      (NAN(dVar8) || NAN((double)CONCAT44(puStack_58,local_5c)))) ||
                    (dVar7 < local_74 != (NAN(dVar7) || NAN(local_74)))) ||
                   (((double)CONCAT44(puStack_60,local_64) < dVar8 ||
                    (iVar22 = (int)uVar25, local_6c < dVar7)))) break;
              }
              param_4 = param_4 + iVar22;
              uVar18 = (uint)(ushort)*param_6;
              *(short *)param_6 =
                   *(short *)(iVar4 + (((uVar18 & uVar1) >> (bVar12 & 0x1f)) + (uVar15 & 0xffff)) *
                                      4) << (bVar12 & 0x1f) |
                   *(short *)(iVar6 + (((uVar18 & uVar2) >> (bVar13 & 0x1f)) + (uVar16 & 0xffff)) *
                                      4) << (bVar13 & 0x1f) |
                   *(short *)(iVar5 + (((uVar18 & uVar3) >> (bVar14 & 0x1f)) + (uVar17 & 0xffff)) *
                                      4) << (bVar14 & 0x1f);
              local_10 = local_10 + 1;
              dVar7 = (double)local_10;
            } while (dVar7 < param_7 != (dVar7 == param_7));
          }
        }
      }
      else if (*(int *)((int)this + 0xb0) == 0x20) {
        iVar22 = param_8[3];
        iVar20 = (*param_8 * iVar22) / 0xff >> (8U - (char)*(undefined4 *)(iVar10 + 0x14) & 0x1f);
        iVar21 = (param_8[1] * iVar22) / 0xff >> (8U - (char)*(undefined4 *)(iVar10 + 0x18) & 0x1f);
        iVar22 = (param_8[2] * iVar22) / 0xff >> (8U - (char)*(undefined4 *)(iVar10 + 0x1c) & 0x1f);
        local_38 = 1;
        iVar10 = (int)(*(int *)((int)this + 0x6c) + (*(int *)((int)this + 0x6c) >> 0x1f & 3U)) >> 2;
        uVar25 = Math_FloatToUInt64();
        uVar15 = (int)(uint)uVar25 >> 0x1f;
        uVar26 = Math_FloatToUInt64();
        uVar16 = (int)(uint)uVar26 >> 0x1f;
        if ((int)(((uint)uVar26 ^ uVar16) - uVar16) < (int)(((uint)uVar25 ^ uVar15) - uVar15)) {
          fVar24 = extraout_ST1_00;
          if (extraout_ST0_00 < (float10)_DAT_0052a0c0 !=
              (NAN(extraout_ST0_00) || NAN((float10)_DAT_0052a0c0))) {
            fVar24 = -extraout_ST1_00;
            param_5 = param_1;
            param_6 = (uint *)param_2;
          }
          local_54 = iVar10;
          if (fVar24 < (float10)_DAT_0052a0c0 != (NAN(fVar24) || NAN((float10)_DAT_0052a0c0))) {
            local_54 = -iVar10;
            local_38 = -1;
          }
          uVar25 = Math_FloatToUInt64();
          param_2 = (ushort *)uVar25;
          uVar25 = Math_FloatToUInt64();
          puVar23 = (uint *)(*(int *)((int)this + 0x80) + ((int)param_2 * iVar10 + (int)uVar25) * 4)
          ;
          uVar15 = *puVar23;
          *puVar23 = *(int *)(iVar5 + (((uVar15 & uVar3) >> (bVar14 & 0x1f)) + iVar22) * 4) <<
                     (bVar14 & 0x1f) |
                     *(int *)(iVar6 + (((uVar15 & uVar2) >> (bVar13 & 0x1f)) + iVar21) * 4) <<
                     (bVar13 & 0x1f) |
                     *(int *)(iVar4 + (((uVar15 & uVar1) >> (bVar12 & 0x1f)) + iVar20) * 4) <<
                     (bVar12 & 0x1f);
          uVar25 = Math_FloatToUInt64();
          param_8 = (int *)uVar25;
          uVar25 = Math_FloatToUInt64();
          param_4 = (int)uVar25;
          uVar25 = Math_FloatToUInt64();
          uVar26 = Math_FloatToUInt64();
          dVar7 = (double)(int)param_8;
          if (dVar7 < (double)CONCAT44(param_6,param_5) !=
              (dVar7 == (double)CONCAT44(param_6,param_5))) {
            do {
              puVar23 = puVar23 + 1;
              iVar10 = (int)uVar26;
              if (0 < param_4) {
                param_2 = (ushort *)((int)param_2 + local_38);
                puVar23 = puVar23 + local_54;
                if (((dVar7 < (double)CONCAT44(puStack_58,local_5c) !=
                      (NAN(dVar7) || NAN((double)CONCAT44(puStack_58,local_5c)))) ||
                    (dVar8 = (double)(int)param_2, dVar8 < local_74 != (NAN(dVar8) || NAN(local_74))
                    )) || (((double)CONCAT44(puStack_60,local_64) < dVar7 ||
                           (iVar10 = (int)uVar25, local_6c < dVar8)))) break;
              }
              param_4 = param_4 + iVar10;
              uVar15 = *puVar23;
              *puVar23 = *(int *)(iVar5 + (((uVar15 & uVar3) >> (bVar14 & 0x1f)) + iVar22) * 4) <<
                         (bVar14 & 0x1f) |
                         *(int *)(iVar6 + (((uVar15 & uVar2) >> (bVar13 & 0x1f)) + iVar21) * 4) <<
                         (bVar13 & 0x1f) |
                         *(int *)(iVar4 + (((uVar15 & uVar1) >> (bVar12 & 0x1f)) + iVar20) * 4) <<
                         (bVar12 & 0x1f);
              param_8 = (int *)((int)param_8 + 1);
              dVar7 = (double)(int)param_8;
            } while (dVar7 < (double)CONCAT44(param_6,param_5) !=
                     (dVar7 == (double)CONCAT44(param_6,param_5)));
          }
        }
        else {
          fVar24 = extraout_ST0_00;
          if (extraout_ST1_00 < (float10)_DAT_0052a0c0 !=
              (NAN(extraout_ST1_00) || NAN((float10)_DAT_0052a0c0))) {
            fVar24 = -extraout_ST0_00;
            param_7 = (double)CONCAT44(param_4,param_3);
          }
          if (fVar24 < (float10)_DAT_0052a0c0 != (NAN(fVar24) || NAN((float10)_DAT_0052a0c0))) {
            local_38 = -1;
          }
          uVar25 = Math_FloatToUInt64();
          param_8 = (int *)uVar25;
          uVar25 = Math_FloatToUInt64();
          iVar11 = (int)uVar25 * *(int *)((int)this + 0x6c);
          param_6 = (uint *)(*(int *)((int)this + 0x80) +
                            (((int)(iVar11 + (iVar11 >> 0x1f & 3U)) >> 2) + (int)param_8) * 4);
          uVar15 = *param_6;
          *param_6 = *(int *)(iVar5 + (((uVar15 & uVar3) >> (bVar14 & 0x1f)) + iVar22) * 4) <<
                     (bVar14 & 0x1f) |
                     *(int *)(iVar6 + (((uVar15 & uVar2) >> (bVar13 & 0x1f)) + iVar21) * 4) <<
                     (bVar13 & 0x1f) |
                     *(int *)(iVar4 + (((uVar15 & uVar1) >> (bVar12 & 0x1f)) + iVar20) * 4) <<
                     (bVar12 & 0x1f);
          uVar25 = Math_FloatToUInt64();
          param_2 = (ushort *)uVar25;
          uVar25 = Math_FloatToUInt64();
          param_4 = (int)uVar25;
          uVar25 = Math_FloatToUInt64();
          uVar26 = Math_FloatToUInt64();
          dVar7 = (double)(int)param_2;
          if (dVar7 < param_7 != (dVar7 == param_7)) {
            do {
              param_6 = param_6 + iVar10;
              iVar11 = (int)uVar26;
              if (0 < param_4) {
                param_6 = param_6 + local_38;
                param_8 = (int *)((int)param_8 + local_38);
                dVar8 = (double)(int)param_8;
                if ((((dVar8 < (double)CONCAT44(puStack_58,local_5c) !=
                       (NAN(dVar8) || NAN((double)CONCAT44(puStack_58,local_5c)))) ||
                     (dVar7 < local_74 != (NAN(dVar7) || NAN(local_74)))) ||
                    ((double)CONCAT44(puStack_60,local_64) < dVar8)) ||
                   (iVar11 = (int)uVar25, local_6c < dVar7)) break;
              }
              param_4 = param_4 + iVar11;
              uVar15 = *param_6;
              param_2 = (ushort *)((int)param_2 + 1);
              dVar7 = (double)(int)param_2;
              *param_6 = *(int *)(iVar5 + (((uVar15 & uVar3) >> (bVar14 & 0x1f)) + iVar22) * 4) <<
                         (bVar14 & 0x1f) |
                         *(int *)(iVar6 + (((uVar15 & uVar2) >> (bVar13 & 0x1f)) + iVar21) * 4) <<
                         (bVar13 & 0x1f) |
                         *(int *)(iVar4 + (((uVar15 & uVar1) >> (bVar12 & 0x1f)) + iVar20) * 4) <<
                         (bVar12 & 0x1f);
            } while (dVar7 < param_7 != (dVar7 == param_7));
          }
        }
      }
                    /* WARNING: Load size is inaccurate */
      (**(code **)(*this + 0xa0))();
    }
  }
  return;
}


