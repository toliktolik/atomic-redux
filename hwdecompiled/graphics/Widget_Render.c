/*
 * Function: Widget_Render
 * Address: 004442b0
 * Category: graphics
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void __fastcall Widget_Render(void *param_1)

{
  bool bVar1;
  bool bVar2;
  double dVar3;
  int *piVar4;
  undefined4 *puVar5;
  double *pdVar6;
  void *this;
  int iVar7;
  int iVar8;
  int iVar9;
  int iVar10;
  int iVar11;
  ulonglong uVar12;
  int iVar13;
  int iVar14;
  int iVar15;
  int iVar16;
  char cVar17;
  undefined4 uVar18;
  int iVar19;
  undefined4 uVar20;
  int iVar21;
  double dVar22;
  int iVar23;
  double dVar24;
  undefined8 uVar25;
  undefined1 uVar26;
  char cVar27;
  int iVar28;
  int local_14;
  void *local_10;
  undefined4 uStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  uStack_c = 0x512cb6;
  local_10 = ExceptionList;
  if (*(int *)(*(int *)((int)param_1 + 0x4c) + 0x184) <=
      *(int *)(*(int *)((int)param_1 + 0x4c) + 0x17c)) {
    ExceptionList = &local_10;
    Boss_ProcessWreckerWarWrecker((int)param_1);
    iVar11 = 0;
    iVar10 = 0;
    piVar4 = (int *)((int)param_1 + 0x7c);
    do {
      if (*piVar4 != 0) {
        if (iVar10 < 3) {
          *(undefined4 *)((int)param_1 + 0x2b8) = *(undefined4 *)((int)param_1 + 0x278);
          *(undefined4 *)((int)param_1 + 700) = *(undefined4 *)((int)param_1 + 0x27c);
          *(undefined4 *)((int)param_1 + 0x2c0) = *(undefined4 *)((int)param_1 + 0x288);
          *(undefined4 *)((int)param_1 + 0x2c4) = *(undefined4 *)((int)param_1 + 0x28c);
          *(undefined1 *)((int)param_1 + 0x2e4) = 0;
          *(undefined4 *)((int)param_1 + 0x2b0) = *(undefined4 *)((int)param_1 + 0x270);
          *(undefined4 *)((int)param_1 + 0x2d0) = *(undefined4 *)((int)param_1 + 0x298);
          *(undefined4 *)((int)param_1 + 0x2d4) = *(undefined4 *)((int)param_1 + 0x29c);
          goto LAB_0044446f;
        }
        break;
      }
      iVar10 = iVar10 + 1;
      piVar4 = piVar4 + 1;
    } while (iVar10 < 3);
    *(undefined4 *)((int)param_1 + 0x2b8) = *(undefined4 *)((int)param_1 + 0x280);
    *(undefined4 *)((int)param_1 + 700) = *(undefined4 *)((int)param_1 + 0x284);
    *(undefined4 *)((int)param_1 + 0x2c0) = *(undefined4 *)((int)param_1 + 0x290);
    *(undefined4 *)((int)param_1 + 0x2c4) = *(undefined4 *)((int)param_1 + 0x294);
    *(undefined4 *)((int)param_1 + 0x2b0) = *(undefined4 *)((int)param_1 + 0x274);
    iVar10 = *(int *)((int)param_1 + 0x4c);
    *(undefined1 *)((int)param_1 + 0x2e4) = 1;
    *(undefined4 *)((int)param_1 + 0x2d0) = *(undefined4 *)((int)param_1 + 0x2a0);
    *(undefined4 *)((int)param_1 + 0x2d4) = *(undefined4 *)((int)param_1 + 0x2a4);
    if (*(int *)(iVar10 + 0x80) == 0) {
      *(int *)((int)param_1 + 0x2c8) = *(int *)((int)param_1 + 0x2c8) + -1;
    }
    else {
      *(undefined4 *)((int)param_1 + 0x2c8) = *(undefined4 *)((int)param_1 + 0x2a8);
    }
    if ((((*(double *)((int)param_1 + 0x10) < _DAT_005301b8 !=
           (NAN(*(double *)((int)param_1 + 0x10)) || NAN(_DAT_005301b8))) &&
         (*(int *)((int)param_1 + 0x2c8) < 1)) &&
        ((NAN(*(double *)(iVar10 + 0x88)) || NAN(_DAT_0052a0c0)) !=
         (*(double *)(iVar10 + 0x88) == _DAT_0052a0c0))) && (*(int *)(iVar10 + 0x300) == 0)) {
      puVar5 = (undefined4 *)operator_new(0x80);
      local_8 = 0;
      if (puVar5 != (undefined4 *)0x0) {
        Math_Floor(puVar5,*(int *)((int)param_1 + 0x4c),*(double *)((int)param_1 + 8),
                   *(undefined4 *)((int)param_1 + 0x10),*(undefined4 *)((int)param_1 + 0x14),
                   *(undefined4 *)((int)param_1 + 0x18),*(undefined4 *)((int)param_1 + 0x1c),
                   *(undefined4 *)((int)param_1 + 0x20),*(undefined4 *)((int)param_1 + 0x24),0,
                   0x3ff00000);
      }
      local_8 = 0xffffffff;
      *(undefined4 *)((int)param_1 + 0x2c8) = *(undefined4 *)((int)param_1 + 0x2a8);
    }
LAB_0044446f:
    if (*(int *)(*(int *)((int)param_1 + 0x4c) + 0x300) == 0) {
      dVar24 = *(double *)((int)param_1 + 0x28) + _DAT_0052c580;
      bVar1 = _DAT_0052c568 <= dVar24;
      *(double *)((int)param_1 + 0x28) = dVar24;
      if (bVar1) {
        *(double *)((int)param_1 + 0x28) = dVar24 - _DAT_0052c568;
      }
      dVar24 = *(double *)((int)param_1 + 0x20) + *(double *)((int)param_1 + 0x178);
      *(double *)((int)param_1 + 0x178) = dVar24;
      if (dVar24 < _DAT_0052d4f0 == (NAN(dVar24) || NAN(_DAT_0052d4f0))) {
        dVar24 = (*(double *)(*(int *)((int)param_1 + 0x4c) + 0x90) -
                 *(double *)((int)param_1 + 0x88)) * _DAT_0052c538;
        *(double *)((int)param_1 + 0x18) = dVar24;
        if (*(double *)((int)param_1 + 0x2d0) < dVar24) {
          *(undefined4 *)((int)param_1 + 0x18) = *(undefined4 *)((int)param_1 + 0x2d0);
          *(undefined4 *)((int)param_1 + 0x1c) = *(undefined4 *)((int)param_1 + 0x2d4);
        }
        if (*(double *)((int)param_1 + 0x18) < -*(double *)((int)param_1 + 0x2d0)) {
          *(double *)((int)param_1 + 0x18) = -*(double *)((int)param_1 + 0x2d0);
        }
      }
      else {
        *(double *)((int)param_1 + 0x88) =
             *(double *)((int)param_1 + 0x88) + *(double *)((int)param_1 + 0x18);
        dVar24 = *(double *)((int)param_1 + 0x20) + *(double *)((int)param_1 + 0x2c0);
        *(double *)((int)param_1 + 0x20) = dVar24;
        if (*(double *)((int)param_1 + 0x2b8) < dVar24) {
          *(undefined4 *)((int)param_1 + 0x20) = *(undefined4 *)((int)param_1 + 0x2b8);
          *(undefined4 *)((int)param_1 + 0x24) = *(undefined4 *)((int)param_1 + 700);
        }
      }
    }
    else {
      if (*(int *)(*(int *)((int)param_1 + 0x50) + 0x414) % 0x32 == 0) {
        iVar10 = Collision_HandleEnemyHit();
        *(double *)((int)param_1 + 0x18) = (double)(iVar10 % 200) * _DAT_0052c538 - _DAT_0052a0f0;
        *(double *)((int)param_1 + 0x18) =
             *(double *)((int)param_1 + 0x18) - *(double *)((int)param_1 + 0x88) * _DAT_00530f38;
        iVar10 = Collision_HandleEnemyHit();
        *(double *)((int)param_1 + 0x20) =
             ((double)(iVar10 % 200) * _DAT_0052c538 - _DAT_0052a0f0) -
             (*(double *)((int)param_1 + 0x178) - _DAT_0052c9a0) * _DAT_00530f30;
      }
      *(double *)((int)param_1 + 0x88) =
           *(double *)((int)param_1 + 0x88) + *(double *)((int)param_1 + 0x18);
      *(double *)((int)param_1 + 0x178) =
           *(double *)((int)param_1 + 0x20) + *(double *)((int)param_1 + 0x178);
    }
    dVar24 = *(double *)((int)param_1 + 0x178);
    *(double *)((int)param_1 + 0x10) = dVar24;
    bVar1 = NAN(_DAT_0052cd50);
    bVar2 = dVar24 < _DAT_0052cd50;
    *(undefined4 *)((int)param_1 + 0xc) = *(undefined4 *)((int)param_1 + 0x8c);
    *(undefined4 *)((int)param_1 + 8) = *(undefined4 *)((int)param_1 + 0x88);
    if (bVar2 == (NAN(dVar24) || bVar1)) {
      *(undefined1 *)((int)param_1 + 0x48) = 0;
    }
    else {
      *(undefined1 *)((int)param_1 + 0x48) = 1;
    }
    if ((_DAT_00530f28 < *(double *)((int)param_1 + 0x260)) &&
       ((double)*(int *)((int)param_1 + 0x2b0) < *(double *)((int)param_1 + 0x178) !=
        (NAN((double)*(int *)((int)param_1 + 0x2b0)) || NAN(*(double *)((int)param_1 + 0x178))))) {
      Widget_ProcessInput(param_1,'\0');
    }
    iVar10 = 0x1d;
    pdVar6 = (double *)((int)param_1 + 0x90);
    do {
      iVar10 = iVar10 + -1;
      *pdVar6 = *pdVar6 - (*pdVar6 - pdVar6[-1]) * _DAT_0052c730;
      pdVar6[0x1e] = pdVar6[0x1e] - (pdVar6[0x1e] - pdVar6[0x1d]) * _DAT_0052c730;
      pdVar6 = pdVar6 + 1;
    } while (iVar10 != 0);
    if ((((*(double *)((int)param_1 + 0x178) < _DAT_0052c958 !=
           (NAN(*(double *)((int)param_1 + 0x178)) || NAN(_DAT_0052c958))) &&
         (_DAT_0052c958 <= *(double *)((int)param_1 + 0x260))) ||
        ((_DAT_0052c958 < *(double *)((int)param_1 + 0x178) &&
         (*(double *)((int)param_1 + 0x260) < _DAT_0052c958 !=
          (*(double *)((int)param_1 + 0x260) == _DAT_0052c958))))) ||
       ((_DAT_00530f20 < *(double *)((int)param_1 + 0x178) &&
        (*(double *)((int)param_1 + 0x20) < _DAT_0052a0c0 !=
         (NAN(*(double *)((int)param_1 + 0x20)) || NAN(_DAT_0052a0c0)))))) {
      if (*(int *)((int)param_1 + 0x2e0) != 8) {
        uVar12 = Math_FloatToUInt64();
        *(int *)((int)param_1 + 0x2d8) = (int)uVar12;
        *(undefined4 *)((int)param_1 + 0x2e0) = 8;
        (**(code **)(**(int **)((int)param_1 + 0x50) + 0xb8))();
      }
    }
    else {
      *(undefined4 *)((int)param_1 + 0x2e0) = 0xfffffffe;
    }
    if (((_DAT_0052c958 < *(double *)((int)param_1 + 0x178)) &&
        (dVar24 = *(double *)((int)param_1 + 0x20) + *(double *)((int)param_1 + 0x178),
        dVar24 < _DAT_0052c958 != (NAN(dVar24) || NAN(_DAT_0052c958)))) &&
       (0 < *(int *)((int)param_1 + 0x2ac))) {
      do {
        this = operator_new(0x70);
        local_8 = 1;
        if (this != (void *)0x0) {
          uVar26 = 0;
          iVar10 = Collision_HandleEnemyHit();
          dVar24 = (double)(iVar10 % 200) * _DAT_0052c538 - _DAT_0052c628;
          iVar10 = Collision_HandleEnemyHit();
          dVar22 = ((double)(iVar10 % 400) * _DAT_0052c538 + *(double *)((int)param_1 + 0x18)) -
                   _DAT_0052c5d8;
          uVar20 = 0x407cc000;
          uVar18 = 0;
          iVar10 = Collision_HandleEnemyHit();
          dVar3 = ((double)(iVar10 % 0x50) + *(double *)((int)param_1 + 8)) - _DAT_0052a0b0;
          Powerup_GunPowerUpdate
                    (this,*(int *)((int)param_1 + 0x4c),SUB84(dVar3,0),
                     (int)((ulonglong)dVar3 >> 0x20),uVar18,uVar20,SUB84(dVar22,0),
                     (int)((ulonglong)dVar22 >> 0x20),SUB84(dVar24,0),
                     (int)((ulonglong)dVar24 >> 0x20),uVar26);
        }
        iVar11 = iVar11 + 1;
        local_8 = 0xffffffff;
      } while (iVar11 < *(int *)((int)param_1 + 0x2ac));
    }
    iVar10 = *(int *)((int)param_1 + 0x2dc) + *(int *)((int)param_1 + 0x2e0);
    *(int *)((int)param_1 + 0x2dc) = iVar10;
    if (iVar10 < 0x100) {
      if (iVar10 < 0) {
        *(undefined4 *)((int)param_1 + 0x2dc) = 0;
      }
    }
    else {
      *(undefined4 *)((int)param_1 + 0x2dc) = 0xff;
      iVar10 = *(int *)(*(int *)((int)param_1 + 0x50) + 0x414) % 5;
      if (iVar10 == 0) {
        iVar28 = -1;
        uVar25 = 0x100000078;
        iVar23 = -0x40100000;
        iVar21 = -0x407b851f;
        iVar19 = 0x47ae147b;
        uVar20 = 0x3fe00000;
        iVar15 = 1;
        uVar18 = 0xbff00000;
        iVar13 = 0x407f4000;
        iVar11 = iVar10;
        iVar14 = iVar10;
        iVar8 = iVar10;
        iVar9 = iVar10;
        iVar16 = iVar10;
        iVar7 = Collision_HandleEnemyHit();
        dVar24 = (double)(iVar7 % 100 + -0x32 + *(int *)((int)param_1 + 0x2d8));
        ParticleEffects_CreateParticles
                  (*(int *)((int)param_1 + 0x4c) + 0x2e8,
                   *(int *)(*(int *)((int)param_1 + 0x50) + 0x83c),SUB84(dVar24,0),
                   (int)((ulonglong)dVar24 >> 0x20),iVar10,iVar13,(double)CONCAT44(iVar14,iVar11),
                   (double)CONCAT44(uVar18,iVar8),iVar15,(double)CONCAT44(uVar20,iVar9),iVar19,
                   iVar21,iVar16,iVar23,(int)uVar25,(char)((ulonglong)uVar25 >> 0x20),iVar28);
      }
    }
    if ((*(int *)(*(int *)((int)param_1 + 0x4c) + 0x300) == 0) &&
       (*(int *)(*(int *)((int)param_1 + 0x4c) + 0x80) == 0)) {
      local_14 = 0x1e;
      do {
        iVar10 = *(int *)((int)param_1 + 0x4c);
        cVar27 = '\x01';
        uVar25 = 0;
        uVar12 = Math_FloatToUInt64();
        iVar11 = *(int *)(iVar10 + 0x98);
        iVar14 = (int)uVar12;
        uVar12 = Math_FloatToUInt64();
        iVar8 = (int)uVar12;
        iVar10 = *(int *)(*(int *)(iVar10 + 0x5c) + 0x6cc);
        cVar17 = '\0';
        iVar7 = 0;
        iVar16 = 0;
        uVar12 = Math_FloatToUInt64();
        iVar9 = (int)uVar12;
        uVar12 = Math_FloatToUInt64();
        uVar18 = Collision_PixelPerfectDetection
                           (*(void **)((int)param_1 + 0x70),(int)uVar12,iVar9,iVar16,iVar7,cVar17,
                            iVar10,iVar8,iVar11,iVar14,(int)uVar25,(char)((ulonglong)uVar25 >> 0x20)
                            ,cVar27);
        if ((char)uVar18 != '\0') {
          Particles_UpdateFire(*(void **)((int)param_1 + 0x4c));
        }
        local_14 = local_14 + -1;
      } while (local_14 != 0);
      iVar10 = *(int *)((int)param_1 + 0x4c);
      cVar27 = '\x01';
      uVar25 = 0;
      uVar12 = Math_FloatToUInt64();
      iVar11 = *(int *)(iVar10 + 0x98);
      iVar14 = (int)uVar12;
      uVar12 = Math_FloatToUInt64();
      iVar8 = (int)uVar12;
      iVar10 = *(int *)(*(int *)(iVar10 + 0x5c) + 0x6cc);
      cVar17 = '\0';
      iVar7 = 0;
      uVar12 = Math_FloatToUInt64();
      iVar9 = (int)uVar12;
      uVar12 = Math_FloatToUInt64();
      iVar16 = (int)uVar12;
      uVar12 = Math_FloatToUInt64();
      uVar18 = Collision_PixelPerfectDetection
                         (*(void **)((int)param_1 + 0x60),(int)uVar12,iVar16,iVar9,iVar7,cVar17,
                          iVar10,iVar8,iVar11,iVar14,(int)uVar25,(char)((ulonglong)uVar25 >> 0x20),
                          cVar27);
      if ((char)uVar18 != '\0') {
        Particles_UpdateFire(*(void **)((int)param_1 + 0x4c));
      }
    }
    if ((*(int *)(*(int *)((int)param_1 + 0x4c) + 0x80) == 2) &&
       ((*(double *)((int)param_1 + 0x10) < _DAT_0052c958 !=
         (NAN(*(double *)((int)param_1 + 0x10)) || NAN(_DAT_0052c958)) ||
        (*(double *)((int)param_1 + 0x260) < _DAT_0052c958 !=
         (NAN(*(double *)((int)param_1 + 0x260)) || NAN(_DAT_0052c958)))))) {
      *(undefined4 *)(*(int *)((int)param_1 + 0x4c) + 0x80) = 3;
    }
  }
  ExceptionList = local_10;
  return;
}


