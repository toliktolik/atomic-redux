/*
 * Function: Graphics_Clear
 * Address: 004e4e30
 * Category: graphics
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


uint * __cdecl Graphics_Clear(int param_1,uint *param_2)

{
  int iVar1;
  uint *puVar2;
  uint uVar3;
  uint *puVar4;
  
  iVar1 = *(int *)(param_1 + 0x1c);
  puVar2 = (uint *)_malloc(0x58);
  uVar3 = GIF_SetTransparentIndex(param_2,8);
  *puVar2 = uVar3;
  uVar3 = GIF_SetTransparentIndex(param_2,0x10);
  puVar2[1] = uVar3;
  uVar3 = GIF_SetTransparentIndex(param_2,0x10);
  puVar2[2] = uVar3;
  uVar3 = GIF_SetTransparentIndex(param_2,6);
  puVar2[3] = uVar3;
  uVar3 = GIF_SetTransparentIndex(param_2,8);
  puVar2[4] = uVar3;
  uVar3 = GIF_SetTransparentIndex(param_2,4);
  uVar3 = uVar3 + 1;
  puVar2[5] = uVar3;
  if ((((0 < (int)*puVar2) && (0 < (int)puVar2[1])) && (0 < (int)puVar2[2])) && (0 < (int)uVar3)) {
    param_1 = 0;
    if (0 < (int)uVar3) {
      puVar4 = puVar2 + 6;
      do {
        uVar3 = GIF_SetTransparentIndex(param_2,8);
        *puVar4 = uVar3;
        if (((int)uVar3 < 0) || (*(int *)(iVar1 + 0x1c) <= (int)uVar3)) goto LAB_004e4eeb;
        param_1 = param_1 + 1;
        puVar4 = puVar4 + 1;
      } while (param_1 < (int)puVar2[5]);
    }
    return puVar2;
  }
LAB_004e4eeb:
  Graphics_EndScene(puVar2);
  return (uint *)0x0;
}


