/*
 * Function: Thunk_Graphics_DrawSprite
 * Address: 004ae6f0
 * Category: graphics
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


void __fastcall Thunk_Graphics_DrawSprite(undefined4 *param_1)

{
  char *pcVar1;
  char cVar2;
  char *pcVar3;
  undefined4 uVar4;
  int extraout_ECX;
  undefined2 extraout_DX;
  uint extraout_EDX;
  uint extraout_EDX_00;
  uint extraout_EDX_01;
  uint unaff_retaddr;
  undefined4 *in_stack_ffffffb0;
  undefined4 *in_stack_ffffffb4;
  _String_base a_Stack_30 [4];
  uint uStack_2c;
  undefined4 uStack_1c;
  uint uStack_18;
  uint uStack_14;
  void *pvStack_10;
  undefined4 uStack_c;
  int iStack_8;
  
  iStack_8 = 0xffffffff;
  uStack_c = 0x516608;
  pvStack_10 = ExceptionList;
  uStack_14 = DAT_00569f5c ^ unaff_retaddr;
  ExceptionList = &pvStack_10;
  ObjectType2_Constructor((undefined4 *)&stack0xffffffb0);
  iStack_8 = 0;
  uStack_18 = 0xf;
  uStack_1c = 0;
  uStack_2c = uStack_2c & 0xffffff00;
  pcVar1 = "adlist.txt";
  do {
    pcVar3 = pcVar1;
    pcVar1 = pcVar3 + 1;
  } while (*pcVar3 != '\0');
  String_Assign(a_Stack_30,(_String_base *)"adlist.txt",(uint)(pcVar3 + -0x5363ac));
  iStack_8._0_1_ = 1;
  uVar4 = Math_MaxValue(DAT_0056da10,extraout_DX,a_Stack_30,&stack0xffffffb0,'\0');
  iStack_8 = (uint)iStack_8._1_3_ << 8;
  if (0xf < uStack_18) {
                    /* WARNING: Subroutine does not return */
    System_ShutdownHandler(extraout_ECX,uStack_2c);
  }
  if ((char)uVar4 == '\0') {
    Image_ScaleBilinear((undefined4 *)&stack0xffffffb0,extraout_EDX);
  }
  else {
    uVar4 = Level_InitializeDictastroika((int)&stack0xffffffb0);
    cVar2 = (char)uVar4;
    while (cVar2 == '\0') {
      Image_FlipVertical(&stack0xffffffb0,a_Stack_30);
      iStack_8._0_1_ = 2;
      (**(code **)*param_1)(a_Stack_30,0);
      iStack_8 = (uint)iStack_8._1_3_ << 8;
      if (0xf < uStack_18) {
                    /* WARNING: Subroutine does not return */
        System_ShutdownHandler(uStack_2c,extraout_EDX_00);
      }
      uStack_18 = 0xf;
      uStack_1c = 0;
      uStack_2c = uStack_2c & 0xffffff00;
      uVar4 = Level_InitializeDictastroika((int)&stack0xffffffb0);
      cVar2 = (char)uVar4;
    }
    Game_ProcessQueuedCommands((int)param_1);
    Image_ScaleBilinear((undefined4 *)&stack0xffffffb0,extraout_EDX_01);
  }
  ExceptionList = pvStack_10;
  Exception_SetMessage((void *)(uStack_14 ^ unaff_retaddr),in_stack_ffffffb0,in_stack_ffffffb4);
  return;
}


