/*
 * Function: Renderer_SetRenderState
 * Address: 004ccf20
 * Category: graphics
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


void __fastcall
Renderer_SetRenderState
          (undefined4 param_1,byte *param_2,void *param_3,void *param_4,undefined4 param_5,
          undefined4 param_6,int param_7,byte *param_8,byte *param_9,undefined4 *param_10)

{
  char *pcVar1;
  byte bVar2;
  char cVar3;
  bool bVar4;
  int iVar5;
  byte *pbVar6;
  char *pcVar7;
  int iVar8;
  int extraout_ECX;
  int extraout_ECX_00;
  int extraout_ECX_01;
  uint extraout_EDX;
  uint extraout_EDX_00;
  uint extraout_EDX_01;
  uint uVar9;
  byte *pbVar10;
  byte *pbVar11;
  undefined4 *puVar12;
  uint unaff_retaddr;
  undefined4 *in_stack_ffffffd8;
  undefined4 *in_stack_ffffffdc;
  byte *local_18;
  uint local_14;
  int local_10;
  undefined4 *local_c;
  uint local_8;
  
  pbVar10 = param_8;
  local_8 = DAT_00569f5c ^ unaff_retaddr;
  if (3 < param_7) {
    CPU_Instruction21(param_1,param_2,(uint)param_3,"Unrecognized equation type for pCAL chunk");
  }
  iVar5 = Renderer_Translate(param_4,param_3,(byte *)param_4,(int *)&local_18);
  local_14 = iVar5 + 1;
  pbVar6 = param_9;
  do {
    bVar2 = *pbVar6;
    pbVar6 = pbVar6 + 1;
  } while (bVar2 != 0);
  pbVar6 = pbVar6 + ((uint)(param_8 != (byte *)0x0) - (int)(param_9 + 1));
  local_c = (undefined4 *)CPU_Instruction12((int)param_3,(int)param_8 * 4);
  pbVar11 = (byte *)0x0;
  bVar4 = 0 < (int)param_8;
  param_8 = pbVar6 + iVar5 + 0xb;
  if (bVar4) {
    local_10 = (int)param_10 - (int)local_c;
    puVar12 = local_c;
    do {
      pcVar7 = *(char **)(local_10 + (int)puVar12);
      pcVar1 = pcVar7 + 1;
      do {
        cVar3 = *pcVar7;
        pcVar7 = pcVar7 + 1;
      } while (cVar3 != '\0');
      param_8 = param_8 + (int)(pcVar7 + ((uint)(pbVar11 != pbVar10 + -1) - (int)pcVar1));
      *puVar12 = pcVar7 + ((uint)(pbVar11 != pbVar10 + -1) - (int)pcVar1);
      pbVar11 = pbVar11 + 1;
      puVar12 = puVar12 + 1;
    } while ((int)pbVar11 < (int)pbVar10);
  }
  Renderer_SetViewport((uint)param_3,(byte *)&DAT_00567d24,param_8);
  Renderer_SetProjection((uint)param_3,local_18,local_14);
  Renderer_EndScene(&stack0xffffffd8,param_5);
  Renderer_EndScene(&stack0xffffffdc,param_6);
  Renderer_SetProjection((uint)param_3,&stack0xffffffd8,10);
  Renderer_SetProjection((uint)param_3,param_9,(uint)pbVar6);
  CPU_Instruction13(extraout_ECX,extraout_EDX,(int)param_3,(int)local_18);
  iVar5 = extraout_ECX_00;
  uVar9 = extraout_EDX_00;
  if (0 < (int)pbVar10) {
    iVar8 = (int)local_c - (int)param_10;
    do {
      Renderer_SetProjection((uint)param_3,(byte *)*param_10,*(uint *)(iVar8 + (int)param_10));
      param_10 = param_10 + 1;
      pbVar10 = pbVar10 + -1;
      iVar5 = extraout_ECX_01;
      uVar9 = extraout_EDX_01;
    } while (pbVar10 != (byte *)0x0);
  }
  CPU_Instruction13(iVar5,uVar9,(int)param_3,(int)local_c);
  Renderer_SetModelView((uint)param_3);
  Exception_SetMessage((void *)(local_8 ^ unaff_retaddr),in_stack_ffffffd8,in_stack_ffffffdc);
  return;
}


