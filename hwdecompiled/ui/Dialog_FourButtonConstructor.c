/*
 * Function: Dialog_FourButtonConstructor
 * Address: 004222b0
 * Category: ui
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void __fastcall Dialog_FourButtonConstructor(int *param_1)

{
  uint uVar1;
  int *piVar2;
  double dVar3;
  double *pdVar4;
  undefined4 *puVar5;
  int iVar6;
  int local_8;
  
  Algorithm_CopyN((int)param_1);
  if (*(int *)(param_1[0x17] + 0x414) % 10 == 0) {
    local_8 = 0;
    do {
      pdVar4 = (double *)operator_new(0x20);
      puVar5 = (undefined4 *)operator_new(0xc);
      puVar5[2] = param_1[0x1e];
      puVar5[1] = 0;
      *(undefined4 **)(param_1[0x1e] + 4) = puVar5;
      *puVar5 = pdVar4;
      param_1[0x1e] = (int)puVar5;
      param_1[0x1f] = param_1[0x1f] + 1;
      *(undefined4 *)(pdVar4 + 1) = 0;
      *pdVar4 = (double)local_8;
      *(undefined4 *)((int)pdVar4 + 0xc) = 0x40804000;
      *(undefined4 *)(pdVar4 + 2) = 0;
      *(undefined4 *)((int)pdVar4 + 0x14) = 0x3ff00000;
      iVar6 = Collision_HandleEnemyHit();
      local_8 = local_8 + 0x28;
      pdVar4[3] = (double)(iVar6 % 3000) * _DAT_0052d860 + _DAT_0052a0f0;
    } while (local_8 < 0x281);
  }
  param_1[0x1d] = param_1[0x1c];
  do {
    if (*(int *)(param_1[0x1d] + 4) == 0) {
      (**(code **)(*param_1 + 0xbc))();
      return;
    }
    param_1[0x1d] = *(int *)(param_1[0x1d] + 4);
    if (param_1[0x1f] == 0) {
      iVar6 = 0;
    }
    else {
      iVar6 = *(int *)param_1[0x1d];
    }
    *(double *)(iVar6 + 8) = *(double *)(iVar6 + 8) - *(double *)(iVar6 + 0x18);
    dVar3 = *(double *)(iVar6 + 0x10) - _DAT_0052d858;
    *(double *)(iVar6 + 0x10) = dVar3;
  } while ((dVar3 < _DAT_0052a0c0 == (dVar3 == _DAT_0052a0c0)) ||
          (iVar6 = param_1[0x1d], iVar6 == param_1[0x1c]));
  if (iVar6 == param_1[0x1e]) {
    param_1[0x1e] = *(int *)(iVar6 + 8);
  }
  uVar1 = *(uint *)(iVar6 + 4);
  *(uint *)(*(int *)(iVar6 + 8) + 4) = uVar1;
  iVar6 = *(int *)(param_1[0x1d] + 4);
  if (iVar6 != 0) {
    *(undefined4 *)(iVar6 + 8) = *(undefined4 *)(param_1[0x1d] + 8);
  }
  piVar2 = (int *)param_1[0x1d];
  if (*piVar2 == 0) {
                    /* WARNING: Subroutine does not return */
    System_ShutdownHandler((int)piVar2,uVar1);
  }
                    /* WARNING: Subroutine does not return */
  System_ShutdownHandler((int)piVar2,uVar1);
}


