/*
 * Function: UI_ProcessMenuTransition
 * Address: 00436c80
 * Category: ui
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void __fastcall UI_ProcessMenuTransition(int param_1)

{
  double dVar1;
  void *pvVar2;
  double dVar3;
  double dVar4;
  uint uVar5;
  undefined4 uVar6;
  int iVar7;
  undefined4 *puVar8;
  uint extraout_ECX;
  undefined4 *extraout_ECX_00;
  uint *puVar9;
  uint *extraout_EDX;
  uint *extraout_EDX_00;
  double *pdVar10;
  int iVar11;
  bool bVar12;
  float10 fVar13;
  float10 extraout_ST1;
  ulonglong uVar14;
  double local_18;
  double local_10;
  int local_8;
  
  Boss_ProcessWreckerWarWrecker(param_1);
  if (0 < *(int *)(param_1 + 0x70)) {
    *(int *)(param_1 + 0x70) = *(int *)(param_1 + 0x70) + -1;
  }
  if (0 < *(int *)(param_1 + 0x74)) {
    *(int *)(param_1 + 0x74) = *(int *)(param_1 + 0x74) + -1;
  }
  if (*(int *)(param_1 + 0x84) != 0) {
    *(int *)(param_1 + 0x84) = *(int *)(param_1 + 0x84) + -1;
  }
  if (*(int *)(param_1 + 0x88) != 0) {
    *(int *)(param_1 + 0x88) = *(int *)(param_1 + 0x88) + -1;
  }
  dVar1 = *(double *)(param_1 + 0x28) + _DAT_0052c590;
  bVar12 = _DAT_0052c568 <= dVar1;
  *(double *)(param_1 + 0x28) = dVar1;
  if (bVar12) {
    *(double *)(param_1 + 0x28) = dVar1 - _DAT_0052c568;
  }
  dVar1 = *(double *)(param_1 + 0x78) + _DAT_0052a0e8;
  bVar12 = _DAT_0052c568 <= dVar1;
  *(double *)(param_1 + 0x78) = dVar1;
  if (bVar12) {
    *(double *)(param_1 + 0x78) = dVar1 - _DAT_0052c568;
  }
  iVar11 = *(int *)(param_1 + 0x4c);
  if ((*(int *)(iVar11 + 0x80) == 0) &&
     ((puVar8 = (undefined4 *)(*(int *)(iVar11 + 0x184) + -700),
      *(int *)(iVar11 + 0x17c) < (int)puVar8 ||
      (puVar8 = (undefined4 *)CONCAT31((int3)((uint)puVar8 >> 8),*(char *)(iVar11 + 0x327)),
      *(char *)(iVar11 + 0x327) != '\0')))) {
    puVar9 = *(uint **)(iVar11 + 0x1e4);
    *(uint **)(iVar11 + 0x1e8) = puVar9;
    local_10 = 0.0;
    local_18 = 0.0;
    local_8 = 0;
    iVar11 = *(int *)(param_1 + 0x4c) + 0x1e4;
    while( true ) {
      pdVar10 = (double *)0x0;
      iVar7 = *(int *)(*(int *)(iVar11 + 4) + 4);
      if (iVar7 == 0) break;
      *(int *)(iVar11 + 4) = iVar7;
      iVar7 = *(int *)(param_1 + 0x4c);
      iVar11 = iVar7 + 0x1e4;
      if (*(int *)(iVar7 + 0x1f0) != 0) {
        puVar8 = *(undefined4 **)(iVar7 + 0x1e8);
        pdVar10 = (double *)*puVar8;
      }
      if (*(char *)(pdVar10 + 6) == '\0') {
        Math_ProcessFloatPrecision((uint)puVar8,puVar9);
        fVar13 = (float10)Math_ProcessFloatPrecision(extraout_ECX,extraout_EDX);
        puVar8 = extraout_ECX_00;
        puVar9 = extraout_EDX_00;
        if (SQRT(fVar13 + extraout_ST1) < (float10)_DAT_0052c720 !=
            (NAN(SQRT(fVar13 + extraout_ST1)) || NAN((float10)_DAT_0052c720))) {
          local_10 = local_10 + *pdVar10;
          local_8 = local_8 + 1;
          local_18 = local_18 + pdVar10[1];
        }
      }
    }
    if ((((0 < local_8) && (_DAT_00530578 < *(double *)(param_1 + 8))) &&
        (*(double *)(param_1 + 8) < _DAT_0052f9f0 !=
         (NAN(*(double *)(param_1 + 8)) || NAN(_DAT_0052f9f0)))) &&
       ((_DAT_0052c718 < *(double *)(param_1 + 0x10) &&
        (*(double *)(param_1 + 0x10) < _DAT_0052c710 !=
         (NAN(*(double *)(param_1 + 0x10)) || NAN(_DAT_0052c710)))))) {
      local_10 = local_10 * (_DAT_0052a0f0 / (double)local_8);
      local_18 = (_DAT_0052a0f0 / (double)local_8) * local_18;
      if (*(double *)(param_1 + 8) < local_10 != (NAN(*(double *)(param_1 + 8)) || NAN(local_10))) {
        *(double *)(param_1 + 0x18) = *(double *)(param_1 + 0x18) - _DAT_0052c5a0;
      }
      if (local_10 < *(double *)(param_1 + 8)) {
        *(double *)(param_1 + 0x18) = *(double *)(param_1 + 0x18) + _DAT_0052c5a0;
      }
      if (*(double *)(param_1 + 0x10) < local_18) {
        *(double *)(param_1 + 0x20) = *(double *)(param_1 + 0x20) - _DAT_0052d4c8;
      }
      if (local_18 < *(double *)(param_1 + 0x10) !=
          (NAN(local_18) || NAN(*(double *)(param_1 + 0x10)))) {
        *(double *)(param_1 + 0x20) = *(double *)(param_1 + 0x20) + _DAT_0052d4c8;
      }
      goto LAB_00436f3d;
    }
    dVar1 = *(double *)(*(int *)(param_1 + 0x4c) + 0x90);
    if (*(double *)(param_1 + 8) < dVar1 != (NAN(*(double *)(param_1 + 8)) || NAN(dVar1))) {
      *(double *)(param_1 + 0x18) = *(double *)(param_1 + 0x18) + _DAT_0052c838;
    }
    if (*(double *)(param_1 + 8) <= *(double *)(*(int *)(param_1 + 0x4c) + 0x90)) goto LAB_00436f3d;
    dVar1 = *(double *)(param_1 + 0x18) - _DAT_0052c838;
  }
  else {
    if (*(double *)(param_1 + 8) < _DAT_0052a0c0 !=
        (NAN(*(double *)(param_1 + 8)) || NAN(_DAT_0052a0c0))) {
      *(double *)(param_1 + 0x18) = *(double *)(param_1 + 0x18) - _DAT_0052d4c8;
    }
    if (*(double *)(param_1 + 8) < _DAT_0052a0c0) goto LAB_00436f3d;
    dVar1 = *(double *)(param_1 + 0x18) + _DAT_0052d4c8;
  }
  *(double *)(param_1 + 0x18) = dVar1;
LAB_00436f3d:
  iVar11 = Collision_HandleEnemyHit();
  if (iVar11 % 0x50 == 0) {
    uVar5 = Collision_HandleEnemyHit();
    uVar5 = uVar5 & 0x80000003;
    if ((int)uVar5 < 0) {
      uVar5 = (uVar5 - 1 | 0xfffffffc) + 1;
    }
    *(double *)(param_1 + 0x20) =
         ((double)(int)uVar5 * _DAT_0052c5a0 - _DAT_0052cd40) + *(double *)(param_1 + 0x20);
  }
  if (*(double *)(param_1 + 0x10) < _DAT_0052c718 !=
      (NAN(*(double *)(param_1 + 0x10)) || NAN(_DAT_0052c718))) {
    *(double *)(param_1 + 0x20) = *(double *)(param_1 + 0x20) + _DAT_0052c5a0;
  }
  if (_DAT_0052c710 < *(double *)(param_1 + 0x10)) {
    *(double *)(param_1 + 0x20) = *(double *)(param_1 + 0x20) - _DAT_0052c5a0;
  }
  if (_DAT_0052c5d8 < *(double *)(param_1 + 0x18)) {
    *(undefined4 *)(param_1 + 0x18) = 0;
    *(undefined4 *)(param_1 + 0x1c) = 0x40000000;
  }
  if (*(double *)(param_1 + 0x18) < _DAT_005305a0 !=
      (NAN(*(double *)(param_1 + 0x18)) || NAN(_DAT_005305a0))) {
    *(undefined4 *)(param_1 + 0x18) = 0;
    *(undefined4 *)(param_1 + 0x1c) = 0xc0000000;
  }
  if (_DAT_0052a0f0 < *(double *)(param_1 + 0x20)) {
    *(undefined4 *)(param_1 + 0x20) = 0;
    *(undefined4 *)(param_1 + 0x24) = 0x3ff00000;
  }
  if (*(double *)(param_1 + 0x20) < _DAT_0052f6b0 !=
      (NAN(*(double *)(param_1 + 0x20)) || NAN(_DAT_0052f6b0))) {
    *(undefined4 *)(param_1 + 0x20) = 0;
    *(undefined4 *)(param_1 + 0x24) = 0xbff00000;
  }
  if (((_DAT_005301f8 < *(double *)(param_1 + 8)) &&
      (*(double *)(param_1 + 8) < _DAT_005301f0 !=
       (NAN(*(double *)(param_1 + 8)) || NAN(_DAT_005301f0)))) &&
     ((iVar11 = Collision_HandleEnemyHit(), iVar11 % 0x28 == 0 &&
      ((*(int *)(param_1 + 0x70) == 0 && (*(int *)(*(int *)(param_1 + 0x4c) + 0x80) == 0)))))) {
    *(undefined4 *)(param_1 + 0x70) = 400;
    *(undefined4 *)(param_1 + 0x74) = 200;
    iVar11 = **(int **)(*(int *)(param_1 + 0x4c) + 0x5c);
    uVar14 = Math_FloatToUInt64();
    (**(code **)(iVar11 + 0xb8))(0x1a,(int)uVar14);
  }
  if (*(int *)(param_1 + 0x74) == 100) {
    iVar11 = **(int **)(*(int *)(param_1 + 0x4c) + 0x5c);
    uVar14 = Math_FloatToUInt64();
    (**(code **)(iVar11 + 0xb8))(0x1b,(int)uVar14);
  }
  if (((0 < *(int *)(param_1 + 0x74)) && (*(int *)(param_1 + 0x74) < 100)) &&
     (iVar11 = *(int *)(param_1 + 0x4c), *(int *)(iVar11 + 0x80) == 0)) {
    dVar1 = *(double *)(iVar11 + 0x90) - _DAT_0052a0a8;
    if (((dVar1 < *(double *)(param_1 + 8) != (NAN(dVar1) || NAN(*(double *)(param_1 + 8)))) &&
        (*(double *)(param_1 + 8) < *(double *)(iVar11 + 0x90) + _DAT_0052a0a8)) &&
       (*(int *)(*(int *)(iVar11 + 0x5c) + 0x96c) != 0)) {
      *(undefined4 *)(*(int *)(iVar11 + 0x5c) + 0x96c) = 0;
      iVar11 = *(int *)(param_1 + 0x4c);
      *(undefined4 *)(iVar11 + 0x148) = 0;
      *(undefined4 *)(iVar11 + 0x14c) = 0x40220000;
      iVar11 = **(int **)(*(int *)(param_1 + 0x4c) + 0x5c);
      uVar14 = Math_FloatToUInt64();
      (**(code **)(iVar11 + 0xb8))(0xe,(int)uVar14);
    }
    pvVar2 = *(void **)(param_1 + 0x4c);
    dVar1 = *(double *)((int)pvVar2 + 0x90) - _DAT_0052c9c0;
    if ((dVar1 < *(double *)(param_1 + 8) != (NAN(dVar1) || NAN(*(double *)(param_1 + 8)))) &&
       (*(double *)(param_1 + 8) < *(double *)((int)pvVar2 + 0x90) + _DAT_0052c9c0)) {
      Particles_UpdateFire(pvVar2);
    }
  }
  iVar11 = Collision_HandleEnemyHit();
  if ((iVar11 % 100 == 0) && (*(int *)(param_1 + 0x88) == 0)) {
    iVar11 = **(int **)(*(int *)(param_1 + 0x4c) + 0x5c);
    uVar14 = Math_FloatToUInt64();
    uVar6 = (undefined4)uVar14;
    iVar7 = Collision_HandleEnemyHit();
    (**(code **)(iVar11 + 0xb8))(iVar7 % 7 + 0x1c,uVar6);
    *(undefined4 *)(param_1 + 0x88) = 100;
  }
  else {
    uVar5 = Collision_HandleEnemyHit();
    uVar5 = uVar5 & 0x80000003;
    bVar12 = uVar5 == 0;
    if ((int)uVar5 < 0) {
      bVar12 = (uVar5 - 1 | 0xfffffffc) == 0xffffffff;
    }
    if ((bVar12) && (*(int *)(param_1 + 0x84) == 0)) {
      uVar5 = Collision_HandleEnemyHit();
      uVar5 = uVar5 & 0x80000001;
      if ((int)uVar5 < 0) {
        uVar5 = (uVar5 - 1 | 0xfffffffe) + 1;
      }
      iVar11 = **(int **)(*(int *)(param_1 + 0x4c) + 0x5c);
      uVar14 = Math_FloatToUInt64();
      (**(code **)(iVar11 + 0xb8))(uVar5 + 0x23,(int)uVar14);
      *(uint *)(param_1 + 0x84) = (-(uint)(uVar5 != 0) & 10) + 0xc;
    }
  }
  iVar11 = *(int *)(param_1 + 0x80) + 1;
  *(int *)(param_1 + 0x80) = iVar11;
  if (3 < iVar11) {
    dVar1 = *(double *)(param_1 + 0x20) + _DAT_0052a0f0;
    *(undefined4 *)(param_1 + 0x80) = 0;
    dVar3 = *(double *)(param_1 + 0x10) + _DAT_00530288;
    dVar4 = *(double *)(param_1 + 8) + _DAT_00530420;
    ParticleEffects_CreateParticles
              (*(int *)(param_1 + 0x4c) + 0x2e8,
               *(int *)(*(int *)(*(int *)(param_1 + 0x4c) + 0x5c) + 0x6e0),SUB84(dVar4,0),
               (int)((ulonglong)dVar4 >> 0x20),SUB84(dVar3,0),(int)((ulonglong)dVar3 >> 0x20),
               *(double *)(param_1 + 0x18) + _DAT_0052c5d8,dVar1,1,1.0,0,0,0,0,0x1e,1,-1);
    dVar1 = *(double *)(param_1 + 0x10) + _DAT_00530288;
    dVar3 = *(double *)(param_1 + 8) - _DAT_00530420;
    ParticleEffects_CreateParticles
              (*(int *)(param_1 + 0x4c) + 0x2e8,
               *(int *)(*(int *)(*(int *)(param_1 + 0x4c) + 0x5c) + 0x6e0),SUB84(dVar3,0),
               (int)((ulonglong)dVar3 >> 0x20),SUB84(dVar1,0),(int)((ulonglong)dVar1 >> 0x20),
               *(double *)(param_1 + 0x18) - _DAT_0052c5d8,
               *(double *)(param_1 + 0x20) + _DAT_0052a0f0,1,1.0,0,0,0,0,0x1e,1,-1);
  }
  iVar11 = Boss_ProcessApeKommieKong(param_1);
  if ((*(double *)(param_1 + 8) < (double)(-0x140 - iVar11 / 2)) ||
     (iVar11 = Boss_ProcessApeKommieKong(param_1), dVar1 = (double)(iVar11 / 2 + 0x140),
     dVar1 < *(double *)(param_1 + 8) != (NAN(dVar1) || NAN(*(double *)(param_1 + 8))))) {
    Boss_BattleshipCannonSystem(param_1);
  }
  return;
}


