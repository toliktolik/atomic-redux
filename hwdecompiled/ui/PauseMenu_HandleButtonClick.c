/*
 * Function: PauseMenu_HandleButtonClick
 * Address: 0041f8b0
 * Category: ui
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


void __thiscall PauseMenu_HandleButtonClick(void *this,int param_1)

{
  void *pvVar1;
  undefined4 *puVar2;
  int extraout_ECX;
  int extraout_ECX_00;
  undefined1 *puVar3;
  int extraout_ECX_01;
  int iVar4;
  uint extraout_EDX;
  uint extraout_EDX_00;
  uint extraout_EDX_01;
  uint extraout_EDX_02;
  uint extraout_EDX_03;
  uint extraout_EDX_04;
  uint uVar5;
  uint extraout_EDX_05;
  uint extraout_EDX_06;
  uint extraout_EDX_07;
  uint extraout_EDX_08;
  undefined4 *unaff_EBX;
  undefined4 *unaff_ESI;
  bool bVar6;
  uint unaff_retaddr;
  undefined1 local_a4 [28];
  undefined1 local_88 [28];
  _String_base local_6c [28];
  _String_base local_50 [32];
  uint local_30;
  undefined4 local_20;
  uint local_1c;
  undefined4 local_18;
  uint local_14;
  void *local_10;
  undefined *puStack_c;
  undefined4 local_8;
  
  puStack_c = &DAT_00510e00;
  local_10 = ExceptionList;
  local_14 = DAT_00569f5c ^ unaff_retaddr;
  local_18 = 0;
  local_1c = 0xf;
  local_20 = 0;
  local_30 = local_30 & 0xffffff00;
  local_8 = 0;
  ExceptionList = &local_10;
  (**(code **)(**(int **)((int)this + 0xc0) + 0xb8))(0x12,0);
  if (param_1 != 5) {
    if (param_1 == 0x21) {
      (**(code **)(**(int **)((int)this + 0xc0) + 0x108))(0x20);
      (**(code **)(**(int **)((int)this + 0xc0) + 0x108))(3);
      *(undefined4 *)(*(int *)(*(int *)(*(int *)((int)this + 0xc0) + 0x920) + 0x304) + 0x68) = 0;
      GameSystem_InitializeObject(*(int **)((int)this + 0xc0));
      UI_ProcessChildAnimation
                (*(void **)(*(int *)((int)this + 0xc0) + 0x2dc),
                 *(int **)(*(int *)((int)this + 0xc0) + 0x920));
      (**(code **)(**(int **)((int)this + 0xc0) + 0x78))((*(int **)((int)this + 0xc0))[0x248]);
      iVar4 = *(int *)((int)this + 0xc0);
      *(undefined4 *)(iVar4 + 0x920) = 0;
      uVar5 = extraout_EDX_01;
    }
    else {
      iVar4 = extraout_ECX;
      uVar5 = extraout_EDX;
      if (param_1 == 0x22) {
        (**(code **)(**(int **)((int)this + 0xc0) + 0x108))(0x20);
        iVar4 = extraout_ECX_00;
        uVar5 = extraout_EDX_00;
      }
    }
    goto LAB_0041fb40;
  }
  if ((*(int *)(*(int *)(*(int *)((int)this + 0xc0) + 0x920) + 0x80) == 0) ||
     (*(int *)(*(int *)((int)this + 0xc0) + 0x964) != 0)) {
    pvVar1 = operator_new(0x124);
    bVar6 = pvVar1 == (void *)0x0;
    local_8._0_1_ = 6;
    if (bVar6) {
      puVar2 = (undefined4 *)0x0;
      uVar5 = extraout_EDX_05;
    }
    else {
      Level_InitializeDictastroika
                (local_a4,
                 "If you quit now, your progress in this mission will be lost!\n\nRetreat to main menu?"
                );
      local_8 = CONCAT31(local_8._1_3_,7);
      local_18 = 4;
      Level_InitializeDictastroika(local_6c,"QUIT GAME");
      local_8._0_1_ = 8;
      local_8._1_3_ = 0;
      local_18 = 0xc;
      puVar2 = Dialog_YesNoConstructor
                         (pvVar1,*(int *)((int)this + 0xc0),
                          -(uint)(this != (void *)0x58) & (uint)this,local_6c,(uint)local_a4,0x140,
                          0xf0,0,0);
      uVar5 = extraout_EDX_06;
    }
    if (!bVar6) {
      String_Destructor((int)local_6c,uVar5);
      uVar5 = extraout_EDX_07;
    }
    local_8 = 0;
    if (!bVar6) {
      puVar3 = local_a4;
      goto LAB_0041fb29;
    }
  }
  else {
    pvVar1 = operator_new(0x124);
    bVar6 = pvVar1 == (void *)0x0;
    local_8._0_1_ = 1;
    if (bVar6) {
      puVar2 = (undefined4 *)0x0;
      uVar5 = extraout_EDX_02;
    }
    else {
      Level_InitializeDictastroika(local_88,"Retreat to main menu?");
      local_8 = CONCAT31(local_8._1_3_,2);
      local_18 = 1;
      Level_InitializeDictastroika(local_50,"QUIT GAME");
      local_8._0_1_ = 3;
      local_8._1_3_ = 0;
      local_18 = 3;
      puVar2 = Dialog_YesNoConstructor
                         (pvVar1,*(int *)((int)this + 0xc0),
                          -(uint)(this != (void *)0x58) & (uint)this,local_50,(uint)local_88,0x140,
                          0xb4,0,0);
      uVar5 = extraout_EDX_03;
    }
    if (!bVar6) {
      String_Destructor((int)local_50,uVar5);
      uVar5 = extraout_EDX_04;
    }
    local_8 = 0;
    if (!bVar6) {
      puVar3 = local_88;
LAB_0041fb29:
      local_8 = 0;
      String_Destructor((int)puVar3,uVar5);
    }
  }
  (**(code **)(**(int **)((int)this + 0xc0) + 0x100))(0x20,puVar2);
  iVar4 = extraout_ECX_01;
  uVar5 = extraout_EDX_08;
LAB_0041fb40:
  if (0xf < local_1c) {
                    /* WARNING: Subroutine does not return */
    System_ShutdownHandler(iVar4,uVar5);
  }
  ExceptionList = local_10;
  Exception_SetMessage((void *)(local_14 ^ unaff_retaddr),unaff_ESI,unaff_EBX);
  return;
}


