/*
 * Function: UI_ValidateChildDepth
 * Address: 004657d0
 * Category: ui
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


void __thiscall UI_ValidateChildDepth(void *this,void *param_1)

{
  char *pcVar1;
  int iVar2;
  char *pcVar3;
  undefined4 *puVar4;
  undefined4 uVar5;
  int iVar6;
  int extraout_ECX;
  int iVar7;
  undefined4 uVar8;
  undefined1 local_38 [4];
  uint local_34;
  undefined4 local_24;
  uint local_20;
  int local_1c;
  void *local_18;
  uint local_14;
  void *local_10;
  undefined4 uStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  uStack_c = 0x514132;
  local_10 = ExceptionList;
  local_14 = 0;
  ExceptionList = &local_10;
  iVar2 = (**(code **)(**(int **)((int)this + 0x7c) + 0x1c))((int)this + 0x5c);
  iVar7 = (*(int *)((int)this + 0x10) - iVar2) / 2;
  local_1c = iVar7;
  iVar2 = (**(code **)(**(int **)((int)this + 0x7c) + 4))();
  iVar2 = (iVar2 + *(int *)((int)this + 0x14)) / 2 + -1;
  if (*(char *)((int)this + 0x20) == '\0') {
    puVar4 = (undefined4 *)((int)this + 0xf0);
  }
  else {
    puVar4 = (undefined4 *)((int)this + 0x100);
  }
  SexyWidget_SetRectangle(param_1,puVar4);
  if (*(int *)((int)this + 0x7c) == 0) {
    local_18 = operator_new(0x1c);
    iVar6 = 0;
    local_8 = 0;
    if (local_18 == (void *)0x0) {
      puVar4 = (undefined4 *)0x0;
    }
    else {
      local_20 = 0xf;
      local_24 = 0;
      local_34 = local_34 & 0xffffff00;
      pcVar1 = "SansSerif";
      do {
        pcVar3 = pcVar1;
        pcVar1 = pcVar3 + 1;
      } while (*pcVar3 != '\0');
      String_Assign(local_38,(_String_base *)"SansSerif",(uint)(pcVar3 + -0x532970));
      local_8 = CONCAT31(local_8._1_3_,1);
      local_14 = 1;
      puVar4 = System_CancelScheduledTask
                         (local_18,*(int *)(*(int *)((int)this + 0x24) + 0xc),(int)local_38,10,0,
                          '\0',0,0);
      iVar6 = extraout_ECX;
    }
    *(undefined4 **)((int)this + 0x7c) = puVar4;
    local_8 = 0xffffffff;
    if ((local_14 & 1) != 0) {
      if (0xf < local_20) {
                    /* WARNING: Subroutine does not return */
        System_ShutdownHandler(iVar6,local_34);
      }
      local_20 = 0xf;
      local_24 = 0;
      local_34 = local_34 & 0xffffff00;
    }
  }
  Graphics_SetProjection(param_1,*(undefined4 *)((int)this + 0x7c));
  SexyWidget_DrawWithInterface(param_1,(int)this + 0x5c,iVar7,iVar2);
  iVar7 = 0;
  if (0 < *(int *)((int)this + 0x110)) {
    do {
      uVar8 = 1;
      uVar5 = (**(code **)(**(int **)((int)this + 0x7c) + 0x1c))((int)this + 0x5c);
      Graphics_FillRect(param_1,local_1c,*(int *)((int)this + 0x114) + iVar7 + iVar2,uVar5,uVar8);
      iVar7 = iVar7 + 1;
    } while (iVar7 < *(int *)((int)this + 0x110));
  }
  ExceptionList = local_10;
  return;
}


