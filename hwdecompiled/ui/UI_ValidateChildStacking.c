/*
 * Function: UI_ValidateChildStacking
 * Address: 00466fb0
 * Category: ui
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void __thiscall UI_ValidateChildStacking(void *this,void *param_1)

{
  void *pvVar1;
  undefined4 *puVar2;
  int iVar3;
  undefined4 uVar4;
  uint extraout_EDX;
  uint extraout_EDX_00;
  uint uVar5;
  int extraout_EDX_01;
  int extraout_EDX_02;
  int extraout_EDX_03;
  int extraout_EDX_04;
  int extraout_EDX_05;
  int extraout_EDX_06;
  byte bVar6;
  ulonglong uVar7;
  int *piVar8;
  undefined4 uVar9;
  undefined4 uVar10;
  undefined1 local_44 [16];
  undefined1 local_34 [12];
  undefined1 local_28 [16];
  int *local_18;
  void *local_14;
  void *local_10;
  undefined *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &DAT_00514392;
  local_10 = ExceptionList;
  local_18 = (int *)0x0;
  if (*(char *)((int)this + 0xd1) != '\0') {
    return;
  }
  ExceptionList = &local_10;
  if ((*(int *)((int)this + 0x7c) == 0) &&
     (ExceptionList = &local_10, *(int *)((int)this + 0x70) != 0)) {
    ExceptionList = &local_10;
    pvVar1 = operator_new(0x1c);
    puVar2 = (undefined4 *)0x0;
    local_8 = 0;
    uVar5 = extraout_EDX;
    local_14 = pvVar1;
    if (pvVar1 != (void *)0x0) {
      Level_InitializeDictastroika(local_34,"SansSerif");
      local_8 = CONCAT31(local_8._1_3_,1);
      local_18 = (int *)0x1;
      puVar2 = System_CancelScheduledTask
                         (pvVar1,*(int *)(*(int *)((int)this + 0x24) + 0xc),(int)local_34,10,0,'\0',
                          0,0);
      uVar5 = extraout_EDX_00;
    }
    *(undefined4 **)((int)this + 0x7c) = puVar2;
    local_8 = 0xffffffff;
    if (pvVar1 != (void *)0x0) {
      String_Destructor((int)local_34,uVar5);
    }
  }
  if (((*(char *)((int)this + 0x1f) == '\0') || (*(char *)((int)this + 0x20) == '\0')) ||
     (*(char *)((int)this + 0x1d) != '\0')) {
    bVar6 = 0;
  }
  else {
    bVar6 = 1;
  }
  bVar6 = bVar6 ^ *(byte *)((int)this + 0xd0);
  piVar8 = *(int **)((int)this + 0x7c);
  local_14 = (void *)0x0;
  local_18 = (int *)0x0;
  if (piVar8 != (int *)0x0) {
    if (*(int *)((int)this + 0x78) == 0) {
      iVar3 = (**(code **)(*piVar8 + 0x1c))((int)this + 0x5c);
      local_14 = (void *)((*(int *)((int)this + 0x10) - iVar3) / 2);
    }
    else if (*(int *)((int)this + 0x78) == 1) {
      iVar3 = (**(code **)(*piVar8 + 0x1c))((int)this + 0x5c);
      local_14 = (void *)(*(int *)((int)this + 0x10) - iVar3);
    }
    piVar8 = *(int **)((int)this + 0x7c);
    local_18 = piVar8;
    iVar3 = (**(code **)(*piVar8 + 4))();
    local_18 = (int *)(*(int *)((int)this + 0x14) - iVar3 / 6);
    iVar3 = (**(code **)(*piVar8 + 4))();
    local_18 = (int *)(((int)local_18 + -1 + iVar3) / 2);
  }
  Graphics_SetProjection(param_1,*(undefined4 *)((int)this + 0x7c));
  iVar3 = *(int *)((int)this + 0x80);
  if ((iVar3 == 0) && (*(int *)((int)this + 0x88) == 0)) {
    if (*(char *)((int)this + 0xd2) == '\0') {
      puVar2 = (undefined4 *)SexyWidget_ApplyMatrix(local_28,0xd4,0xd4,0xd4);
      SexyWidget_SetRectangle(param_1,puVar2);
      Graphics_FillRect(param_1,0,0,*(undefined4 *)((int)this + 0x10),
                        *(undefined4 *)((int)this + 0x14));
    }
    if (bVar6 != 0) {
      if (*(char *)((int)this + 0xd2) == '\0') {
        puVar2 = (undefined4 *)SexyWidget_ApplyMatrix(local_28,0,0,0);
        SexyWidget_SetRectangle(param_1,puVar2);
        Graphics_FillRect(param_1,0,0,*(int *)((int)this + 0x10) + -1,1);
        Graphics_FillRect(param_1,0,0,1,*(int *)((int)this + 0x14) + -1);
        puVar2 = (undefined4 *)SexyWidget_ApplyMatrix(local_28,0xff,0xff,0xff);
        SexyWidget_SetRectangle(param_1,puVar2);
        Graphics_FillRect(param_1,0,*(int *)((int)this + 0x14) + -1,
                          *(undefined4 *)((int)this + 0x10),1);
        Graphics_FillRect(param_1,*(int *)((int)this + 0x10) + -1,0,1,
                          *(undefined4 *)((int)this + 0x14));
        puVar2 = (undefined4 *)SexyWidget_ApplyMatrix(local_28,0x84,0x84,0x84);
        SexyWidget_SetRectangle(param_1,puVar2);
        Graphics_FillRect(param_1,1,1,*(int *)((int)this + 0x10) + -3,1);
        Graphics_FillRect(param_1,1,1,1,*(int *)((int)this + 0x14) + -3);
      }
      puVar2 = (undefined4 *)SexyWidget_ApplyMatrix(local_28,0,0,0);
LAB_0046752c:
      SexyWidget_SetRectangle(param_1,puVar2);
      pvVar1 = (void *)((int)local_14 + 1);
      piVar8 = (int *)((int)local_18 + 1);
      goto LAB_0046753d;
    }
    if (*(char *)((int)this + 0xd2) == '\0') {
      puVar2 = (undefined4 *)SexyWidget_ApplyMatrix(local_28,0xff,0xff,0xff);
      SexyWidget_SetRectangle(param_1,puVar2);
      Graphics_FillRect(param_1,0,0,*(int *)((int)this + 0x10) + -1,1);
      Graphics_FillRect(param_1,0,0,1,*(int *)((int)this + 0x14) + -1);
      puVar2 = (undefined4 *)SexyWidget_ApplyMatrix(local_28,0,0,0);
      SexyWidget_SetRectangle(param_1,puVar2);
      Graphics_FillRect(param_1,0,*(int *)((int)this + 0x14) + -1,*(undefined4 *)((int)this + 0x10),
                        1);
      Graphics_FillRect(param_1,*(int *)((int)this + 0x10) + -1,0,1,
                        *(undefined4 *)((int)this + 0x14));
      puVar2 = (undefined4 *)SexyWidget_ApplyMatrix(local_28,0x84,0x84,0x84);
      SexyWidget_SetRectangle(param_1,puVar2);
      Graphics_FillRect(param_1,1,*(int *)((int)this + 0x14) + -2,*(int *)((int)this + 0x10) + -2,1)
      ;
      Graphics_FillRect(param_1,*(int *)((int)this + 0x10) + -2,1,1,*(int *)((int)this + 0x14) + -2)
      ;
    }
    if (*(char *)((int)this + 0x20) != '\0') {
      SexyWidget_SetRectangle(param_1,(undefined4 *)(*(int *)((int)this + 0x2c) + 0x10));
      pvVar1 = local_14;
      piVar8 = local_18;
      goto LAB_0046753d;
    }
  }
  else {
    if (bVar6 != 0) {
      piVar8 = (int *)((int)this + 0xb0);
      uVar4 = UI_ProcessWidgetInput(*(int *)((int)this + 0x88),(int)piVar8);
      if ((char)uVar4 == '\0') {
        piVar8 = (int *)((int)this + 0xa0);
        uVar4 = UI_ProcessWidgetInput(*(int *)((int)this + 0x84),(int)piVar8);
        uVar10 = 1;
        uVar9 = 1;
        if ((char)uVar4 == '\0') {
          piVar8 = (int *)((int)this + 0x90);
          iVar3 = extraout_EDX_06;
        }
        else {
          iVar3 = *(int *)((int)this + 0x84);
        }
      }
      else {
        iVar3 = *(int *)((int)this + 0x88);
        uVar10 = 0;
        uVar9 = 0;
      }
      UI_UpdateWidgetMetrics(this,param_1,iVar3,piVar8,uVar9,uVar10);
      puVar2 = (undefined4 *)(*(int *)((int)this + 0x2c) + 0x10);
      goto LAB_0046752c;
    }
    if (*(char *)((int)this + 0x1d) == '\0') {
LAB_00467388:
      if ((*(double *)((int)this + 0xd8) <= _DAT_0052a0c0) ||
         (uVar4 = UI_ProcessWidgetInput(*(int *)((int)this + 0x84),(int)this + 0xa0),
         iVar3 = extraout_EDX_02, (char)uVar4 == '\0')) {
        if ((*(char *)((int)this + 0x20) != '\0') || (*(char *)((int)this + 0x1f) != '\0')) {
          piVar8 = (int *)((int)this + 0xa0);
          uVar4 = UI_ProcessWidgetInput(*(int *)((int)this + 0x84),(int)piVar8);
          iVar3 = extraout_EDX_04;
          if ((char)uVar4 != '\0') {
            iVar3 = *(int *)((int)this + 0x84);
            goto LAB_0046748a;
          }
        }
        piVar8 = (int *)((int)this + 0x90);
        uVar4 = UI_ProcessWidgetInput(iVar3,(int)piVar8);
        iVar3 = extraout_EDX_05;
        if ((char)uVar4 != '\0') goto LAB_0046748a;
      }
      else {
        uVar4 = UI_ProcessWidgetInput(extraout_EDX_02,(int)this + 0x90);
        if ((char)uVar4 != '\0') {
          UI_UpdateWidgetMetrics(this,param_1,extraout_EDX_03,(int *)((int)this + 0x90),0,0);
        }
        SexyWidget_SetColorizeFlag2(param_1,1);
        uVar7 = Math_FloatToUInt64();
        puVar2 = (undefined4 *)CreateColor(local_44,0xff,0xff,0xff,(int)uVar7);
        SexyWidget_SetRectangle(param_1,puVar2);
        UI_UpdateWidgetMetrics
                  (this,param_1,*(int *)((int)this + 0x84),(int *)((int)this + 0xa0),0,0);
        SexyWidget_SetColorizeFlag2(param_1,0);
      }
    }
    else {
      piVar8 = (int *)((int)this + 0xc0);
      uVar4 = UI_ProcessWidgetInput(*(int *)((int)this + 0x8c),(int)piVar8);
      iVar3 = extraout_EDX_01;
      if ((char)uVar4 == '\0') goto LAB_00467388;
      iVar3 = *(int *)((int)this + 0x8c);
LAB_0046748a:
      UI_UpdateWidgetMetrics(this,param_1,iVar3,piVar8,0,0);
    }
    if (*(char *)((int)this + 0x20) != '\0') {
      SexyWidget_SetRectangle(param_1,(undefined4 *)(*(int *)((int)this + 0x2c) + 0x10));
      pvVar1 = local_14;
      piVar8 = local_18;
      goto LAB_0046753d;
    }
  }
  SexyWidget_SetRectangle(param_1,*(undefined4 **)((int)this + 0x2c));
  pvVar1 = local_14;
  piVar8 = local_18;
LAB_0046753d:
  SexyWidget_DrawWithInterface(param_1,(int)this + 0x5c,pvVar1,piVar8);
  ExceptionList = local_10;
  return;
}


