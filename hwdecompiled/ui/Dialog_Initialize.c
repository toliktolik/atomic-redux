/*
 * Function: Dialog_Initialize
 * Address: 00445800
 * Category: ui
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


undefined4 * __thiscall Dialog_Initialize(void *this,int param_1)

{
  char *pcVar1;
  void *pvVar2;
  undefined4 uVar3;
  char *pcVar4;
  undefined4 *puVar5;
  int extraout_ECX;
  int extraout_ECX_00;
  uint extraout_EDX;
  uint extraout_EDX_00;
  uint extraout_EDX_01;
  uint extraout_EDX_02;
  undefined1 local_30 [4];
  uint local_2c;
  undefined4 local_1c;
  uint local_18;
  void *local_14;
  void *local_10;
  undefined4 uStack_c;
  int local_8;
  
  local_8 = 0xffffffff;
  uStack_c = 0x512e05;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  local_14 = this;
  Boss_HelicopterTurretSystem(this,param_1);
  local_8 = 0;
  *(undefined ***)this = &PTR_Widget_Update_00530ef4;
  Widget_Cleanup();
  *(undefined4 *)((int)this + 0x40) = *(undefined4 *)((int)this + 0x58);
  *(undefined4 *)((int)this + 0x44) = *(undefined4 *)((int)this + 0x5c);
  pvVar2 = operator_new(0x20);
  local_8._0_1_ = 1;
  if (pvVar2 == (void *)0x0) {
    uVar3 = 0;
  }
  else {
    uVar3 = Sprite_GetWidth(pvVar2,*(undefined4 *)(*(int *)((int)this + 0x4c) + 0x5c));
  }
  *(undefined4 *)((int)this + 0x60) = uVar3;
  local_8._0_1_ = 0;
  local_18 = 0xf;
  local_1c = 0;
  local_2c = local_2c & 0xffffff00;
  pcVar1 = "images\\worm\\head";
  do {
    pcVar4 = pcVar1;
    pcVar1 = pcVar4 + 1;
  } while (*pcVar4 != '\0');
  String_Assign(local_30,(_String_base *)"images\\worm\\head",(uint)(pcVar4 + -0x530fb0));
  local_8._0_1_ = 2;
  Sprite_GetHeight(*(void **)((int)this + 0x60),local_30,10,1);
  local_8._0_1_ = 0;
  if (0xf < local_18) {
                    /* WARNING: Subroutine does not return */
    System_ShutdownHandler(local_2c,extraout_EDX);
  }
  pvVar2 = operator_new(0x20);
  local_8._0_1_ = 3;
  if (pvVar2 == (void *)0x0) {
    uVar3 = 0;
  }
  else {
    uVar3 = Sprite_GetWidth(pvVar2,*(undefined4 *)(*(int *)((int)this + 0x4c) + 0x5c));
  }
  *(undefined4 *)((int)this + 0x70) = uVar3;
  local_8._0_1_ = 0;
  local_18 = 0xf;
  local_1c = 0;
  local_2c = local_2c & 0xffffff00;
  pcVar1 = "images\\worm\\rib";
  do {
    pcVar4 = pcVar1;
    pcVar1 = pcVar4 + 1;
  } while (*pcVar4 != '\0');
  String_Assign(local_30,(_String_base *)"images\\worm\\rib",(uint)(pcVar4 + -0x530fa0));
  local_8._0_1_ = 4;
  Sprite_GetHeight(*(void **)((int)this + 0x70),local_30,4,1);
  local_8._0_1_ = 0;
  if (0xf < local_18) {
                    /* WARNING: Subroutine does not return */
    System_ShutdownHandler(extraout_ECX,extraout_EDX_00);
  }
  pvVar2 = operator_new(0x20);
  local_8._0_1_ = 5;
  if (pvVar2 == (void *)0x0) {
    uVar3 = 0;
  }
  else {
    uVar3 = Sprite_GetWidth(pvVar2,*(undefined4 *)(*(int *)((int)this + 0x4c) + 0x5c));
  }
  *(undefined4 *)((int)this + 0x74) = uVar3;
  local_8._0_1_ = 0;
  local_18 = 0xf;
  local_1c = 0;
  local_2c = local_2c & 0xffffff00;
  pcVar1 = "images\\worm\\turret";
  do {
    pcVar4 = pcVar1;
    pcVar1 = pcVar4 + 1;
  } while (*pcVar4 != '\0');
  String_Assign(local_30,(_String_base *)"images\\worm\\turret",(uint)(pcVar4 + -0x530f8c));
  local_8._0_1_ = 6;
  Sprite_GetHeight(*(void **)((int)this + 0x74),local_30,1,1);
  local_8._0_1_ = 0;
  if (0xf < local_18) {
                    /* WARNING: Subroutine does not return */
    System_ShutdownHandler(local_2c,extraout_EDX_01);
  }
  pvVar2 = operator_new(0x20);
  local_8._0_1_ = 7;
  if (pvVar2 == (void *)0x0) {
    uVar3 = 0;
  }
  else {
    uVar3 = Sprite_GetWidth(pvVar2,*(undefined4 *)(*(int *)((int)this + 0x4c) + 0x5c));
  }
  *(undefined4 *)((int)this + 0x78) = uVar3;
  local_8._0_1_ = 0;
  local_18 = 0xf;
  local_1c = 0;
  local_2c = local_2c & 0xffffff00;
  pcVar1 = "images\\worm\\sand";
  do {
    pcVar4 = pcVar1;
    pcVar1 = pcVar4 + 1;
  } while (*pcVar4 != '\0');
  String_Assign(local_30,(_String_base *)"images\\worm\\sand",(uint)(pcVar4 + -0x530f78));
  local_8._0_1_ = 8;
  Sprite_GetHeight(*(void **)((int)this + 0x78),local_30,4,1);
  local_8._0_1_ = 0;
  if (0xf < local_18) {
                    /* WARNING: Subroutine does not return */
    System_ShutdownHandler(extraout_ECX_00,extraout_EDX_02);
  }
  *(undefined4 *)((int)this + 0x2b8) = *(undefined4 *)((int)this + 0x278);
  *(undefined4 *)((int)this + 700) = *(undefined4 *)((int)this + 0x27c);
  *(undefined4 *)((int)this + 0x2c0) = *(undefined4 *)((int)this + 0x288);
  *(undefined4 *)((int)this + 0x2c4) = *(undefined4 *)((int)this + 0x28c);
  *(undefined4 *)((int)this + 0x2b0) = *(undefined4 *)((int)this + 0x270);
  *(undefined4 *)((int)this + 0x2d0) = *(undefined4 *)((int)this + 0x298);
  *(undefined4 *)((int)this + 0x2d4) = *(undefined4 *)((int)this + 0x29c);
  *(undefined1 *)((int)this + 0x48) = 1;
  pvVar2 = operator_new(0x88);
  local_8._0_1_ = 9;
  if (pvVar2 == (void *)0x0) {
    puVar5 = (undefined4 *)0x0;
  }
  else {
    puVar5 = Dialog_Show(pvVar2,*(int *)((int)this + 0x4c),(int)this,0);
  }
  local_8._0_1_ = 0;
  *(undefined4 **)((int)this + 0x7c) = puVar5;
  pvVar2 = operator_new(0x88);
  local_8._0_1_ = 10;
  if (pvVar2 == (void *)0x0) {
    puVar5 = (undefined4 *)0x0;
  }
  else {
    puVar5 = Dialog_Show(pvVar2,*(int *)((int)this + 0x4c),(int)this,1);
  }
  local_8._0_1_ = 0;
  *(undefined4 **)((int)this + 0x80) = puVar5;
  pvVar2 = operator_new(0x88);
  local_8._0_1_ = 0xb;
  if (pvVar2 == (void *)0x0) {
    puVar5 = (undefined4 *)0x0;
  }
  else {
    puVar5 = Dialog_Show(pvVar2,*(int *)((int)this + 0x4c),(int)this,2);
  }
  *(undefined4 **)((int)this + 0x84) = puVar5;
  local_8 = (uint)local_8._1_3_ << 8;
  *(undefined4 *)((int)this + 0x2dc) = 0;
  *(undefined4 *)((int)this + 0x2e0) = 0;
  *(undefined4 *)((int)this + 0x2c8) = *(undefined4 *)((int)this + 0x2a8);
  *(undefined1 *)((int)this + 0x2e4) = 0;
  Widget_ProcessInput(this,'\x01');
  ExceptionList = local_10;
  return (undefined4 *)this;
}


