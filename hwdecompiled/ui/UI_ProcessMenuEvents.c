/*
 * Function: UI_ProcessMenuEvents
 * Address: 00417f30
 * Category: ui
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


void __cdecl
UI_ProcessMenuEvents
          (undefined4 *param_1,undefined4 param_2,facet *param_3,void *param_4,undefined4 param_5,
          byte *param_6,int param_7,int param_8,int param_9,size_t param_10)

{
  size_t sVar1;
  int iVar2;
  void **ppvVar3;
  byte bVar4;
  uint uVar5;
  uint uVar6;
  undefined4 *puVar7;
  void *pvVar8;
  locale *plVar9;
  byte *pbVar10;
  facet *pfVar11;
  int iVar12;
  byte *pbVar13;
  undefined4 uVar14;
  undefined4 local_30;
  facet *local_2c;
  undefined4 local_28;
  facet *local_24;
  int local_20;
  undefined4 local_1c;
  facet *local_18;
  int local_14;
  void *local_10;
  undefined4 uStack_c;
  undefined4 local_8;
  
  sVar1 = param_10;
  local_8 = 0xffffffff;
  uStack_c = 0x510618;
  local_10 = ExceptionList;
  uVar6 = *(uint *)((int)param_4 + 0x14);
  uVar5 = param_7 + param_8 + param_9 + param_10;
  if (((int)uVar6 < 1) || (uVar6 <= uVar5)) {
    local_14 = 0;
  }
  else {
    local_14 = uVar6 - uVar5;
  }
  iVar12 = local_14;
  uVar6 = *(uint *)((int)param_4 + 0xc) & 0x1c0;
  pfVar11 = param_3;
  uVar14 = param_2;
  ppvVar3 = &local_10;
  if (uVar6 != 0x40) {
    ppvVar3 = &local_10;
    local_28 = param_2;
    local_24 = param_3;
    if (uVar6 == 0x100) {
      ppvVar3 = &local_10;
      if ((param_10 != 0) &&
         ((bVar4 = *param_6, bVar4 == 0x2b || (ppvVar3 = &local_10, bVar4 == 0x2d)))) {
        param_10 = CONCAT31(param_10._1_3_,bVar4);
        ExceptionList = &local_10;
        Character_OutputValidator(&local_28,bVar4);
        param_6 = param_6 + 1;
        param_10 = sVar1 - 1;
        ppvVar3 = (void **)ExceptionList;
        param_2 = local_28;
        param_3 = local_24;
      }
      for (; ExceptionList = ppvVar3, iVar12 != 0; iVar12 = iVar12 + -1) {
        Character_OutputValidator(&local_28,(byte)param_5);
        ppvVar3 = (void **)ExceptionList;
      }
      local_14 = 0;
      pfVar11 = local_24;
      uVar14 = local_28;
      ppvVar3 = (void **)ExceptionList;
    }
    else {
      for (; ExceptionList = ppvVar3, iVar12 != 0; iVar12 = iVar12 + -1) {
        Character_OutputValidator(&local_28,(byte)param_5);
        ppvVar3 = (void **)ExceptionList;
      }
      local_14 = 0;
      pfVar11 = local_24;
      uVar14 = local_28;
      ppvVar3 = (void **)ExceptionList;
    }
  }
  ExceptionList = ppvVar3;
  puVar7 = (undefined4 *)Math_FormatNumber();
  pvVar8 = _memchr(param_6,(int)*(char *)*puVar7,param_10);
  pbVar13 = param_6;
  if (pvVar8 != (void *)0x0) {
    plVar9 = (locale *)SexyWidget_ProcessInput(param_4,(int *)&param_3);
    local_8 = 0;
    local_24 = Renderer_SetModelViewMatrix(plVar9);
    local_8 = 0xffffffff;
    if (param_3 != (facet *)0x0) {
      local_18 = param_3;
      Threading_LockSectorByIndex(&local_20,0);
      iVar12 = *(int *)(local_18 + 4);
      if ((iVar12 != 0) && (iVar12 != -1)) {
        *(int *)(local_18 + 4) = iVar12 + -1;
      }
      local_18 = (facet *)(~-(uint)(*(int *)(local_18 + 4) != 0) & (uint)local_18);
      Threading_UnlockSectorByIndex(&local_20);
      if (local_18 != (facet *)0x0) {
        (*(code *)**(undefined4 **)local_18)(1);
      }
    }
    iVar12 = (int)pvVar8 - (int)param_6;
    local_20 = iVar12 + 1;
    local_18 = pfVar11;
    local_1c = uVar14;
    pbVar13 = param_6;
    for (; local_2c = local_18, local_30 = local_1c, iVar2 = param_7, iVar12 != 0;
        iVar12 = iVar12 + -1) {
      Character_OutputValidator(&local_1c,*pbVar13);
      pbVar13 = pbVar13 + 1;
    }
    for (; iVar2 != 0; iVar2 = iVar2 + -1) {
      Character_OutputValidator(&local_30,0x30);
    }
    bVar4 = (**(code **)(*(int *)local_24 + 4))();
    param_7 = CONCAT31(param_7._1_3_,bVar4);
    param_3 = local_2c;
    param_2 = local_30;
    Character_OutputValidator(&param_2,bVar4);
    uVar14 = param_2;
    pfVar11 = param_3;
    for (iVar12 = param_8; local_30 = uVar14, local_2c = pfVar11, iVar12 != 0; iVar12 = iVar12 + -1)
    {
      Character_OutputValidator(&local_30,0x30);
      uVar14 = local_30;
      pfVar11 = local_2c;
    }
    param_10 = param_10 - local_20;
    pbVar13 = param_6 + local_20;
  }
  pvVar8 = _memchr(pbVar13,0x65,param_10);
  sVar1 = param_10;
  param_3 = pfVar11;
  param_2 = uVar14;
  if (pvVar8 != (void *)0x0) {
    iVar12 = (int)pvVar8 - (int)pbVar13;
    param_7 = iVar12 + 1;
    param_6 = pbVar13;
    for (; pfVar11 = param_3, uVar14 = param_2, iVar2 = param_9, iVar12 != 0; iVar12 = iVar12 + -1)
    {
      Character_OutputValidator(&param_2,*param_6);
      param_6 = param_6 + 1;
    }
    for (; local_30 = uVar14, local_2c = pfVar11, iVar2 != 0; iVar2 = iVar2 + -1) {
      Character_OutputValidator(&local_30,0x30);
      pfVar11 = local_2c;
      uVar14 = local_30;
    }
    param_9 = 0;
    pbVar10 = &DAT_0052c814;
    if ((*(byte *)((int)param_4 + 0xc) & 4) == 0) {
      pbVar10 = &DAT_0052c810;
    }
    param_2 = local_30;
    param_3 = local_2c;
    Character_OutputValidator(&param_2,*pbVar10);
    pbVar13 = pbVar13 + param_7;
    sVar1 = param_10 - param_7;
  }
  for (; uVar14 = param_2, pfVar11 = param_3, iVar12 = param_9, sVar1 != 0; sVar1 = sVar1 - 1) {
    Character_OutputValidator(&param_2,*pbVar13);
    pbVar13 = pbVar13 + 1;
  }
  for (; local_2c = pfVar11, local_30 = uVar14, iVar12 != 0; iVar12 = iVar12 + -1) {
    Character_OutputValidator(&local_30,0x30);
    uVar14 = local_30;
    pfVar11 = local_2c;
  }
  *(undefined4 *)((int)param_4 + 0x14) = 0;
  param_2 = local_30;
  param_3 = local_2c;
  for (iVar12 = local_14; iVar12 != 0; iVar12 = iVar12 + -1) {
    Character_OutputValidator(&param_2,(byte)param_5);
  }
  *param_1 = param_2;
  param_1[1] = param_3;
  ExceptionList = local_10;
  return;
}


