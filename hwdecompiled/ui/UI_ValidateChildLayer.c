/*
 * Function: UI_ValidateChildLayer
 * Address: 00465a10
 * Category: ui
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


void __thiscall UI_ValidateChildLayer(void *this,void *param_1)

{
  int *piVar1;
  uint uVar2;
  void *pvVar3;
  char *pcVar4;
  void *pvVar5;
  undefined4 *puVar6;
  char *pcVar7;
  _String_base *p_Var8;
  _String_base *p_Var9;
  _String_base *p_Var10;
  int iVar11;
  undefined4 uVar12;
  undefined4 *puVar13;
  int extraout_ECX;
  int extraout_ECX_00;
  int extraout_ECX_01;
  int extraout_ECX_02;
  _String_base *p_Var14;
  uint extraout_EDX;
  uint extraout_EDX_00;
  uint extraout_EDX_01;
  bool bVar15;
  uint uVar16;
  uint uVar17;
  undefined8 uVar18;
  _String_base local_b4 [4];
  uint local_b0;
  undefined4 local_a0;
  uint local_9c;
  _String_base local_98 [4];
  uint local_94;
  undefined4 local_84;
  uint local_80;
  _String_base local_7c [4];
  uint local_78;
  undefined4 local_68;
  uint local_64;
  _String_base local_60 [4];
  uint local_5c;
  undefined4 local_4c;
  uint local_48;
  _String_base local_44 [4];
  uint local_40;
  undefined4 local_30;
  uint local_2c;
  void *local_28;
  int *local_24;
  void *local_20;
  undefined4 *local_1c;
  _String_base *local_18;
  _String_base *local_14;
  void *local_10;
  undefined4 uStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  uStack_c = 0x514190;
  local_10 = ExceptionList;
  bVar15 = false;
  local_14 = (_String_base *)0x0;
  ExceptionList = &local_10;
  if (*(int *)((int)this + 0x94) == 0) {
    ExceptionList = &local_10;
    pvVar5 = operator_new(0x1c);
    puVar6 = (undefined4 *)0x0;
    local_8 = 0;
    iVar11 = extraout_ECX;
    uVar17 = extraout_EDX;
    local_20 = pvVar5;
    if (pvVar5 != (void *)0x0) {
      local_30 = 0;
      local_40 = local_40 & 0xffffff00;
      local_2c = 0xf;
      pcVar4 = "SansSerif";
      do {
        pcVar7 = pcVar4;
        pcVar4 = pcVar7 + 1;
      } while (*pcVar7 != '\0');
      String_Assign(local_44,(_String_base *)"SansSerif",(uint)(pcVar7 + -0x532970));
      bVar15 = true;
      local_8 = CONCAT31(local_8._1_3_,1);
      local_14 = (_String_base *)0x1;
      puVar6 = System_CancelScheduledTask
                         (pvVar5,*(int *)(*(int *)((int)this + 0x24) + 0xc),(int)local_44,10,0,'\0',
                          0,0);
      iVar11 = extraout_ECX_00;
      uVar17 = extraout_EDX_00;
    }
    *(undefined4 **)((int)this + 0x94) = puVar6;
    local_8 = 0xffffffff;
    if ((bVar15) && (0xf < local_2c)) {
                    /* WARNING: Subroutine does not return */
      System_ShutdownHandler(iVar11,uVar17);
    }
  }
  local_8 = 0xffffffff;
  local_28 = (void *)UI_ValidateChildPadding((int)this);
  SexyWidget_SetRectangle(param_1,*(undefined4 **)((int)this + 0x2c));
  Graphics_FillRect(param_1,0,0,*(undefined4 *)((int)this + 0x10),*(undefined4 *)((int)this + 0x14))
  ;
  local_20 = (void *)0x0;
  do {
    pvVar3 = local_20;
    puVar6 = (undefined4 *)Graphics_GetImageInterface((int)param_1);
    local_1c = puVar6;
    Graphics_SetProjection(puVar6,*(undefined4 *)((int)this + 0x94));
    pvVar5 = local_28;
    if (pvVar3 == (void *)0x1) {
      p_Var8 = GameMenu_ProcessRegistrationScreen(local_28,local_98,0,*(uint *)((int)this + 0xac));
      local_8 = 3;
      p_Var9 = GameMenu_ProcessRegistrationScreen(pvVar5,local_44,0,*(uint *)((int)this + 0xbc));
      piVar1 = *(int **)((int)this + 0x94);
      local_8 = CONCAT31(local_8._1_3_,4);
      local_24 = piVar1;
      local_14 = (_String_base *)(**(code **)(*piVar1 + 0x1c))();
      uVar18 = (**(code **)(*piVar1 + 0x1c))();
      pvVar5 = local_28;
      uVar17 = (uint)((ulonglong)uVar18 >> 0x20);
      uVar16 = (int)uVar18 - (int)local_14;
      if (0xf < local_2c) {
                    /* WARNING: Subroutine does not return */
        System_ShutdownHandler(extraout_ECX_01,uVar17);
      }
      local_2c = 0xf;
      local_30 = 0;
      local_40 = local_40 & 0xffffff00;
      local_8 = 0xffffffff;
      if (0xf < local_80) {
                    /* WARNING: Subroutine does not return */
        System_ShutdownHandler(local_94,uVar17);
      }
      uVar2 = *(uint *)((int)this + 0xb0);
      local_80 = 0xf;
      local_84 = 0;
      local_94 = local_94 & 0xffffff00;
      uVar17 = uVar16 + 2;
      if ((uVar2 != 0xffffffff) && (*(uint *)((int)this + 0xac) != uVar2)) {
        local_14 = GameMenu_ProcessRegistrationScreen(local_28,local_7c,0,uVar2);
        local_8 = 5;
        p_Var10 = GameMenu_ProcessRegistrationScreen(pvVar5,local_60,0,*(uint *)((int)this + 0xbc));
        piVar1 = *(int **)((int)this + 0x94);
        local_8 = CONCAT31(local_8._1_3_,6);
        local_24 = piVar1;
        iVar11 = (**(code **)(*piVar1 + 0x1c))(p_Var10);
        p_Var10 = local_14;
        local_14 = (_String_base *)iVar11;
        uVar18 = (**(code **)(*piVar1 + 0x1c))(p_Var10);
        uVar17 = (int)uVar18 - (int)local_14;
        if (0xf < local_48) {
                    /* WARNING: Subroutine does not return */
          System_ShutdownHandler(extraout_ECX_02,local_5c);
        }
        local_48 = 0xf;
        local_4c = 0;
        local_5c = local_5c & 0xffffff00;
        local_8 = 0xffffffff;
        if (0xf < local_64) {
                    /* WARNING: Subroutine does not return */
          System_ShutdownHandler(extraout_ECX_02,(uint)((ulonglong)uVar18 >> 0x20));
        }
        local_64 = 0xf;
        local_68 = 0;
        local_78 = local_78 & 0xffffff00;
      }
      local_8 = 0xffffffff;
      if (*(char *)((int)this + 0xa8) == '\0') {
        uVar16 = uVar16 + 2;
      }
      p_Var10 = (_String_base *)(*(int *)((int)this + 0x10) + -8);
      p_Var14 = (_String_base *)(((int)uVar16 < 0) - 1 & uVar16);
      local_18 = p_Var10;
      if ((int)p_Var14 < (int)p_Var10) {
        local_18 = p_Var14;
      }
      p_Var14 = (_String_base *)(((int)uVar17 < 0) - 1 & uVar17);
      if ((int)p_Var10 <= (int)p_Var14) {
        p_Var14 = p_Var10;
      }
      local_14 = local_18;
      if ((int)p_Var14 <= (int)local_18) {
        local_14 = p_Var14;
      }
      piVar1 = *(int **)((int)this + 0x94);
      local_24 = piVar1;
      uVar12 = (**(code **)(*piVar1 + 0x10))();
      uVar17 = (int)p_Var14 - (int)local_18 >> 0x1f;
      iVar11 = (**(code **)(*piVar1 + 0x10))
                         (((int)p_Var14 - (int)local_18 ^ uVar17) - uVar17,uVar12);
      Graphics_SetClipRect
                (local_1c,local_14 + 4,(*(int *)((int)this + 0x14) - iVar11) / 2,p_Var8,p_Var9);
      puVar6 = local_1c;
      if (*(char *)((int)this + 0x1e) != '\0') {
        SexyWidget_SetRectangle(local_1c,(undefined4 *)(*(int *)((int)this + 0x2c) + 0x30));
        Graphics_FillRect(puVar6,0,0,*(undefined4 *)((int)this + 0x10),
                          *(undefined4 *)((int)this + 0x14));
        puVar6 = local_1c;
      }
LAB_00465d69:
      if (*(char *)((int)this + 0x1e) == '\0') goto LAB_00465d94;
      puVar13 = (undefined4 *)(*(int *)((int)this + 0x2c) + 0x40);
    }
    else {
      Graphics_SetClipRect
                (puVar6,4,0,*(int *)((int)this + 0x10) + -8,*(undefined4 *)((int)this + 0x14));
      if (pvVar3 != (void *)0x0) goto LAB_00465d69;
LAB_00465d94:
      puVar13 = (undefined4 *)(*(int *)((int)this + 0x2c) + 0x20);
    }
    SexyWidget_SetRectangle(puVar6,puVar13);
    local_18 = GameMenu_ProcessRegistrationScreen
                         (local_28,local_b4,*(uint *)((int)this + 0xbc),0xffffffff);
    piVar1 = *(int **)((int)this + 0x94);
    local_8 = 7;
    local_24 = piVar1;
    iVar11 = (**(code **)(*piVar1 + 0x10))();
    local_14 = (_String_base *)((*(int *)((int)this + 0x14) - iVar11) / 2);
    iVar11 = (**(code **)(*piVar1 + 4))();
    SexyWidget_DrawWithInterface(puVar6,local_18,4,local_14 + iVar11);
    local_8 = 0xffffffff;
    if (0xf < local_9c) {
                    /* WARNING: Subroutine does not return */
      System_ShutdownHandler(local_b0,extraout_EDX_01);
    }
    local_9c = 0xf;
    local_a0 = 0;
    local_b0 = local_b0 & 0xffffff00;
    if (puVar6 != (undefined4 *)0x0) {
      (**(code **)*puVar6)(1);
    }
    local_20 = (void *)((int)local_20 + 1);
    if (1 < (int)local_20) {
      SexyWidget_SetRectangle(param_1,(undefined4 *)(*(int *)((int)this + 0x2c) + 0x10));
      Graphics_DrawFilledRect
                (param_1,0,0,*(int *)((int)this + 0x10) + -1,*(int *)((int)this + 0x14) + -1);
      ExceptionList = local_10;
      return;
    }
  } while( true );
}


