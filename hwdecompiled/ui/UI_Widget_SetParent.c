/*
 * Function: UI_Widget_SetParent
 * Address: 00461ef0
 * Category: ui
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


void __thiscall UI_Widget_SetParent(void *this,void *param_1)

{
  int iVar1;
  int iVar2;
  int iVar3;
  undefined4 local_94 [22];
  int local_3c [3];
  int local_30;
  int local_2c [3];
  int local_20;
  int local_1c;
  int local_18;
  int local_14;
  void *local_10;
  undefined4 uStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  uStack_c = 0x513eab;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  if (*(int *)((int)this + 0x6c) != 0) {
    ExceptionList = &local_10;
    iVar2 = SexyWidget_GetWidth(*(int *)((int)this + 0x6c));
    iVar2 = iVar2 / 3;
    local_20 = SexyWidget_GetHeight(*(int *)((int)this + 0x6c));
    iVar3 = (*(int *)((int)this + 0x14) - local_20) / 2;
    local_2c[0] = 0;
    local_2c[1] = 0;
    local_2c[2] = iVar2;
    local_18 = local_20;
    Graphics_ProcessImageTransform(param_1,*(int *)((int)this + 0x6c),0,iVar3,local_2c);
    Graphics_SetRenderTarget(local_94,(int)param_1);
    local_8 = 0;
    Graphics_SetClipRect(local_94,iVar2,iVar3,*(int *)((int)this + 0x10) + iVar2 * -2,local_18);
    local_14 = 0;
    iVar1 = iVar2;
    if (0 < ((*(int *)((int)this + 0x10) - iVar2) + -1) / iVar2) {
      do {
        local_1c = iVar1;
        local_20 = local_18;
        local_2c[1] = 0;
        local_2c[0] = iVar2;
        local_2c[2] = iVar2;
        Graphics_ProcessImageTransform(local_94,*(int *)((int)this + 0x6c),local_1c,iVar3,local_2c);
        local_1c = local_1c + iVar2;
        local_14 = local_14 + 1;
        iVar1 = local_1c;
      } while (local_14 < ((*(int *)((int)this + 0x10) - iVar2) + -1) / iVar2);
    }
    local_3c[0] = iVar2 * 2;
    local_30 = local_18;
    local_3c[1] = 0;
    local_3c[2] = iVar2;
    Graphics_ProcessImageTransform
              (param_1,*(int *)((int)this + 0x6c),*(int *)((int)this + 0x10) - iVar2,iVar3,local_3c)
    ;
    local_8 = 0xffffffff;
    Graphics_ClearClipRect(local_94);
  }
  SexyWidget_GetHeight(*(int *)((int)this + 0x70));
  local_14 = SexyWidget_GetWidth(*(int *)((int)this + 0x70));
  local_14 = *(int *)((int)this + 0x10) - local_14;
  Math_FloatToUInt64();
  Graphics_DrawImage(param_1,*(int *)((int)this + 0x70));
  ExceptionList = local_10;
  return;
}


