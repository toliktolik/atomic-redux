/*
 * Function: UI_ValidateChildHitTest
 * Address: 00467c00
 * Category: ui
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


void __thiscall
UI_ValidateChildHitTest(void *this,undefined4 *param_1,uint param_2,undefined4 *param_3)

{
  uint uVar1;
  int iVar2;
  undefined4 *puVar3;
  undefined4 uVar4;
  int iVar5;
  uint extraout_EDX;
  undefined4 *puVar6;
  undefined4 local_24;
  undefined4 local_20;
  undefined4 local_1c;
  undefined4 local_18;
  undefined1 *local_14;
  void *local_10;
  undefined *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &DAT_00514420;
  local_10 = ExceptionList;
  local_24 = *param_3;
  local_20 = param_3[1];
  local_1c = param_3[2];
  local_18 = param_3[3];
  iVar2 = *(int *)((int)this + 4);
  local_14 = &stack0xffffffd0;
  if (iVar2 == 0) {
    uVar1 = 0;
  }
  else {
    uVar1 = *(int *)((int)this + 0xc) - iVar2 >> 4;
  }
  if (param_2 != 0) {
    if (iVar2 == 0) {
      iVar5 = 0;
    }
    else {
      iVar5 = *(int *)((int)this + 8) - iVar2 >> 4;
    }
    if (0xfffffffU - iVar5 < param_2) {
      ExceptionList = &local_10;
      local_14 = &stack0xffffffd0;
      UI_ProcessChildOrdering();
      ExceptionList = local_10;
      return;
    }
    if (iVar2 == 0) {
      iVar5 = 0;
    }
    else {
      iVar5 = *(int *)((int)this + 8) - iVar2 >> 4;
    }
    if (uVar1 < iVar5 + param_2) {
      if (0xfffffff - (uVar1 >> 1) < uVar1) {
        uVar1 = 0;
      }
      else {
        uVar1 = uVar1 + (uVar1 >> 1);
      }
      if (iVar2 == 0) {
        iVar5 = 0;
      }
      else {
        iVar5 = *(int *)((int)this + 8) - iVar2 >> 4;
      }
      if (uVar1 < iVar5 + param_2) {
        if (iVar2 == 0) {
          iVar2 = 0;
        }
        else {
          iVar2 = *(int *)((int)this + 8) - iVar2 >> 4;
        }
        uVar1 = iVar2 + param_2;
      }
      ExceptionList = &local_10;
      local_14 = &stack0xffffffd0;
      param_3 = (undefined4 *)operator_new(uVar1 * 0x10);
      local_8 = 0;
      puVar3 = (undefined4 *)Vector_IsEqual(*(undefined4 **)((int)this + 4),param_1,param_3);
      UI_ProcessWidgetDrawing(puVar3,param_2,&local_24);
      Vector_IsEqual(param_1,*(undefined4 **)((int)this + 8),puVar3 + param_2 * 4);
      iVar2 = *(int *)((int)this + 4);
      if (iVar2 == 0) {
        iVar5 = 0;
      }
      else {
        iVar5 = *(int *)((int)this + 8) - iVar2 >> 4;
      }
      if (iVar2 != 0) {
                    /* WARNING: Subroutine does not return */
        System_ShutdownHandler(iVar2,extraout_EDX);
      }
      *(undefined4 **)((int)this + 0xc) = param_3 + uVar1 * 4;
      *(undefined4 **)((int)this + 8) = param_3 + (param_2 + iVar5) * 4;
      *(undefined4 **)((int)this + 4) = param_3;
      ExceptionList = local_10;
      return;
    }
    param_3 = *(undefined4 **)((int)this + 8);
    if ((uint)((int)param_3 - (int)param_1 >> 4) < param_2) {
      ExceptionList = &local_10;
      puVar3 = param_3;
      param_3 = (undefined4 *)&stack0xffffffc4;
      local_14 = &stack0xffffffd0;
      UI_ValidateChildState(param_1,puVar3,param_1 + param_2 * 4);
      local_8 = 2;
      UI_ProcessChildResize
                (*(undefined4 **)((int)this + 8),
                 param_2 - ((int)*(undefined4 **)((int)this + 8) - (int)param_1 >> 4),&local_24);
      iVar2 = *(int *)((int)this + 8) + param_2 * 0x10;
      *(int *)((int)this + 8) = iVar2;
      puVar3 = (undefined4 *)(iVar2 + param_2 * -0x10);
    }
    else {
      puVar6 = param_3 + param_2 * -4;
      ExceptionList = &local_10;
      uVar4 = UI_ValidateChildState(puVar6,param_3,param_3);
      puVar3 = param_3;
      *(undefined4 *)((int)this + 8) = uVar4;
      param_3 = (undefined4 *)&stack0xffffffc4;
      Collision_GetMinMax(&param_3,param_1,puVar6,puVar3);
      param_3 = (undefined4 *)&stack0xffffffc8;
      puVar3 = param_1 + param_2 * 4;
    }
    Vector_Negate(param_1,puVar3,&local_24);
  }
  ExceptionList = local_10;
  return;
}


