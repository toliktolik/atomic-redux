/*
 * Function: UI_ProcessChildRelation
 * Address: 004684d0
 * Category: ui
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


void __thiscall UI_ProcessChildRelation(void *this,int *param_1,int param_2)

{
  int *piVar1;
  uint uVar2;
  int *piVar3;
  int iVar4;
  undefined4 *puVar5;
  
  piVar3 = *(int **)((int)this + 0x34);
  piVar1 = *(int **)((int)this + 0x34);
  if (piVar3 != (int *)0x0) {
    piVar3 = (int *)*piVar3;
  }
  if (piVar3 != piVar1) {
    do {
      if ((int *)piVar3[2] == param_1) break;
      piVar3 = (int *)*piVar3;
    } while (piVar3 != piVar1);
    if (piVar3 != piVar1) {
      if (piVar3 == *(int **)((int)this + 0x6c)) {
        *(int *)((int)this + 0x6c) = **(int **)((int)this + 0x6c);
        *(undefined1 *)((int)this + 0x68) = 1;
      }
      if (piVar3 != *(int **)((int)this + 0x34)) {
        *(int *)piVar3[1] = *piVar3;
        iVar4 = *piVar3;
        uVar2 = piVar3[1];
        *(uint *)(iVar4 + 4) = uVar2;
                    /* WARNING: Subroutine does not return */
        System_ShutdownHandler(iVar4,uVar2);
      }
      puVar5 = *(undefined4 **)((int)this + 0x34);
      if (puVar5 != (undefined4 *)0x0) {
        puVar5 = (undefined4 *)*puVar5;
      }
      for (; (puVar5 != *(undefined4 **)((int)this + 0x34) && (puVar5[2] != param_2));
          puVar5 = (undefined4 *)*puVar5) {
      }
      if (puVar5 != *(undefined4 **)((int)this + 0x34)) {
        puVar5 = (undefined4 *)*puVar5;
      }
      iVar4 = Tree_DeleteNode(puVar5,puVar5[1],&param_1);
      STL_List_ResizeContainer((void *)((int)this + 0x30),1);
      puVar5[1] = iVar4;
      **(int **)(iVar4 + 4) = iVar4;
      (**(code **)(*param_1 + 0xc))();
    }
  }
  return;
}


