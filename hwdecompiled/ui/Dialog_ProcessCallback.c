/*
 * Function: Dialog_ProcessCallback
 * Address: 00446c30
 * Category: ui
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


void Dialog_ProcessCallback(void)

{
  _String_base _Var1;
  undefined4 *puVar2;
  char cVar3;
  _String_base *p_Var4;
  uint uVar5;
  int iVar6;
  char *pcVar7;
  long lVar8;
  byte *pbVar9;
  _String_base *p_Var10;
  _String_base *extraout_ECX;
  int extraout_ECX_00;
  char *pcVar11;
  char *pcVar12;
  _String_base *p_Var13;
  undefined2 extraout_DX;
  uint extraout_EDX;
  uint extraout_EDX_00;
  int iVar14;
  _String_base *extraout_EDX_01;
  uint extraout_EDX_02;
  uint extraout_EDX_03;
  uint extraout_EDX_04;
  _String_base *extraout_EDX_05;
  _String_base *extraout_EDX_06;
  _String_base *extraout_EDX_07;
  _String_base *p_Var15;
  byte *pbVar16;
  _String_base *p_Var17;
  bool bVar18;
  bool bVar19;
  uint unaff_retaddr;
  undefined4 *in_stack_fffffef4;
  undefined4 *in_stack_fffffef8;
  _String_base *local_e8 [4];
  _String_base *local_d8;
  uint local_d4;
  undefined1 local_b4 [24];
  _String_base local_9c [4];
  uint local_98;
  undefined4 local_88;
  uint local_84;
  undefined1 local_80 [4];
  uint local_7c;
  undefined4 local_6c;
  uint local_68;
  undefined1 local_64 [4];
  _String_base *local_60 [4];
  _String_base *local_50;
  uint local_4c;
  _String_base local_48 [12];
  _String_base local_3c [4];
  uint local_38;
  undefined4 local_28;
  uint local_24;
  int local_20;
  undefined4 *local_1c;
  undefined4 *local_18;
  uint local_14;
  void *local_10;
  undefined4 uStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  uStack_c = 0x512ed1;
  local_10 = ExceptionList;
  local_14 = DAT_00569f5c ^ unaff_retaddr;
  ExceptionList = &local_10;
  local_1c = (undefined4 *)operator_new(0x74);
  local_8 = 0;
  if (local_1c == (undefined4 *)0x0) {
    local_18 = (undefined4 *)0x0;
  }
  else {
    local_18 = (undefined4 *)ObjectType1_Constructor(local_1c);
  }
  puVar2 = local_18;
  local_8 = 0xffffffff;
  local_24 = 0xf;
  local_28 = 0;
  local_38 = local_38 & 0xffffff00;
  pcVar7 = "data\\bosses.xml";
  do {
    pcVar11 = pcVar7;
    pcVar7 = pcVar11 + 1;
  } while (*pcVar11 != '\0');
  String_Assign(local_3c,(_String_base *)"data\\bosses.xml",(uint)(pcVar11 + -0x52b048));
  local_8 = 1;
  Image_UpdateTexture((int)puVar2,extraout_DX,(int)local_3c);
  local_8 = 0xffffffff;
  if (0xf < local_24) {
                    /* WARNING: Subroutine does not return */
    System_ShutdownHandler(local_38,extraout_EDX);
  }
  WeaponBomb_ProcessBurstingRocket((int)&stack0xfffffef4);
  local_8._0_1_ = 2;
  local_8._1_3_ = 0;
  Exception_Release(local_48,"Level%i");
  cVar3 = XML_ParseDocument((int)puVar2,extraout_EDX_00,(int *)&stack0xfffffef4);
  do {
    if (cVar3 == '\0') {
      if (puVar2 != (undefined4 *)0x0) {
        (**(code **)*puVar2)(1);
      }
LAB_004471d7:
      local_8 = 0xffffffff;
      PowerUp_ProcessNuke((int)&stack0xfffffef4);
      ExceptionList = local_10;
      Exception_SetMessage((void *)(local_14 ^ unaff_retaddr),in_stack_fffffef4,in_stack_fffffef8);
      return;
    }
    if (in_stack_fffffef4 == (undefined4 *)0x1) {
      pcVar7 = "Wrecker";
      do {
        pcVar11 = pcVar7;
        pcVar7 = pcVar11 + 1;
      } while (*pcVar11 != '\0');
      p_Var4 = (_String_base *)(pcVar11 + -0x53106c);
      if (local_d8 != (_String_base *)0x0) {
        p_Var10 = local_d8;
        if (p_Var4 <= local_d8) {
          p_Var10 = p_Var4;
        }
        p_Var13 = local_e8[0];
        if (local_d4 < 0x10) {
          p_Var13 = (_String_base *)local_e8;
        }
        bVar18 = false;
        iVar14 = 0;
        bVar19 = true;
        p_Var15 = (_String_base *)"Wrecker";
        do {
          if (p_Var10 == (_String_base *)0x0) break;
          p_Var10 = p_Var10 + -1;
          bVar18 = (byte)*p_Var13 < (byte)*p_Var15;
          bVar19 = *p_Var13 == *p_Var15;
          p_Var13 = p_Var13 + 1;
          p_Var15 = p_Var15 + 1;
        } while (bVar19);
        if (!bVar19) {
          iVar14 = (1 - (uint)bVar18) - (uint)(bVar18 != 0);
        }
        if (iVar14 != 0) goto LAB_004471ab;
      }
      if ((p_Var4 <= local_d8) && (local_d8 == p_Var4)) {
        cVar3 = XML_ParseDocument((int)local_18,0,(int *)&stack0xfffffef4);
        p_Var4 = extraout_EDX_01;
        while (cVar3 != '\0') {
          if (in_stack_fffffef4 == (undefined4 *)0x1) {
            p_Var4 = local_48;
            local_4c = 0xf;
            local_50 = (_String_base *)0x0;
            local_60[0] = (_String_base *)((uint)local_60[0] & 0xffffff00);
            do {
              _Var1 = *p_Var4;
              p_Var4 = p_Var4 + 1;
            } while (_Var1 != (_String_base)0x0);
            String_Assign(local_64,local_48,(int)p_Var4 - (int)(local_48 + 1));
            p_Var4 = local_60[0];
            if (local_4c < 0x10) {
              p_Var4 = (_String_base *)local_60;
            }
            p_Var10 = extraout_ECX;
            if (local_d8 == (_String_base *)0x0) {
LAB_00446e5d:
              if (local_d8 < local_50) {
                uVar5 = 0xffffffff;
              }
              else {
                uVar5 = (uint)(local_d8 != local_50);
              }
              bVar18 = uVar5 == 0;
            }
            else {
              p_Var10 = local_d8;
              if (local_50 <= local_d8) {
                p_Var10 = local_50;
              }
              p_Var13 = local_e8[0];
              if (local_d4 < 0x10) {
                p_Var13 = (_String_base *)local_e8;
              }
              bVar18 = false;
              iVar14 = 0;
              bVar19 = true;
              do {
                if (p_Var10 == (_String_base *)0x0) break;
                p_Var10 = p_Var10 + -1;
                bVar18 = (byte)*p_Var13 < (byte)*p_Var4;
                bVar19 = *p_Var13 == *p_Var4;
                p_Var13 = p_Var13 + 1;
                p_Var4 = p_Var4 + 1;
              } while (bVar19);
              if (!bVar19) {
                iVar14 = (1 - (uint)bVar18) - (uint)(bVar18 != 0);
              }
              bVar18 = iVar14 == 0;
              if (bVar18) goto LAB_00446e5d;
            }
            local_8._0_1_ = 2;
            if (0xf < local_4c) {
                    /* WARNING: Subroutine does not return */
              System_ShutdownHandler((int)p_Var10,(uint)local_d8);
            }
            local_4c = 0xf;
            local_50 = (_String_base *)0x0;
            local_60[0] = (_String_base *)((uint)local_60[0] & 0xffffff00);
            p_Var4 = local_d8;
            if (bVar18) {
              local_88 = 0;
              local_98 = local_98 & 0xffffff00;
              local_84 = 0xf;
              pcVar7 = "armor";
              do {
                pcVar11 = pcVar7;
                pcVar7 = pcVar11 + 1;
              } while (*pcVar11 != '\0');
              String_Assign(local_9c,(_String_base *)"armor",(uint)(pcVar11 + -0x52a4d0));
              local_8._0_1_ = 4;
              iVar14 = StringMap_LookupAndConcatenate(local_b4,extraout_EDX_02,local_9c);
              if (*(uint *)(iVar14 + 0x18) < 0x10) {
                pcVar7 = (char *)(iVar14 + 4);
              }
              else {
                pcVar7 = *(char **)(iVar14 + 4);
              }
              local_1c = (undefined4 *)_atol(pcVar7);
              iVar14 = local_20;
              local_8._0_1_ = 2;
              *(double *)(local_20 + 0x58) = (double)(int)local_1c;
              if (0xf < local_84) {
                    /* WARNING: Subroutine does not return */
                System_ShutdownHandler(extraout_ECX_00,local_98);
              }
              local_84 = 0xf;
              local_88 = 0;
              local_98 = local_98 & 0xffffff00;
              local_28 = 0;
              local_38 = local_38 & 0xffffff00;
              local_24 = 0xf;
              pcVar7 = "score";
              do {
                pcVar11 = pcVar7;
                pcVar7 = pcVar11 + 1;
              } while (*pcVar11 != '\0');
              String_Assign(local_3c,(_String_base *)"score",(uint)(pcVar11 + -0x5306b8));
              local_8._0_1_ = 5;
              iVar6 = StringMap_LookupAndConcatenate(local_b4,extraout_EDX_03,local_3c);
              if (*(uint *)(iVar6 + 0x18) < 0x10) {
                pcVar7 = (char *)(iVar6 + 4);
              }
              else {
                pcVar7 = *(char **)(iVar6 + 4);
              }
              lVar8 = _atol(pcVar7);
              *(long *)(iVar14 + 100) = lVar8;
              local_8._0_1_ = 2;
              if (0xf < local_24) {
                    /* WARNING: Subroutine does not return */
                System_ShutdownHandler(local_38,extraout_EDX_04);
              }
              local_24 = 0xf;
              local_28 = 0;
              local_38 = local_38 & 0xffffff00;
              local_68 = 0xf;
              local_6c = 0;
              local_7c = local_7c & 0xffffff00;
              pcVar7 = "longchain";
              do {
                pcVar11 = pcVar7;
                pcVar7 = pcVar11 + 1;
              } while (*pcVar11 != '\0');
              String_Assign(local_80,(_String_base *)0x531060,(uint)(pcVar11 + -0x531060));
              local_8._0_1_ = 6;
              iVar14 = StringMap_LookupAndConcatenate
                                 (local_b4,(uint)local_80,(_String_base *)local_80);
              pcVar7 = "yes";
              do {
                pcVar11 = pcVar7;
                pcVar7 = pcVar11 + 1;
              } while (*pcVar11 != '\0');
              pcVar7 = *(char **)(iVar14 + 0x14);
              pcVar11 = pcVar11 + -0x52a73c;
              pcVar12 = pcVar11;
              if (pcVar7 == (char *)0x0) {
LAB_00447033:
                if (pcVar7 < pcVar11) {
                  uVar5 = 0xffffffff;
                }
                else {
                  uVar5 = (uint)(pcVar7 != pcVar11);
                }
                bVar18 = uVar5 == 0;
              }
              else {
                pcVar12 = pcVar7;
                if (pcVar11 <= pcVar7) {
                  pcVar12 = pcVar11;
                }
                if (*(uint *)(iVar14 + 0x18) < 0x10) {
                  pbVar9 = (byte *)(iVar14 + 4);
                }
                else {
                  pbVar9 = *(byte **)(iVar14 + 4);
                }
                bVar18 = false;
                iVar14 = 0;
                bVar19 = true;
                pbVar16 = &DAT_0052a73c;
                do {
                  if (pcVar12 == (char *)0x0) break;
                  pcVar12 = pcVar12 + -1;
                  bVar18 = *pbVar9 < *pbVar16;
                  bVar19 = *pbVar9 == *pbVar16;
                  pbVar9 = pbVar9 + 1;
                  pbVar16 = pbVar16 + 1;
                } while (bVar19);
                if (!bVar19) {
                  iVar14 = (1 - (uint)bVar18) - (uint)(bVar18 != 0);
                }
                bVar18 = iVar14 == 0;
                if (bVar18) goto LAB_00447033;
              }
              local_8._0_1_ = 2;
              if (0xf < local_68) {
                    /* WARNING: Subroutine does not return */
                System_ShutdownHandler((int)pcVar12,(uint)pcVar7);
              }
              local_68 = 0xf;
              local_6c = 0;
              *(uint *)(local_20 + 0x10c) = (-(uint)bVar18 & 0x10) + 0x160;
              local_7c = local_7c & 0xffffff00;
              cVar3 = XML_ParseDocument((int)local_18,(uint)&stack0xfffffef4,(int *)&stack0xfffffef4
                                       );
              p_Var4 = extraout_EDX_05;
              while (cVar3 != '\0') {
                if ((in_stack_fffffef4 != (undefined4 *)0x1) &&
                   (in_stack_fffffef4 == (undefined4 *)0x2)) {
                  p_Var10 = local_48;
                  p_Var4 = local_48 + 1;
                  do {
                    _Var1 = *p_Var10;
                    p_Var10 = p_Var10 + 1;
                  } while (_Var1 != (_String_base)0x0);
                  p_Var10 = p_Var10 + -(int)p_Var4;
                  if (local_d8 != (_String_base *)0x0) {
                    p_Var13 = local_d8;
                    if (p_Var10 <= local_d8) {
                      p_Var13 = p_Var10;
                    }
                    p_Var15 = local_e8[0];
                    if (local_d4 < 0x10) {
                      p_Var15 = (_String_base *)local_e8;
                    }
                    bVar18 = false;
                    p_Var4 = (_String_base *)0x0;
                    bVar19 = true;
                    p_Var17 = local_48;
                    do {
                      if (p_Var13 == (_String_base *)0x0) break;
                      p_Var13 = p_Var13 + -1;
                      bVar18 = (byte)*p_Var15 < (byte)*p_Var17;
                      bVar19 = *p_Var15 == *p_Var17;
                      p_Var15 = p_Var15 + 1;
                      p_Var17 = p_Var17 + 1;
                    } while (bVar19);
                    if (!bVar19) {
                      p_Var4 = (_String_base *)((1 - (uint)bVar18) - (uint)(bVar18 != 0));
                    }
                    if (p_Var4 != (_String_base *)0x0) goto LAB_00447112;
                  }
                  if ((p_Var10 <= local_d8) &&
                     (p_Var4 = (_String_base *)(uint)(local_d8 != p_Var10),
                     p_Var4 == (_String_base *)0x0)) goto LAB_004471d7;
                }
LAB_00447112:
                cVar3 = XML_ParseDocument((int)local_18,(uint)p_Var4,(int *)&stack0xfffffef4);
                p_Var4 = extraout_EDX_06;
              }
            }
          }
          else if (in_stack_fffffef4 == (undefined4 *)0x2) {
            p_Var4 = (_String_base *)0x53106d;
            pcVar7 = "Wrecker";
            do {
              pcVar11 = pcVar7;
              pcVar7 = pcVar11 + 1;
            } while (*pcVar11 != '\0');
            p_Var10 = (_String_base *)(pcVar11 + -0x53106c);
            if (local_d8 != (_String_base *)0x0) {
              p_Var13 = local_d8;
              if (p_Var10 <= local_d8) {
                p_Var13 = p_Var10;
              }
              p_Var15 = local_e8[0];
              if (local_d4 < 0x10) {
                p_Var15 = (_String_base *)local_e8;
              }
              bVar18 = false;
              p_Var4 = (_String_base *)0x0;
              bVar19 = true;
              p_Var17 = (_String_base *)"Wrecker";
              do {
                if (p_Var13 == (_String_base *)0x0) break;
                p_Var13 = p_Var13 + -1;
                bVar18 = (byte)*p_Var15 < (byte)*p_Var17;
                bVar19 = *p_Var15 == *p_Var17;
                p_Var15 = p_Var15 + 1;
                p_Var17 = p_Var17 + 1;
              } while (bVar19);
              if (!bVar19) {
                p_Var4 = (_String_base *)((1 - (uint)bVar18) - (uint)(bVar18 != 0));
              }
              if (p_Var4 != (_String_base *)0x0) goto LAB_00447194;
            }
            if ((p_Var10 <= local_d8) &&
               (p_Var4 = (_String_base *)(uint)(local_d8 != p_Var10), p_Var4 == (_String_base *)0x0)
               ) break;
          }
LAB_00447194:
          cVar3 = XML_ParseDocument((int)local_18,(uint)p_Var4,(int *)&stack0xfffffef4);
          p_Var4 = extraout_EDX_07;
        }
      }
    }
LAB_004471ab:
    cVar3 = XML_ParseDocument((int)local_18,(uint)&stack0xfffffef4,(int *)&stack0xfffffef4);
    puVar2 = local_18;
  } while( true );
}


