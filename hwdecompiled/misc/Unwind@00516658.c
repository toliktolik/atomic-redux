/*
 * Function: Unwind@00516658
 * Address: 00516658
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


/* WARNING: Instruction at (ram,0x00516667) overlaps instruction at (ram,0x00516666)
    */
/* WARNING: Control flow encountered bad instruction data */
/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void __fastcall Unwind_00516658(int param_1,uint param_2)

{
  uint *puVar1;
  int *piVar2;
  uint uVar3;
  undefined1 uVar6;
  int in_EAX;
  undefined2 uVar7;
  byte *pbVar8;
  undefined4 unaff_EBX;
  int iVar9;
  undefined4 *unaff_ESI;
  int unaff_EDI;
  undefined2 in_DS;
  byte in_CF;
  bool bVar10;
  char in_AF;
  unkbyte10 in_ST2;
  uint uVar4;
  uint uVar5;
  
  puVar1 = (uint *)(unaff_EDI + 0x61);
  bVar10 = *puVar1 < param_2 || *puVar1 - param_2 < (uint)in_CF;
  *puVar1 = (*puVar1 - param_2) - (uint)in_CF;
  if (param_1 != 0) {
    uVar7 = (undefined2)((uint)(in_EAX + 1) >> 0x10);
    uVar6 = (undefined1)(in_EAX + 1);
    pbVar8 = (byte *)CONCAT22((short)((uint)param_1 >> 0x10),CONCAT11(0x72,(char)param_1));
    iVar9 = CONCAT22((short)((uint)unaff_EBX >> 0x10),
                     CONCAT11(*(undefined1 *)(CONCAT22(uVar7,CONCAT11(0xf,uVar6)) + -0x74),
                              (char)unaff_EBX));
    puVar1 = (uint *)(iVar9 + 0x52ae9195);
    *puVar1 = *puVar1 + 1;
    uVar3 = *puVar1;
    uVar4 = *puVar1;
    uVar5 = *puVar1;
    *pbVar8 = *pbVar8 ^ 0x72;
    out(*unaff_ESI,0x7923);
    piVar2 = (int *)(CONCAT22(uVar7,CONCAT11(((int)uVar3 < 0) << 7 | (uVar4 == 0) << 6 | in_AF << 4
                                             | ((POPCOUNT(uVar5 & 0xff) & 1U) == 0) << 2 | 2U |
                                             bVar10,uVar6)) + 0x43);
    *piVar2 = *piVar2 + iVar9;
    in(0x7923);
    ffree(in_ST2);
                    /* WARNING: Bad instruction - Truncating control flow here */
    halt_baddata();
  }
  *(int *)((int)unaff_ESI + 0x7b) = *(int *)((int)unaff_ESI + 0x7b) + -0x731b7a66 + (uint)bVar10;
  *(char *)(unaff_EDI + 0x6f4d4ec6) = *(char *)(unaff_EDI + 0x6f4d4ec6) + '\x01';
  _DAT_85632422 = CONCAT22(DAT_85632422_2,in_DS);
                    /* WARNING: Bad instruction - Truncating control flow here */
  halt_baddata();
}


