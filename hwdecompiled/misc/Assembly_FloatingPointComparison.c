/*
 * Function: Assembly_FloatingPointComparison
 * Address: 004feca0
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


/* WARNING: Control flow encountered bad instruction data */
/* WARNING: Instruction at (ram,0x004fec88) overlaps instruction at (ram,0x004fec87)
    */
/* WARNING (jumptable): Unable to track spacebase fully for stack */
/* WARNING: Unable to track spacebase fully for stack */
/* WARNING: Removing unreachable block (ram,0x004fecbb) */

void __fastcall Assembly_FloatingPointComparison(int *param_1,undefined4 param_2)

{
  undefined1 uVar1;
  uint uVar2;
  byte bVar3;
  bool bVar4;
  float10 fVar5;
  byte bVar6;
  byte bVar7;
  undefined4 in_EAX;
  int iVar9;
  char cVar10;
  int unaff_EBX;
  int *piVar11;
  int *unaff_EBP;
  undefined4 *unaff_ESI;
  undefined4 *puVar12;
  undefined4 *unaff_EDI;
  undefined2 in_ES;
  byte in_CF;
  byte in_AF;
  float10 in_ST0;
  int *piStack_8;
  char cVar8;
  
  bVar3 = 9 < ((byte)in_EAX & 0xf) | in_AF;
  bVar6 = (byte)in_EAX + bVar3 * '\x06';
  cVar8 = (char)((uint)in_EAX >> 8);
  cVar10 = (char)((uint)unaff_EBX >> 8);
  bVar7 = cVar8 - cVar10;
  if (cVar8 < cVar10) {
    fVar5 = (float10)*(double *)((int)unaff_EDI + 0x790e135f);
    piStack_8 = (int *)CONCAT22(piStack_8._2_2_,in_ES);
    *(ushort *)(unaff_EBX + -0x67) =
         (ushort)(in_ST0 < fVar5) << 8 | (ushort)(NAN(in_ST0) || NAN(fVar5)) << 10 |
         (ushort)(in_ST0 == fVar5) << 0xe;
    bVar4 = param_1 == (int *)0x1;
    param_1 = piStack_8;
    if (bVar4) {
      halt_baddata();
    }
  }
  else {
    iVar9 = CONCAT31((int3)((uint)param_2 >> 8),(byte)param_2 ^ bVar7);
    puVar12 = unaff_EDI + 1;
    *unaff_EDI = *unaff_ESI;
    uVar2 = CONCAT22((short)((uint)in_EAX >> 0x10),
                     CONCAT11(bVar7,bVar6 + (0x90 < (bVar6 & 0xf0) | in_CF | bVar3 * (0xf9 < bVar6))
                                            * '`')) + 0x154b04a7;
    if (unaff_EBX < *(int *)(iVar9 + 0x7045382b)) goto LAB_004fec85_1;
    if (SBORROW4(unaff_EBX,*(int *)(iVar9 + 0x7045382b))) {
      param_1 = (int *)((int)param_1 + -1);
      if (param_1 == (int *)0x0 || (char)uVar2 != '-') {
        DAT_efe1ea5a = DAT_efe1ea5a & (byte)((uint)unaff_EBP >> 8);
        uVar1 = in((short)iVar9);
        *(undefined1 *)puVar12 = uVar1;
        unaff_EBP[-1] = (int)&stack0xfffffffc;
        unaff_EBP[-2] = (int)param_1;
        unaff_EBP[-3] = iVar9;
        unaff_EBP[-4] = unaff_EBX;
        unaff_EBP[-5] = (int)unaff_EBP;
        unaff_EBP[-6] = uVar2 ^ 0x2d;
        unaff_EBP[-7] = (int)(unaff_ESI + 1);
        unaff_EBP[-8] = (int)unaff_EDI + 5;
                    /* WARNING: Could not recover jumptable at 0x004fed07. Too many branches */
                    /* WARNING: Treating indirect jump as call */
        (**(code **)((int)unaff_ESI + -0x57f8388e))();
        return;
      }
      goto LAB_004fec85_1;
    }
    unaff_EDI = (undefined4 *)*(undefined6 *)(unaff_ESI + 1);
    param_1 = unaff_EBP;
  }
  piVar11 = (int *)&stack0xfffffffc;
  cVar8 = '\x1c';
  do {
    unaff_EBP = unaff_EBP + -1;
    piVar11 = piVar11 + -1;
    *piVar11 = *unaff_EBP;
    cVar8 = cVar8 + -1;
    puVar12 = unaff_EDI;
  } while ('\0' < cVar8);
LAB_004fec85_1:
  puVar12[(int)param_1 * 2] = puVar12[(int)param_1 * 2] | (uint)param_1;
  *param_1 = *param_1 + -1;
  *(byte *)((int)puVar12 + -0x2cd88167) = *(byte *)((int)puVar12 + -0x2cd88167) ^ 0x3a;
                    /* WARNING: Bad instruction - Truncating control flow here */
  halt_baddata();
}


