/*
 * Function: Unwind@0050fbd0
 * Address: 0050fbd0
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


/* WARNING: Control flow encountered bad instruction data */
/* WARNING: Instruction at (ram,0x0050fb84) overlaps instruction at (ram,0x0050fb82)
    */
/* WARNING: Unable to track spacebase fully for stack */
/* WARNING: Removing unreachable block (ram,0x0050fc03) */
/* WARNING: Removing unreachable block (ram,0x0050fc19) */
/* WARNING: Removing unreachable block (ram,0x0050fc61) */
/* WARNING: Removing unreachable block (ram,0x0050fc81) */
/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

float10 __fastcall Unwind_0050fbd0(char *param_1,undefined4 param_2)

{
  byte *pbVar1;
  char *pcVar2;
  byte bVar3;
  uint uVar4;
  code *pcVar5;
  undefined1 uVar6;
  undefined1 *puVar7;
  undefined3 uVar9;
  uint uVar8;
  int in_EAX;
  char cVar10;
  char *extraout_ECX;
  char *extraout_ECX_00;
  ushort uVar11;
  char unaff_BL;
  byte bVar13;
  char *pcVar14;
  undefined4 *puVar15;
  undefined4 *unaff_EBP;
  uint uVar16;
  undefined4 *puVar17;
  int unaff_EDI;
  int iVar18;
  bool bVar19;
  byte in_CF;
  byte in_AF;
  bool bVar20;
  bool bVar21;
  float10 extraout_ST0;
  float10 in_ST0;
  float10 extraout_ST1;
  float10 in_ST1;
  float10 fVar22;
  undefined8 uVar23;
  byte in_stack_0000003b;
  undefined4 uStack_10;
  undefined3 uStack_c;
  undefined1 uStack_9;
  undefined3 uStack_8;
  undefined1 uStack_5;
  uint uVar12;
  
  _DAT_56bccdf7 = in_EAX;
  while( true ) {
    iVar18 = unaff_EDI + *(int *)(_DAT_56bccdf7 + 0x7acb8cfe) + (uint)in_CF;
    fVar22 = in_ST1 * in_ST0;
    puVar15 = (undefined4 *)(iVar18 + 4);
    bVar13 = unaff_BL + 1;
    puVar17 = (undefined4 *)(*(int *)(param_1 + -0x1f) * 0x4471254c);
    uVar11 = CONCAT11(0xac,(char)((int)param_2 >> 0x1f));
    uVar12 = (uint)uVar11;
    unaff_BL = -0x12;
    uRam416c76ee = uRam416c76ee & (uint)puVar15;
    if ((int)uRam416c76ee < 0) {
      puVar15 = (undefined4 *)&stack0xfffffff4;
      cVar10 = '\a';
      do {
        unaff_EBP = unaff_EBP + -1;
        puVar15 = puVar15 + -1;
        *puVar15 = *unaff_EBP;
        cVar10 = cVar10 + -1;
      } while ('\0' < cVar10);
      out(*(undefined1 *)puVar17,uVar11);
      out(0x3f,(byte)param_2 ^ bVar13);
      return fVar22;
    }
    bVar19 = cRam33e456c0 < '\0';
    cRam33e456c0 = cRam33e456c0 << 1;
    unaff_EDI = iVar18 + 8;
    pcVar14 = (char *)(puVar17 + 1);
    *puVar15 = *puVar17;
    uVar8 = (uint)bVar19;
    uVar4 = (int)pcVar14 - (int)param_1;
    uVar16 = uVar4 - uVar8;
    if ((SBORROW4((int)pcVar14,(int)param_1) != SBORROW4(uVar4,uVar8)) != (int)uVar16 < 0) break;
    in_AF = in_AF | 1;
    bVar13 = in_AF * '\x06' + 0x3e;
    in_CF = 0x90 < (bVar13 & 0xf0) | (pcVar14 < param_1 || uVar4 < uVar8) | in_AF * (0xf9 < bVar13);
    _uStack_c = CONCAT13(0xc6,uStack_c);
    _uStack_8 = CONCAT13(uStack_5,0x50fb);
    in_ST0 = (float10)func_0xc5d6bc27();
    param_2 = *(undefined4 *)((int)unaff_EBP + 3);
    _DAT_56bccdf7 = iRam2ab67f49;
    param_1 = extraout_ECX_00;
    unaff_EBP = *(undefined4 **)((int)unaff_EBP + -1);
    in_ST1 = extraout_ST1;
  }
  bVar19 = false;
  pcVar14 = (char *)CONCAT22(0x416c,CONCAT11(in_stack_0000003b & 0x76,0xee));
  iVar18 = 0x4ec28b3e;
  if ((in_stack_0000003b & 0x76) == 0) {
    iVar18 = 0x4ec28b3e;
  }
  while( true ) {
    uVar8 = (iVar18 + -0x1fb98c84) - (uint)bVar19;
    puVar7 = (undefined1 *)
             CONCAT22((short)(uVar16 >> 0x10),
                      CONCAT11((byte)(uVar16 >> 8) & *(byte *)(uVar8 - 0x40),(char)uVar16));
    do {
    } while (SBORROW4((int)register0x00000010,*(int *)((int)unaff_EBP + 0x42)));
    while( true ) {
      pcVar2 = (char *)((int)unaff_EBP + (int)pcVar14 * 4 + 0x33);
      bVar21 = SCARRY1(*pcVar2,'\x02');
      *pcVar2 = *pcVar2 + '\x02';
      bVar20 = *pcVar2 < '\0';
      bVar19 = *pcVar2 == '\0';
      if (bVar21) goto LAB_0050fb39;
      do {
        out((short)uVar12,puVar7);
        pbVar1 = (byte *)((int)register0x00000010 + 0x13);
        bVar13 = *pbVar1;
        bVar3 = *pbVar1;
        *pbVar1 = *pbVar1 + 0x25;
        if (!SBORROW1(bVar3,-0x25)) {
                    /* WARNING: Bad instruction - Truncating control flow here */
          halt_baddata();
        }
        bVar21 = SCARRY4((int)puVar7,0x2e104c89) !=
                 SCARRY4((int)(&DAT_2e104c89 + (int)puVar7),(uint)(bVar13 < 0xdb));
        puVar7 = &DAT_2e104c89 + (int)puVar7 + (bVar13 < 0xdb);
        bVar20 = (int)puVar7 < 0;
        bVar19 = puVar7 == (undefined1 *)0x0;
LAB_0050fb39:
        uVar23 = CONCAT44(uVar12,puVar7);
      } while (!bVar19);
      if (bVar19 || bVar21 != bVar20) break;
      *(char *)((int)unaff_EBP + -0x81) = *(char *)((int)unaff_EBP + -0x81) + -1;
      puVar7 = (undefined1 *)((uint)puVar7 ^ 2);
      unaff_EBP = (undefined4 *)((int)unaff_EBP + -1);
    }
    if (bVar19) break;
    pcVar5 = (code *)swi(4);
    if (SBORROW1(-0x12,(char)uVar12)) {
      uVar23 = (*pcVar5)();
      param_1 = extraout_ECX;
      fVar22 = extraout_ST0;
    }
    uVar12 = (uint)((ulonglong)uVar23 >> 0x20);
    unaff_EBP = (undefined4 *)0xde07ef30;
    iVar18 = (uint)uVar23 + 0xeb3dc430;
    uVar9 = (undefined3)((uint)iVar18 >> 8);
    bVar13 = (char)iVar18 + -0x19 + ((uint)uVar23 < 0x14c23bd0);
    register0x00000010 =
         (BADSPACEBASE *)
         CONCAT22((short)((uint)register0x00000010 >> 0x10),(short)register0x00000010 + 1);
    fVar22 = fVar22 * (float10)*(int *)(CONCAT31(uVar9,bVar13) + -0x33);
    uVar6 = in((short)((ulonglong)uVar23 >> 0x20));
    cVar10 = (char)param_1 + *param_1 +
             (bVar13 < 0xc4 || (byte)(bVar13 + 0x3c) < (param_1 < pcVar14));
    param_1 = (char *)(CONCAT31((int3)((uint)param_1 >> 8),cVar10) + -1);
    if (param_1 == (char *)0x0 || cVar10 == '\0') {
      return fVar22;
    }
    bVar19 = uVar8 < *(uint *)(uVar8 + 4);
    iVar18 = CONCAT31(uVar9,uVar6);
    uVar16 = uVar8;
  }
  pcVar5 = (code *)swi(3);
  fVar22 = (float10)(*pcVar5)();
  return fVar22;
}


