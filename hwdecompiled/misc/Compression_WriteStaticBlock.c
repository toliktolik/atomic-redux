/*
 * Function: Compression_WriteStaticBlock
 * Address: 004dc600
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


void __cdecl Compression_WriteStaticBlock(int param_1)

{
  int iVar1;
  int iVar2;
  
  iVar2 = *(int *)(param_1 + 0x16b4);
  *(ushort *)(param_1 + 0x16b0) =
       *(ushort *)(param_1 + 0x16b0) | (ushort)(2 << ((byte)iVar2 & 0x1f));
  if (iVar2 < 0xe) {
    *(int *)(param_1 + 0x16b4) = iVar2 + 3;
  }
  else {
    *(undefined1 *)(*(int *)(param_1 + 8) + *(int *)(param_1 + 0x14)) =
         *(undefined1 *)(param_1 + 0x16b0);
    iVar2 = *(int *)(param_1 + 0x14) + 1;
    *(int *)(param_1 + 0x14) = iVar2;
    *(undefined1 *)(iVar2 + *(int *)(param_1 + 8)) = *(undefined1 *)(param_1 + 0x16b1);
    *(int *)(param_1 + 0x14) = *(int *)(param_1 + 0x14) + 1;
    *(ushort *)(param_1 + 0x16b0) = 2 >> (0x10U - (char)*(int *)(param_1 + 0x16b4) & 0x1f);
    *(int *)(param_1 + 0x16b4) = *(int *)(param_1 + 0x16b4) + -0xd;
  }
  iVar2 = *(int *)(param_1 + 0x16b4);
  *(ushort *)(param_1 + 0x16b0) =
       *(ushort *)(param_1 + 0x16b0) | (ushort)(0 << ((byte)iVar2 & 0x1f));
  if (iVar2 < 10) {
    *(int *)(param_1 + 0x16b4) = iVar2 + 7;
  }
  else {
    *(undefined1 *)(*(int *)(param_1 + 8) + *(int *)(param_1 + 0x14)) =
         *(undefined1 *)(param_1 + 0x16b0);
    iVar2 = *(int *)(param_1 + 0x14) + 1;
    *(int *)(param_1 + 0x14) = iVar2;
    *(undefined1 *)(iVar2 + *(int *)(param_1 + 8)) = *(undefined1 *)(param_1 + 0x16b1);
    *(int *)(param_1 + 0x14) = *(int *)(param_1 + 0x14) + 1;
    *(ushort *)(param_1 + 0x16b0) = 0 >> (0x10U - (char)*(int *)(param_1 + 0x16b4) & 0x1f);
    *(int *)(param_1 + 0x16b4) = *(int *)(param_1 + 0x16b4) + -9;
  }
  iVar1 = BitStream_FlushToByteAlign();
  iVar2 = *(int *)(iVar1 + 0x16b4);
  if ((*(int *)(iVar1 + 0x16ac) - iVar2) + 0xb < 9) {
    *(ushort *)(iVar1 + 0x16b0) = *(ushort *)(iVar1 + 0x16b0) | (ushort)(2 << ((byte)iVar2 & 0x1f));
    if (iVar2 < 0xe) {
      *(int *)(iVar1 + 0x16b4) = iVar2 + 3;
    }
    else {
      *(undefined1 *)(*(int *)(iVar1 + 8) + *(int *)(iVar1 + 0x14)) =
           *(undefined1 *)(iVar1 + 0x16b0);
      iVar2 = *(int *)(iVar1 + 0x14) + 1;
      *(int *)(iVar1 + 0x14) = iVar2;
      *(undefined1 *)(iVar2 + *(int *)(iVar1 + 8)) = *(undefined1 *)(iVar1 + 0x16b1);
      *(int *)(iVar1 + 0x14) = *(int *)(iVar1 + 0x14) + 1;
      *(ushort *)(iVar1 + 0x16b0) = 2 >> (0x10U - (char)*(int *)(iVar1 + 0x16b4) & 0x1f);
      *(int *)(iVar1 + 0x16b4) = *(int *)(iVar1 + 0x16b4) + -0xd;
    }
    iVar2 = *(int *)(iVar1 + 0x16b4);
    *(ushort *)(iVar1 + 0x16b0) = *(ushort *)(iVar1 + 0x16b0) | (ushort)(0 << ((byte)iVar2 & 0x1f));
    if (9 < iVar2) {
      *(undefined1 *)(*(int *)(iVar1 + 8) + *(int *)(iVar1 + 0x14)) =
           *(undefined1 *)(iVar1 + 0x16b0);
      iVar2 = *(int *)(iVar1 + 0x14) + 1;
      *(int *)(iVar1 + 0x14) = iVar2;
      *(undefined1 *)(iVar2 + *(int *)(iVar1 + 8)) = *(undefined1 *)(iVar1 + 0x16b1);
      *(int *)(iVar1 + 0x14) = *(int *)(iVar1 + 0x14) + 1;
      *(ushort *)(iVar1 + 0x16b0) = 0 >> (0x10U - (char)*(int *)(iVar1 + 0x16b4) & 0x1f);
      *(int *)(iVar1 + 0x16b4) = *(int *)(iVar1 + 0x16b4) + -9;
      iVar2 = BitStream_FlushToByteAlign();
      *(undefined4 *)(iVar2 + 0x16ac) = 7;
      return;
    }
    *(int *)(iVar1 + 0x16b4) = iVar2 + 7;
    iVar1 = BitStream_FlushToByteAlign();
  }
  *(undefined4 *)(iVar1 + 0x16ac) = 7;
  return;
}


