/*
 * Function: ColorSpace_HSLToRGB
 * Address: 004c2b80
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


void __cdecl ColorSpace_HSLToRGB(int *param_1,undefined4 *param_2)

{
  byte *pbVar1;
  byte *pbVar2;
  byte *pbVar3;
  byte *pbVar4;
  byte *pbVar5;
  byte *pbVar6;
  byte *pbVar7;
  byte bVar8;
  undefined4 *in_EAX;
  int iVar9;
  byte *pbVar10;
  uint uVar11;
  int *unaff_EBX;
  uint uVar12;
  undefined4 *puVar13;
  
  if (*unaff_EBX == 0) {
    iVar9 = ZLIB_Uncompress((int)param_1);
    *unaff_EBX = iVar9;
  }
  puVar13 = (undefined4 *)*unaff_EBX;
  *puVar13 = *in_EAX;
  puVar13[1] = in_EAX[1];
  puVar13[2] = in_EAX[2];
  puVar13[3] = in_EAX[3];
  *(undefined1 *)(puVar13 + 4) = *(undefined1 *)(in_EAX + 4);
  uVar12 = 0;
  pbVar10 = (byte *)((int)in_EAX + 7);
  iVar9 = 2;
  do {
    pbVar1 = pbVar10 + -5;
    pbVar2 = pbVar10 + -6;
    pbVar3 = pbVar10 + -4;
    pbVar4 = pbVar10 + -3;
    pbVar5 = pbVar10 + -2;
    pbVar6 = pbVar10 + -1;
    pbVar7 = pbVar10 + 1;
    bVar8 = *pbVar10;
    pbVar10 = pbVar10 + 8;
    iVar9 = iVar9 + -1;
    uVar12 = bVar8 + uVar12 +
             (uint)*pbVar2 + (uint)*pbVar1 + (uint)*pbVar3 + (uint)*pbVar4 + (uint)*pbVar5 +
             (uint)*pbVar6 + (uint)*pbVar7;
  } while (iVar9 != 0);
  if (((int)uVar12 < 1) || (0x100 < (int)uVar12)) {
    *(undefined4 *)(*param_1 + 0x14) = 8;
    (**(code **)*param_1)(param_1);
  }
  puVar13 = (undefined4 *)(*unaff_EBX + 0x11);
  for (uVar11 = uVar12 >> 2; uVar11 != 0; uVar11 = uVar11 - 1) {
    *puVar13 = *param_2;
    param_2 = param_2 + 1;
    puVar13 = puVar13 + 1;
  }
  for (uVar12 = uVar12 & 3; uVar12 != 0; uVar12 = uVar12 - 1) {
    *(undefined1 *)puVar13 = *(undefined1 *)param_2;
    param_2 = (undefined4 *)((int)param_2 + 1);
    puVar13 = (undefined4 *)((int)puVar13 + 1);
  }
  *(undefined1 *)(*unaff_EBX + 0x111) = 0;
  return;
}


