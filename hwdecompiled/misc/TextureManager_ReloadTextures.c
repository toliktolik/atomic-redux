/*
 * Function: TextureManager_ReloadTextures
 * Address: 004bb350
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


void * __thiscall TextureManager_ReloadTextures(void *this,void *param_1,int param_2,void *param_3)

{
  char cVar1;
  byte bVar2;
  undefined4 uVar3;
  void *pvVar4;
  uint extraout_EDX;
  uint extraout_EDX_00;
  uint extraout_EDX_01;
  uint extraout_EDX_02;
  uint extraout_EDX_03;
  uint extraout_EDX_04;
  uint extraout_EDX_05;
  uint extraout_EDX_06;
  uint extraout_EDX_07;
  undefined4 local_b4 [5];
  undefined4 local_a0 [5];
  undefined4 local_8c [5];
  undefined4 local_78 [5];
  undefined4 local_64;
  undefined4 local_60 [5];
  undefined4 local_4c [5];
  undefined4 local_38 [5];
  undefined4 local_24 [5];
  void *local_10;
  undefined *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &DAT_00517301;
  local_10 = ExceptionList;
  local_64 = 0;
  ExceptionList = &local_10;
  TextureManager_Initialize(local_60,1);
  local_8 = 0;
  TextureManager_Shutdown(local_38,(int)this);
  local_8._0_1_ = 1;
  TextureManager_Shutdown(local_4c,param_2);
  local_8 = CONCAT31(local_8._1_3_,2);
  TextureManager_Initialize(local_24,0);
  uVar3 = Texture_SetAsRenderTarget(local_4c,(int)local_24);
  Texture_Constructor(local_24,extraout_EDX);
  cVar1 = (char)uVar3;
  while (cVar1 != '\0') {
    bVar2 = Texture_GetID((int)local_4c);
    if (bVar2 != 0) {
      TextureManager_ValidateTextures(local_60,local_78,local_38);
      local_8._0_1_ = 3;
      pvVar4 = TextureManager_RegisterTexture(local_a0,param_3);
      local_8._0_1_ = 4;
      Texture_SaveToFile(local_60,(int)pvVar4);
      Texture_Constructor(local_a0,extraout_EDX_00);
      local_8 = CONCAT31(local_8._1_3_,2);
      Texture_Constructor(local_78,extraout_EDX_01);
    }
    TextureManager_GetTextureCount(local_4c,1);
    TextureManager_ValidateTextures(local_38,local_b4,local_38);
    local_8._0_1_ = 5;
    pvVar4 = TextureManager_RegisterTexture(local_8c,param_3);
    local_8._0_1_ = 6;
    Texture_SaveToFile(local_38,(int)pvVar4);
    Texture_Constructor(local_8c,extraout_EDX_02);
    local_8 = CONCAT31(local_8._1_3_,2);
    Texture_Constructor(local_b4,extraout_EDX_03);
    TextureManager_Initialize(local_24,0);
    uVar3 = Texture_SetAsRenderTarget(local_4c,(int)local_24);
    Texture_Constructor(local_24,extraout_EDX_04);
    cVar1 = (char)uVar3;
  }
  TextureManager_Shutdown(param_1,(int)local_60);
  Texture_Constructor(local_4c,extraout_EDX_05);
  Texture_Constructor(local_38,extraout_EDX_06);
  Texture_Constructor(local_60,extraout_EDX_07);
  ExceptionList = local_10;
  return param_1;
}


