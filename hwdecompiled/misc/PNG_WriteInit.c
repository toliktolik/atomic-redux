/*
 * Function: PNG_WriteInit
 * Address: 004c4bf0
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


undefined4 __cdecl PNG_WriteInit(int *param_1)

{
  char cVar1;
  int iVar2;
  undefined4 uVar3;
  
  iVar2 = param_1[5];
  if (((iVar2 == 0xcd) || (iVar2 == 0xce)) && ((char)param_1[0x10] == '\0')) {
    if ((uint)param_1[0x1e] < (uint)param_1[0x18]) {
      *(undefined4 *)(*param_1 + 0x14) = 0x43;
      (**(code **)*param_1)(param_1);
    }
    (**(code **)(param_1[0x60] + 4))(param_1);
    param_1[5] = 0xd2;
  }
  else if (iVar2 == 0xcf) {
    param_1[5] = 0xd2;
  }
  else if (iVar2 != 0xd2) {
    *(undefined4 *)(*param_1 + 0x14) = 0x14;
    *(int *)(*param_1 + 0x18) = param_1[5];
    (**(code **)*param_1)(param_1);
  }
  cVar1 = *(char *)(param_1[100] + 0x11);
  while( true ) {
    if (cVar1 != '\0') {
      (**(code **)(param_1[6] + 0x18))(param_1);
      uVar3 = ZLIB_Compress((int)param_1);
      return CONCAT31((int3)((uint)uVar3 >> 8),1);
    }
    iVar2 = (**(code **)param_1[100])(param_1);
    if (iVar2 == 0) break;
    cVar1 = *(char *)(param_1[100] + 0x11);
  }
  return 0;
}


