/*
 * Function: Unwind@00510e58
 * Address: 00510e58
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


/* WARNING: Control flow encountered bad instruction data */
/* WARNING: Unable to track spacebase fully for stack */

undefined4 __fastcall Unwind_00510e58(int param_1,undefined4 param_2)

{
  int *piVar1;
  byte *pbVar2;
  int iVar3;
  byte bVar4;
  char cVar5;
  int in_EAX;
  undefined4 uVar6;
  undefined4 unaff_EBX;
  int iVar7;
  undefined4 *unaff_ESI;
  uint unaff_EDI;
  undefined4 *puVar8;
  bool in_ZF;
  char in_SF;
  char in_OF;
  
  if (in_ZF) {
    uVar6 = in((short)param_2);
    iVar3 = *(int *)(&stack0x055d24c3 + param_1);
    iVar7 = (int)((longlong)iVar3 * 0x61);
    pbVar2 = (byte *)((int)unaff_ESI + param_1 * 4 + -0x3582cd06);
    bVar4 = (byte)param_1 & 7;
    *pbVar2 = *pbVar2 >> bVar4 | *pbVar2 << 8 - bVar4;
    *(int *)(iVar7 + -4) = param_1;
    *(uint *)((int)unaff_ESI + 0x19) = CONCAT31((int3)((uint)unaff_EBX >> 8),0x97);
    cVar5 = DAT_7b490ab3;
    puVar8 = (undefined4 *)(unaff_EDI & *(uint *)((int)unaff_ESI + -0x31));
    in(0xd3);
    in(0xd2);
    *puVar8 = *unaff_ESI;
    puVar8[-1] = unaff_ESI[-1];
    return CONCAT22((short)((uint)uVar6 >> 0x10),
                    (ushort)(byte)(cVar5 + ((longlong)iVar7 != (longlong)iVar3 * 0x61) * -0x57));
  }
  if (in_ZF || in_OF != in_SF) {
    out((short)(CONCAT44(param_2,in_EAX) % (longlong)in_EAX),0xd1);
    piVar1 = (int *)(CONCAT31((int3)((ulonglong)(CONCAT44(param_2,in_EAX) / (longlong)in_EAX) >> 8),
                              0xd1) + 0x43);
    *piVar1 = *piVar1 + 1;
    do {
                    /* WARNING: Do nothing block with infinite loop */
    } while( true );
  }
                    /* WARNING: Bad instruction - Truncating control flow here */
  halt_baddata();
}


