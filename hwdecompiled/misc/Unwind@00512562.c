/*
 * Function: Unwind@00512562
 * Address: 00512562
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


/* WARNING: Control flow encountered bad instruction data */
/* WARNING: Unable to track spacebase fully for stack */

int __thiscall Unwind_00512562(void *this,int param_1)

{
  uint *puVar1;
  int *piVar2;
  char cVar3;
  byte bVar4;
  uint in_EAX;
  undefined4 *puVar5;
  undefined4 uVar6;
  int extraout_ECX;
  int unaff_EBX;
  undefined4 *puVar7;
  undefined4 unaff_EBP;
  int unaff_ESI;
  uint *unaff_EDI;
  uint uVar8;
  undefined2 in_CS;
  uint6 uVar9;
  undefined4 auStack_8 [2];
  
  puVar5 = (undefined4 *)(in_EAX ^ 0xffffff80);
  if ((int)puVar5 < 1) {
    puVar7 = auStack_8 + 1;
    cVar3 = '\b';
    do {
      puVar5 = puVar5 + -1;
      puVar7 = puVar7 + -1;
      *puVar7 = *puVar5;
      cVar3 = cVar3 + -1;
    } while ('\0' < cVar3);
    if (!SBORROW1((char)unaff_EBX,'2')) {
                    /* WARNING: Bad instruction - Truncating control flow here */
      halt_baddata();
    }
    do {
                    /* WARNING: Do nothing block with infinite loop */
    } while( true );
  }
  uVar8 = (uint)unaff_EDI | *unaff_EDI;
  *(undefined4 *)(param_1 + -4) = unaff_EBP;
  *(void **)(param_1 + -8) = this;
  *(uint **)(param_1 + -0xc) = unaff_EDI;
  *(int *)(param_1 + -0x10) = unaff_EBX;
  *(int *)(param_1 + -0x14) = param_1;
  *(undefined4 **)(param_1 + -0x18) = puVar5;
  *(int *)(param_1 + -0x1c) = unaff_ESI;
  *(uint *)(param_1 + -0x20) = uVar8;
  if ((int)uVar8 < 0) {
    piVar2 = (int *)(CONCAT22((short)((uint)unaff_EDI >> 0x10),
                              CONCAT11((char)unaff_EBX,(char)unaff_EDI)) + -0x46);
    *piVar2 = *piVar2 - unaff_ESI;
                    /* WARNING: Bad instruction - Truncating control flow here */
    halt_baddata();
  }
  *(undefined2 *)puVar5 = in_CS;
  puVar5[-1] = 0x51258d;
  uVar9 = func_0x0efba9a4();
  puVar1 = (uint *)(uVar8 + 0x46);
  *puVar1 = *puVar1 >> 9 | *puVar1 << 0x17;
  *(int *)(unaff_ESI + -0x1f076a2d) =
       (*(int *)(unaff_ESI + -0x1f076a2d) + -0x5c) - (uint)((int)*puVar1 < 0);
  if (extraout_ECX == 1 || (uVar9 & 0xef) != 0) {
    uVar6 = in((short)(uVar9 >> 0x20));
    bVar4 = (byte)uVar6;
    return CONCAT31((int3)(CONCAT22((short)((uint)uVar6 >> 0x10),CONCAT11(bVar4 / 0xe9,bVar4)) >> 8)
                    ,bVar4 % 0xe9);
  }
  return ((uint)uVar9 & 0xffffffef) * unaff_EBX;
}


