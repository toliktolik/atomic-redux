/*
 * Function: Compression_ValidateData
 * Address: 004bec40
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


undefined4 __cdecl Compression_ValidateData(int param_1,int *param_2,byte *param_3)

{
  byte bVar1;
  byte bVar2;
  int iVar3;
  int iVar4;
  ushort uVar5;
  ushort uVar6;
  byte bVar7;
  ushort uVar8;
  uint uVar9;
  int iVar10;
  byte bVar11;
  char cVar12;
  byte *pbVar13;
  byte *pbVar14;
  int local_24;
  undefined4 local_10;
  
  iVar3 = *param_2;
  local_10 = 0;
  if ((*(byte *)(param_2 + 2) & 2) != 0) {
    bVar7 = *(byte *)(param_1 + 0x215);
    bVar1 = *(byte *)(param_1 + 0x216);
    bVar2 = *(byte *)(param_1 + 0x217);
    uVar9 = (uint)bVar2;
    if (*(byte *)(param_2 + 2) == 2) {
      if (*(char *)((int)param_2 + 9) == '\b') {
        iVar10 = iVar3;
        pbVar14 = param_3;
        pbVar13 = param_3;
        if ((*(int *)(param_1 + 0x168) == 0) || (*(int *)(param_1 + 0x16c) == 0)) {
          for (; iVar10 != 0; iVar10 = iVar10 + -1) {
            bVar11 = *pbVar14;
            if ((bVar11 == pbVar14[1]) && (bVar11 == pbVar14[2])) {
              *pbVar13 = pbVar14[2];
            }
            else {
              local_10 = 1;
              *pbVar13 = (byte)((uint)pbVar14[2] * (uint)bVar2 + (uint)pbVar14[1] * (uint)bVar1 +
                                (uint)bVar11 * (uint)bVar7 >> 8);
            }
            pbVar14 = pbVar14 + 3;
            pbVar13 = pbVar13 + 1;
          }
        }
        else {
          for (; iVar10 != 0; iVar10 = iVar10 + -1) {
            iVar4 = *(int *)(param_1 + 0x16c);
            bVar11 = *(byte *)((uint)*pbVar14 + iVar4);
            if ((bVar11 == *(byte *)((uint)pbVar14[1] + iVar4)) &&
               (bVar11 == *(byte *)((uint)pbVar14[2] + iVar4))) {
              *pbVar13 = pbVar14[2];
            }
            else {
              local_10 = 1;
              *pbVar13 = *(byte *)(((int)((uint)*(byte *)((uint)pbVar14[2] + iVar4) * (uint)bVar2 +
                                          (uint)*(byte *)((uint)pbVar14[1] + iVar4) * (uint)bVar1 +
                                         (uint)bVar11 * (uint)bVar7) >> 8) +
                                  *(int *)(param_1 + 0x168));
            }
            pbVar14 = pbVar14 + 3;
            pbVar13 = pbVar13 + 1;
          }
        }
      }
      else if ((*(int *)(param_1 + 0x178) == 0) ||
              (iVar10 = iVar3, pbVar14 = param_3, pbVar13 = param_3, *(int *)(param_1 + 0x174) == 0)
              ) {
        if (iVar3 != 0) {
          pbVar14 = param_3;
          pbVar13 = param_3;
          local_24 = iVar3;
          do {
            bVar11 = pbVar13[4];
            uVar8 = CONCAT11(*pbVar13,pbVar13[1]);
            uVar5 = CONCAT11(bVar11,pbVar13[5]);
            if ((uVar8 != CONCAT11(pbVar13[2],pbVar13[3])) || (uVar8 != uVar5)) {
              local_10 = 1;
            }
            iVar10 = (uint)uVar8 * (uint)bVar7 + (uint)CONCAT11(pbVar13[2],pbVar13[3]) * (uint)bVar1
                     + (uint)uVar5 * (uint)bVar2;
            *pbVar14 = (byte)((uint)iVar10 >> 0x10);
            pbVar14[1] = (byte)((uint)iVar10 >> 8);
            pbVar14 = pbVar14 + 2;
            local_24 = local_24 + -1;
            pbVar13 = pbVar13 + 6;
          } while (local_24 != 0);
          uVar9 = (uint)CONCAT11(bVar11,bVar2);
        }
      }
      else {
        for (; uVar9 = (uint)bVar2, iVar10 != 0; iVar10 = iVar10 + -1) {
          uVar8 = CONCAT11(*pbVar14,pbVar14[1]);
          uVar5 = CONCAT11(pbVar14[2],pbVar14[3]);
          uVar6 = CONCAT11(pbVar14[4],pbVar14[5]);
          if ((uVar8 != uVar5) || (uVar8 != uVar6)) {
            bVar11 = (byte)*(undefined2 *)(param_1 + 0x158);
            uVar9 = (int)((uint)*(ushort *)
                                 (*(int *)(*(int *)(param_1 + 0x178) +
                                          ((uVar8 & 0xff) >> (bVar11 & 0x1f)) * 4) +
                                 (uint)*pbVar14 * 2) * (uint)bVar7 +
                          (uint)*(ushort *)
                                 (*(int *)(*(int *)(param_1 + 0x178) +
                                          ((uVar5 & 0xff) >> (bVar11 & 0x1f)) * 4) +
                                 (uint)pbVar14[2] * 2) * (uint)bVar1 +
                         (uint)*(ushort *)
                                (*(int *)(*(int *)(param_1 + 0x178) +
                                         ((uVar6 & 0xff) >> (bVar11 & 0x1f)) * 4) +
                                (uint)pbVar14[4] * 2) * (uint)bVar2) >> 8;
            uVar8 = *(ushort *)
                     (*(int *)(*(int *)(param_1 + 0x174) + ((uVar9 & 0xff) >> (bVar11 & 0x1f)) * 4)
                     + ((uVar9 & 0xffff) >> 8) * 2);
            local_10 = 1;
          }
          *pbVar13 = (byte)(uVar8 >> 8);
          pbVar13[1] = (byte)uVar8;
          pbVar14 = pbVar14 + 6;
          pbVar13 = pbVar13 + 2;
        }
      }
    }
    if ((char)param_2[2] == '\x06') {
      if (*(char *)((int)param_2 + 9) == '\b') {
        if ((*(int *)(param_1 + 0x168) == 0) || (*(int *)(param_1 + 0x16c) == 0)) {
          if (iVar3 != 0) {
            pbVar14 = param_3;
            local_24 = iVar3;
            do {
              bVar7 = *param_3;
              if ((bVar7 != param_3[1]) || (bVar7 != param_3[2])) {
                local_10 = 1;
              }
              *pbVar14 = (byte)(((uint)param_3[1] + (uint)bVar7) * (uint)bVar1 +
                                (uint)param_3[2] * (uVar9 & 0xff) >> 8);
              pbVar14[1] = param_3[3];
              pbVar14 = pbVar14 + 2;
              param_3 = param_3 + 4;
              local_24 = local_24 + -1;
            } while (local_24 != 0);
          }
        }
        else if (iVar3 != 0) {
          pbVar14 = param_3;
          local_24 = iVar3;
          do {
            iVar10 = *(int *)(param_1 + 0x16c);
            bVar2 = *(byte *)((uint)*param_3 + iVar10);
            if ((bVar2 != *(byte *)((uint)param_3[1] + iVar10)) ||
               (bVar2 != *(byte *)((uint)param_3[2] + iVar10))) {
              local_10 = 1;
            }
            *pbVar14 = *(byte *)(((int)((uint)bVar2 * (uint)bVar7 +
                                        (uint)*(byte *)((uint)param_3[1] + iVar10) * (uint)bVar1 +
                                       (uint)*(byte *)((uint)param_3[2] + iVar10) * (uVar9 & 0xff))
                                 >> 8) + *(int *)(param_1 + 0x168));
            pbVar14[1] = param_3[3];
            pbVar14 = pbVar14 + 2;
            param_3 = param_3 + 4;
            local_24 = local_24 + -1;
          } while (local_24 != 0);
        }
      }
      else if ((*(int *)(param_1 + 0x178) == 0) ||
              (iVar10 = iVar3, pbVar14 = param_3, *(int *)(param_1 + 0x174) == 0)) {
        if (iVar3 != 0) {
          pbVar14 = param_3;
          local_24 = iVar3;
          do {
            uVar8 = CONCAT11(*param_3,param_3[1]);
            if ((uVar8 != CONCAT11(param_3[2],param_3[3])) ||
               (uVar8 != CONCAT11(param_3[4],param_3[5]))) {
              local_10 = 1;
            }
            iVar10 = (uint)uVar8 * (uint)bVar7 + (uint)CONCAT11(param_3[2],param_3[3]) * (uint)bVar1
                     + (uint)CONCAT11(param_3[4],param_3[5]) * (uVar9 & 0xff);
            *pbVar14 = (byte)((uint)iVar10 >> 0x10);
            pbVar14[1] = (byte)((uint)iVar10 >> 8);
            pbVar14[2] = param_3[6];
            pbVar14[3] = param_3[7];
            pbVar14 = pbVar14 + 4;
            param_3 = param_3 + 8;
            local_24 = local_24 + -1;
          } while (local_24 != 0);
        }
      }
      else {
        for (; iVar10 != 0; iVar10 = iVar10 + -1) {
          uVar8 = CONCAT11(*param_3,param_3[1]);
          uVar5 = CONCAT11(param_3[2],param_3[3]);
          uVar6 = CONCAT11(param_3[4],param_3[5]);
          if ((uVar8 != uVar5) || (uVar8 != uVar6)) {
            bVar11 = (byte)*(undefined2 *)(param_1 + 0x158);
            uVar9 = (int)((uint)*(ushort *)
                                 (*(int *)(*(int *)(param_1 + 0x178) +
                                          ((uVar8 & 0xff) >> (bVar11 & 0x1f)) * 4) +
                                 (uint)*param_3 * 2) * (uint)bVar7 +
                          (uint)*(ushort *)
                                 (*(int *)(*(int *)(param_1 + 0x178) +
                                          ((uVar5 & 0xff) >> (bVar11 & 0x1f)) * 4) +
                                 (uint)param_3[2] * 2) * (uint)bVar1 +
                         (uint)*(ushort *)
                                (*(int *)(*(int *)(param_1 + 0x178) +
                                         ((uVar6 & 0xff) >> (bVar11 & 0x1f)) * 4) +
                                (uint)param_3[4] * 2) * (uint)bVar2) >> 8;
            uVar8 = *(ushort *)
                     (*(int *)(*(int *)(param_1 + 0x174) + ((uVar9 & 0xff) >> (bVar11 & 0x1f)) * 4)
                     + ((uVar9 & 0xffff) >> 8) * 2);
            local_10 = 1;
          }
          *pbVar14 = (byte)(uVar8 >> 8);
          pbVar14[1] = (byte)uVar8;
          pbVar14[2] = param_3[6];
          pbVar14[3] = param_3[7];
          param_3 = param_3 + 8;
          pbVar14 = pbVar14 + 4;
        }
      }
    }
    cVar12 = *(char *)((int)param_2 + 10) + -2;
    *(char *)((int)param_2 + 10) = cVar12;
    *(byte *)(param_2 + 2) = *(byte *)(param_2 + 2) & 0xfd;
    bVar7 = *(char *)((int)param_2 + 9) * cVar12;
    *(byte *)((int)param_2 + 0xb) = bVar7;
    param_2[1] = (uint)bVar7 * iVar3 + 7 >> 3;
    return local_10;
  }
  return 0;
}


