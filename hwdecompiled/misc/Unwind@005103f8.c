/*
 * Function: Unwind@005103f8
 * Address: 005103f8
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


/* WARNING: Control flow encountered bad instruction data */
/* WARNING: Unable to track spacebase fully for stack */

void Unwind_005103f8(void)

{
  undefined4 uVar1;
  undefined4 *puVar2;
  uint extraout_ECX;
  short sVar3;
  byte *unaff_EBX;
  undefined4 *unaff_ESI;
  int unaff_EDI;
  undefined8 uVar4;
  undefined1 auStack_8 [4];
  undefined1 auStack_4 [4];
  
  in(0x60);
  auStack_8 = (undefined1  [4])0x510401;
  uVar4 = func_0xa8c76030();
  puVar2 = (undefined4 *)uVar4;
  out(0x42,puVar2);
  out(*unaff_ESI,(short)((ulonglong)uVar4 >> 0x20));
  if ((POPCOUNT((uint)(auStack_4 + extraout_ECX) & 0xff) & 1U) != 0) {
    LOCK();
    uVar1 = *puVar2;
    *puVar2 = (int)((ulonglong)uVar4 >> 0x20);
    UNLOCK();
    *(uint *)(unaff_EDI + -0xd) = *(uint *)(unaff_EDI + -0xd) & (uint)(auStack_4 + extraout_ECX);
    *unaff_EBX = *unaff_EBX | (byte)uVar1;
    do {
                    /* WARNING: Do nothing block with infinite loop */
    } while( true );
  }
  sVar3 = (short)((ulonglong)uVar4 >> 0x10) >> 0xf;
  out(sVar3,(char)uVar4);
  out(sVar3,puVar2);
  if (!CARRY4((uint)auStack_4,extraout_ECX)) {
    *(byte *)(unaff_EDI + -2) = *(byte *)(unaff_EDI + -2) | 0xf2;
    DAT_b7e6b0f3 = (char)uVar4;
    *(uint *)(auStack_4 + (extraout_ECX - 3)) =
         CONCAT22(sVar3,CONCAT11(0xf,(char)((ulonglong)uVar4 >> 0x18) >> 7));
                    /* WARNING: Bad instruction - Truncating control flow here */
    halt_baddata();
  }
                    /* WARNING: Bad instruction - Truncating control flow here */
  halt_baddata();
}


