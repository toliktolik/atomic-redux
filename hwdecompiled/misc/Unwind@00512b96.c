/*
 * Function: Unwind@00512b96
 * Address: 00512b96
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


/* WARNING: Control flow encountered bad instruction data */
/* WARNING: Instruction at (ram,0x00512c05) overlaps instruction at (ram,0x00512c04)
    */
/* WARNING: Unable to track spacebase fully for stack */
/* WARNING: Removing unreachable block (ram,0x00512c14) */
/* WARNING: Removing unreachable block (ram,0x00512bff) */
/* WARNING: Removing unreachable block (ram,0x00512c16) */
/* WARNING: Removing unreachable block (ram,0x00512b3d) */
/* WARNING: Removing unreachable block (ram,0x00512b46) */
/* WARNING: Removing unreachable block (ram,0x00512b5d) */
/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void __fastcall Unwind_00512b96(int param_1,int param_2,undefined4 param_3,int param_4)

{
  int *piVar1;
  code *pcVar2;
  int iVar3;
  byte bVar4;
  byte bVar5;
  byte bVar6;
  uint uVar7;
  int extraout_ECX;
  int unaff_EBX;
  undefined4 unaff_ESI;
  int unaff_EDI;
  bool in_CF;
  byte in_AF;
  bool in_SF;
  char in_OF;
  float10 extraout_ST0;
  float10 in_ST0;
  float10 fVar8;
  undefined8 uVar9;
  
  iVar3 = _DAT_ab53b648;
  uVar9 = CONCAT44(param_2,unaff_ESI);
  fVar8 = (float10)*(double *)(unaff_EBX + -0x6a) - in_ST0;
  if (in_CF) {
    return;
  }
  if (!in_SF) {
    pcVar2 = (code *)swi(0xde);
    (*pcVar2)();
    do {
                    /* WARNING: Do nothing block with infinite loop */
    } while( true );
  }
  pcVar2 = (code *)swi(4);
  if (in_OF == '\x01') {
    uVar9 = (*pcVar2)();
    param_1 = extraout_ECX;
    fVar8 = extraout_ST0;
  }
  uVar7 = *(uint *)((int)((ulonglong)uVar9 >> 0x20) + 0x20567f36 + param_1 * 4) & (uint)uVar9;
  if ((POPCOUNT(uVar7 & 0xff) & 1U) != 0) {
    if (-1 >= (int)uVar7) {
                    /* WARNING: Bad instruction - Truncating control flow here */
      halt_baddata();
    }
    if (-1 < (int)uVar7) {
      *(double *)(unaff_EDI + 0x17) = (double)fVar8;
      pcVar2 = (code *)swi(1);
      (*pcVar2)();
      return;
    }
    *(double *)(iVar3 + -0x44081276) = (double)fVar8;
    bVar6 = (byte)uVar9 ^ 0x2b | (byte)unaff_EBX;
    if (*(int *)(iVar3 + 0x598eaecc) != 1) {
      uRamdf59f007 = CONCAT31((int3)((ulonglong)uVar9 >> 8),bVar6);
                    /* WARNING: Bad instruction - Truncating control flow here */
                    /* WARNING: Bad instruction - Truncating control flow here */
      halt_baddata();
    }
    if (bVar6 != 0) {
                    /* WARNING: Bad instruction - Truncating control flow here */
      halt_baddata();
    }
    uVar7 = in((short)((ulonglong)uVar9 >> 0x20));
    bVar5 = *(byte *)(unaff_EBX + (uVar7 & 0xff));
    if (bVar6 == 0) {
      bVar4 = bVar5 - 9;
      bVar6 = 9 < (bVar4 & 0xf) | in_AF;
      bVar4 = bVar4 + bVar6 * '\x06';
      bVar6 = 0x90 < (bVar4 & 0xf0) | bVar5 < 9 | bVar6 * (0xf9 < bVar4);
      piVar1 = (int *)(CONCAT31((int3)(uVar7 >> 8),bVar4 + bVar6 * '`') + -0x12);
      *piVar1 = (*piVar1 - iVar3) - (uint)bVar6;
      return;
    }
  }
  pcVar2 = (code *)swi(3);
  (*pcVar2)();
  return;
}


