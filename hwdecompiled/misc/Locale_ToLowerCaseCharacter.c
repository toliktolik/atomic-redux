/*
 * Function: Locale_ToLowerCaseCharacter
 * Address: 004ec7f8
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


uint __fastcall Locale_ToLowerCaseCharacter(uint param_1,int param_2,uint param_3,int *param_4)

{
  int iVar1;
  int iVar2;
  int extraout_ECX;
  uint extraout_ECX_00;
  ushort unaff_BX;
  int unaff_EBP;
  int unaff_ESI;
  undefined4 unaff_EDI;
  bool bVar3;
  undefined8 uVar4;
  ulonglong uVar5;
  undefined4 unaff_retaddr;
  uint uVar6;
  uint in_stack_fffffff8;
  
  if (param_4 == (int *)0x0) {
    uVar4 = func_0x00500cca();
    iVar2 = *(int *)((int)uVar4 + 8);
    uVar5 = Assembly_LongLongProcessing(extraout_ECX,(int *)((ulonglong)uVar4 >> 0x20));
    param_2 = (int)(uVar5 >> 0x20);
    iVar1 = (int)uVar5;
    param_1 = extraout_ECX_00;
  }
  else {
    iVar2 = *param_4;
    iVar1 = param_4[1];
  }
  if (iVar2 != 0) {
    if (param_3 < 0x100) {
      if (param_4 == (int *)0x0) {
        uVar4 = Windows_GetWindowRect();
        param_2 = (int)((ulonglong)uVar4 >> 0x20);
        param_1 = param_3;
        if ((int)uVar4 == 0) {
          return param_3;
        }
      }
      else {
        bVar3 = *(short *)(param_4[2] + param_3 * 2) == 0;
        param_1 = (uint)bVar3;
        if (bVar3) {
          return param_3;
        }
      }
    }
    uVar6 = (int)param_3 >> 8;
    Assembly_ComplexParameterProcessing
              (param_1,param_2,unaff_EDI,unaff_BX,unaff_ESI,iVar1,iVar2,uVar6,in_stack_fffffff8,
               unaff_EBP,unaff_retaddr);
    iVar2 = Assembly_ProcessingStub_25((uint)&stack0xfffffff8,uVar6 & 0xff);
    if (iVar2 != 0) {
      if (iVar2 == 1) {
        param_3 = in_stack_fffffff8 & 0xff;
      }
      else {
        param_3 = (uint)CONCAT11((char)in_stack_fffffff8,(char)(in_stack_fffffff8 >> 8));
      }
    }
    return param_3;
  }
  if ((int)param_3 < 0x41) {
    return param_3;
  }
  if (0x5a < (int)param_3) {
    return param_3;
  }
  return param_3 + 0x20;
}


