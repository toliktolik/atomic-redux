/*
 * Function: Math_Floor
 * Address: 00448b20
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

undefined4 * __thiscall
Math_Floor(undefined4 *param_1,int param_2,double param_3,undefined4 param_4,undefined4 param_5,
          undefined4 param_6,undefined4 param_7,undefined4 param_8,undefined4 param_9,
          undefined4 param_10,undefined4 param_11)

{
  double dVar1;
  int iVar2;
  double dVar3;
  int iVar4;
  ulonglong uVar5;
  void *local_10;
  undefined4 uStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  uStack_c = 0x512f78;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  String_Replace(param_1,param_2);
  param_1[6] = param_4;
  param_1[7] = param_5;
  param_1[8] = param_6;
  param_1[9] = param_7;
  param_1[10] = param_8;
  local_8 = 0;
  *param_1 = &PTR_Hash_Clear_005311a0;
  param_1[0xb] = param_9;
  param_1[0x1e] = param_10;
  param_1[0x1f] = param_11;
  iVar4 = Collision_HandleEnemyHit();
  param_1[2] = 0x14;
  iVar2 = param_1[0x16];
  *(double *)(param_1 + 0x1c) =
       ((double)(iVar4 % 0x96) * _DAT_0052d860 + _DAT_0052c5a0) * *(double *)(param_1 + 0x1e);
  dVar3 = _DAT_0052c5a8;
  dVar1 = *(double *)(iVar2 + 0x90);
  param_1[0xc] = 0;
  if (param_3 < dVar1 == (NAN(param_3) || NAN(dVar1))) {
    param_1[0xd] = 0;
    dVar3 = param_3 - dVar3;
  }
  else {
    param_1[0xd] = 0x40340000;
    dVar3 = dVar3 + param_3;
  }
  *(double *)(param_1 + 4) = dVar3;
  *(undefined1 *)(param_1 + 0x1a) = 0;
  param_1[0x17] = *(undefined4 *)(*(int *)(iVar2 + 0x5c) + 0x6ec);
  iVar2 = **(int **)(iVar2 + 0x5c);
  uVar5 = Math_FloatToUInt64();
  (**(code **)(iVar2 + 0xb8))(0xb,(int)uVar5);
  ParticleEffects_CreateParticles
            (param_1[0x16] + 0x2e8,*(int *)(*(int *)(param_1[0x16] + 0x5c) + 0x710),param_1[4],
             param_1[5],param_1[6],param_1[7],(double)CONCAT44(param_7,param_6),
             (double)CONCAT44(param_9,param_8),4,1.0,-0x66666666,-0x40566667,0,-0x40200000,0x28,1,-1
            );
  ExceptionList = local_10;
  return param_1;
}


