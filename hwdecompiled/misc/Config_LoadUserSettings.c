/*
 * Function: Config_LoadUserSettings
 * Address: 00440d20
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void __fastcall Config_LoadUserSettings(int param_1)

{
  bool bVar1;
  double dVar2;
  double dVar3;
  char cVar4;
  void *pvVar5;
  int iVar6;
  int iVar7;
  undefined4 uVar8;
  undefined4 uVar9;
  void *local_10;
  undefined4 uStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  uStack_c = 0x512976;
  local_10 = ExceptionList;
  if (*(int *)(*(int *)(param_1 + 0x4c) + 0x184) <= *(int *)(*(int *)(param_1 + 0x4c) + 0x17c)) {
    ExceptionList = &local_10;
    Boss_ProcessWreckerWarWrecker(param_1);
    if ((*(double *)(param_1 + 8) < _DAT_0052c5a8 ==
         (NAN(*(double *)(param_1 + 8)) || NAN(_DAT_0052c5a8))) ||
       (*(char *)(param_1 + 0x48) != '\0')) {
      iVar7 = Collision_HandleEnemyHit();
      *(double *)(param_1 + 0x18) =
           ((double)(iVar7 % 100) - _DAT_0052a0a8) * _DAT_00530cd0 + *(double *)(param_1 + 0x18);
      dVar2 = *(double *)(param_1 + 0x18) - *(double *)(param_1 + 8) * _DAT_00530cc8;
      *(double *)(param_1 + 0x18) = dVar2;
      iVar7 = Collision_HandleEnemyHit();
      dVar3 = (_DAT_0052c710 - *(double *)(param_1 + 0x10)) * _DAT_00530cd0 +
              ((double)(iVar7 % 100) - _DAT_0052a0a8) * _DAT_00530cc8 + *(double *)(param_1 + 0x20);
      *(double *)(param_1 + 0x20) = dVar3;
      if (dVar2 < _DAT_00530cc0 != (NAN(dVar2) || NAN(_DAT_00530cc0))) {
        *(undefined4 *)(param_1 + 0x18) = 0;
        *(undefined4 *)(param_1 + 0x1c) = 0xbfe80000;
      }
      if (_DAT_0052c968 < *(double *)(param_1 + 0x18)) {
        *(undefined4 *)(param_1 + 0x18) = 0;
        *(undefined4 *)(param_1 + 0x1c) = 0x3fe80000;
      }
      if (dVar3 < _DAT_00530cb8 != (NAN(dVar3) || NAN(_DAT_00530cb8))) {
        *(undefined4 *)(param_1 + 0x20) = 0;
        *(undefined4 *)(param_1 + 0x24) = 0xbfd00000;
      }
      if (_DAT_0052c668 < *(double *)(param_1 + 0x20)) {
        *(undefined4 *)(param_1 + 0x20) = 0;
        *(undefined4 *)(param_1 + 0x24) = 0x3fd00000;
      }
    }
    else {
      *(undefined1 *)(param_1 + 0x48) = 1;
    }
    *(double *)(param_1 + 8) = *(double *)(param_1 + 0x18) + *(double *)(param_1 + 8);
    *(double *)(param_1 + 0x10) = *(double *)(param_1 + 0x20) + *(double *)(param_1 + 0x10);
    dVar2 = *(double *)(param_1 + 0x80) + _DAT_0052a0e8;
    bVar1 = _DAT_0052c998 <= dVar2;
    *(double *)(param_1 + 0x80) = dVar2;
    if (bVar1) {
      *(double *)(param_1 + 0x80) = dVar2 - _DAT_0052c998;
    }
    if (*(char *)(param_1 + 0x48) != '\0') {
      if ((*(char *)(param_1 + 0x90) == '\0') ||
         (iVar7 = *(int *)(param_1 + 0x4c), *(int *)(iVar7 + 0x80) != 0)) {
        (**(code **)(**(int **)(param_1 + 0xa8) + 0x20))();
        dVar2 = _DAT_0052a0c0;
        *(undefined1 *)(param_1 + 0x90) = 0;
        if (dVar2 < *(double *)(param_1 + 0x88)) {
          *(double *)(param_1 + 0x88) = *(double *)(param_1 + 0x88) - _DAT_0052c538;
        }
        iVar7 = *(int *)(param_1 + 0x94);
        *(int *)(param_1 + 0x94) = iVar7 + -1;
        if (iVar7 < 0) {
          *(undefined1 *)(param_1 + 0x90) = 1;
          *(undefined4 *)(param_1 + 0x94) = *(undefined4 *)(param_1 + 0x98);
        }
      }
      else {
        if (*(double *)(param_1 + 0x88) < _DAT_00530cb0 !=
            (NAN(*(double *)(param_1 + 0x88)) || NAN(_DAT_00530cb0))) {
          *(double *)(param_1 + 0x88) = *(double *)(param_1 + 0x88) + _DAT_0052c538;
        }
        if (((NAN(*(double *)(iVar7 + 0x88)) || NAN(_DAT_0052a0c0)) !=
             (*(double *)(iVar7 + 0x88) == _DAT_0052a0c0)) && (*(int *)(iVar7 + 0x300) == 0)) {
          iVar7 = *(int *)(param_1 + 0x94);
          *(int *)(param_1 + 0x94) = iVar7 + -1;
          if (iVar7 < 0) {
            (**(code **)(**(int **)(param_1 + 0xa8) + 0x20))();
            iVar7 = 0;
            *(undefined1 *)(param_1 + 0x90) = 0;
            *(undefined4 *)(param_1 + 0x94) = *(undefined4 *)(param_1 + 0x9c);
            if (0 < *(int *)(param_1 + 0xa4)) {
              do {
                pvVar5 = operator_new(0x68);
                local_8 = 0;
                if (pvVar5 != (void *)0x0) {
                  Array_Add(pvVar5,*(int *)(param_1 + 0x4c));
                }
                iVar7 = iVar7 + 1;
                local_8 = 0xffffffff;
              } while (iVar7 < *(int *)(param_1 + 0xa4));
            }
          }
          else if ((_DAT_00530ca8 < *(double *)(param_1 + 0x88)) &&
                  (cVar4 = (**(code **)(**(int **)(param_1 + 0xa8) + 0x24))(), cVar4 == '\0')) {
            (**(code **)(**(int **)(param_1 + 0xa8) + 0x1c))(1,1);
          }
        }
      }
    }
    iVar7 = *(int *)(param_1 + 0x4c);
    if (((*(int *)(iVar7 + 0x80) != 0) || (*(char *)(param_1 + 0x48) == '\0')) ||
       (_DAT_0052c838 < *(double *)(param_1 + 0x88))) {
      iVar6 = *(int *)(param_1 + 0xa0);
    }
    else {
      iVar6 = *(int *)(param_1 + 0x7c) + -1;
    }
    *(int *)(param_1 + 0x7c) = iVar6;
    if (((iVar6 < 1) &&
        ((NAN(*(double *)(iVar7 + 0x88)) || NAN(_DAT_0052a0c0)) !=
         (*(double *)(iVar7 + 0x88) == _DAT_0052a0c0))) && (*(int *)(iVar7 + 0x300) == 0)) {
      pvVar5 = operator_new(0x68);
      local_8 = 1;
      if (pvVar5 != (void *)0x0) {
        uVar9 = 0xbff00000;
        uVar8 = 0;
        iVar7 = Collision_HandleEnemyHit();
        dVar2 = (double)(iVar7 % 400) * _DAT_0052c538 - _DAT_0052c5d8;
        dVar3 = *(double *)(param_1 + 0x10) - _DAT_00530ca0;
        Powerup_ShieldUpdate
                  (pvVar5,*(int *)(param_1 + 0x4c),*(undefined4 *)(param_1 + 8),
                   *(undefined4 *)(param_1 + 0xc),SUB84(dVar3,0),(int)((ulonglong)dVar3 >> 0x20),
                   SUB84(dVar2,0),(int)((ulonglong)dVar2 >> 0x20),uVar8,uVar9);
      }
      local_8 = 0xffffffff;
      (**(code **)(**(int **)(param_1 + 0x50) + 0xb8))(0x49,0);
      *(undefined4 *)(param_1 + 0x7c) = *(undefined4 *)(param_1 + 0xa0);
    }
    if ((*(int *)(*(int *)(param_1 + 0x4c) + 0x300) != 0) &&
       (cVar4 = (**(code **)(**(int **)(param_1 + 0xa8) + 0x24))(), cVar4 != '\0')) {
      (**(code **)(**(int **)(param_1 + 0xa8) + 0x20))();
    }
  }
  ExceptionList = local_10;
  return;
}


