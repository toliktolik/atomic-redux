/*
 * Function: Unwind@00513510
 * Address: 00513510
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


/* WARNING: Control flow encountered bad instruction data */
/* WARNING: Instruction at (ram,0x00513553) overlaps instruction at (ram,0x00513552)
    */

void __fastcall Unwind_00513510(int param_1,int param_2)

{
  char *pcVar1;
  byte *pbVar2;
  uint *puVar3;
  byte bVar4;
  uint uVar5;
  uint uVar6;
  int in_EAX;
  byte bVar7;
  undefined2 uVar8;
  byte bVar9;
  int *unaff_EBX;
  int unaff_EBP;
  uint *unaff_ESI;
  uint *unaff_EDI;
  bool bVar10;
  bool bVar11;
  
  do {
    *unaff_EBX = *unaff_EBX - param_1;
    *(uint *)((int)unaff_ESI + 0x56) = *(uint *)((int)unaff_ESI + 0x56) & (uint)&stack0x00000000;
    uVar5 = *unaff_ESI;
    bVar10 = uVar5 < 0xfffffffc;
    puVar3 = unaff_ESI + 1;
    *unaff_EDI = *unaff_ESI;
    uVar8 = (undefined2)param_2;
    if (param_1 == 0) {
      uVar5 = in(uVar8);
      unaff_EDI[1] = uVar5;
                    /* WARNING: Bad instruction - Truncating control flow here */
      halt_baddata();
    }
    if ((POPCOUNT(uVar5 + 4 & 0xff) & 1U) != 0) {
      uVar5 = *puVar3;
      bVar7 = (byte)((uint)param_1 >> 8);
      uVar6 = *puVar3;
      bVar9 = (byte)*puVar3 - bVar7;
      *(byte *)puVar3 = bVar9 - bVar10;
      bVar11 = (byte)*puVar3 != 0;
      DAT_acf2f39c = (undefined1)in_EAX;
      if (param_1 == 1 || bVar11) {
        halt_baddata();
      }
      if (!bVar11 ||
          (SBORROW1((byte)uVar6,bVar7) != SBORROW1(bVar9,bVar10)) != (char)(byte)*puVar3 < '\0') {
        halt_baddata();
      }
      uVar6 = *puVar3;
      pbVar2 = (byte *)(unaff_EBP * 9 + 0x32a3f723);
      bVar4 = *pbVar2;
      *pbVar2 = *pbVar2 << 1 | ((byte)uVar5 < bVar7 || bVar9 < bVar10);
      out(0xba,(byte)uVar6);
      out(uVar8,(CONCAT31((int3)((uint)in_EAX >> 8),(byte)uVar6) + 0x78ec3831) -
                (uint)((char)bVar4 < '\0'));
      in(uVar8);
                    /* WARNING: Bad instruction - Truncating control flow here */
      halt_baddata();
    }
    if (uVar5 + 4 == 0 || (int)uVar5 < -4) {
                    /* WARNING: Bad instruction - Truncating control flow here */
      halt_baddata();
    }
    unaff_EDI = (uint *)(in_EAX + 1);
    bVar9 = (byte)((uint)unaff_EBX >> 8);
    unaff_EBX = (int *)CONCAT22((short)((uint)unaff_EBX >> 0x10),
                                CONCAT11(bVar9 + *(byte *)(unaff_EBP + -0x28),(char)unaff_EBX));
    pcVar1 = (char *)(param_2 + -0x5d39ada6);
    *pcVar1 = *pcVar1 + '\\' + CARRY1(bVar9,*(byte *)(unaff_EBP + -0x28));
    in_EAX = 0x1b581805;
    param_1 = param_1 + -1;
    unaff_ESI = puVar3;
  } while (param_1 == 0 || *pcVar1 == '\0');
  return;
}


