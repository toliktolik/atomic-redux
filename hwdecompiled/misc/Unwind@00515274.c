/*
 * Function: Unwind@00515274
 * Address: 00515274
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


/* WARNING: Control flow encountered bad instruction data */
/* WARNING: Instruction at (ram,0x005152f3) overlaps instruction at (ram,0x005152f0)
    */
/* WARNING: Stack frame is not setup normally: Input value of stackpointer is not used */

ulonglong __fastcall Unwind_00515274(uint param_1,int param_2)

{
  int *piVar1;
  byte *pbVar2;
  int iVar3;
  uint *puVar4;
  uint *puVar5;
  bool bVar6;
  byte bVar7;
  byte bVar8;
  ushort uVar9;
  uint uVar10;
  undefined3 uVar12;
  int in_EAX;
  char *pcVar11;
  byte bVar13;
  undefined2 uVar14;
  int iVar15;
  byte bVar16;
  int unaff_EBX;
  undefined1 *puVar17;
  int *piVar18;
  int unaff_EBP;
  byte *unaff_ESI;
  byte *unaff_EDI;
  undefined2 in_ES;
  byte in_CF;
  byte in_AF;
  char in_SF;
  undefined1 in_OF;
  unkbyte10 in_ST6;
  
  do {
    if (in_OF != in_SF) {
      if ((bool)in_OF) {
        puVar17 = (undefined1 *)0x422f6737;
        iVar15 = param_2 + -1;
        uVar9 = (ushort)in_EAX ^ 0x14;
        if (param_1 != 0) {
                    /* WARNING: Bad instruction - Truncating control flow here */
          halt_baddata();
        }
        goto LAB_005152d5;
      }
      bVar7 = 9 < ((byte)in_EAX & 0xf) | in_AF;
      bVar8 = (byte)in_EAX + bVar7 * '\x06';
      uVar14 = (undefined2)(param_1 >> 0x10);
      bVar13 = (byte)param_1;
      bVar16 = (byte)((uint)unaff_EBX >> 8);
      iVar15 = CONCAT22(uVar14,CONCAT11((byte)(param_1 >> 8) | bVar16,bVar13));
      bVar8 = bVar8 + (0x90 < (bVar8 & 0xf0) | bVar7 * (0xf9 < bVar8)) * '`' +
              (char)((uint)in_EAX >> 8) * '\t';
      pcVar11 = (char *)CONCAT22((short)((uint)in_EAX >> 0x10),(ushort)bVar8);
      in_ES = *(undefined2 *)(in_EAX + 0x422f6733 + (uint)in_CF);
      if (pcVar11 < *(char **)(unaff_EDI + 1) || pcVar11 == *(char **)(unaff_EDI + 1)) {
        *pcVar11 = *pcVar11 + '\x01';
                    /* WARNING: Bad instruction - Truncating control flow here */
        halt_baddata();
      }
      piVar1 = (int *)(iVar15 + 0x36);
      *piVar1 = *piVar1 - unaff_EBP;
      iVar3 = *piVar1;
      pbVar2 = unaff_ESI + 0x53;
      *(int *)pbVar2 = *(int *)pbVar2 >> (bVar13 & 0x1f);
      bVar6 = (param_1 & 0x1f) != 0;
      if (!bVar6 && iVar3 == 0 || bVar6 && *(int *)pbVar2 == 0) {
        *(byte **)(in_EAX + 0x422f6733 + (uint)in_CF + -1) = unaff_EDI + 5;
                    /* WARNING: Bad instruction - Truncating control flow here */
        halt_baddata();
      }
      in_AF = 9 < (bVar8 & 0xf) | bVar7;
      puVar5 = (uint *)(unaff_EDI + 9);
      puVar4 = (uint *)(unaff_ESI + 5);
      piVar18 = (int *)(unaff_EBP - 1U ^ *puVar4);
      uVar10 = CONCAT11(in_AF,*unaff_ESI) ^ 0xb3e2a5d9;
      piVar1 = (int *)(uVar10 + 0xc50b6b97);
      *piVar1 = *piVar1 + iVar15;
      *(byte *)puVar5 = (byte)*puVar5 & bVar16;
      uVar12 = (undefined3)(uVar10 >> 8);
      bVar7 = in(0x1e);
      in_EAX = CONCAT31(uVar12,bVar7);
      *(uint *)(in_EAX + -0x25c9712b) = *(uint *)(in_EAX + -0x25c9712b) >> 1;
      param_1 = CONCAT22(uVar14,CONCAT11(0xbc,bVar13));
      iVar15 = (CONCAT31((int3)((uint)param_2 >> 8),(char)param_2 + -0x6f) -
               *(int *)((int)piVar18 + 10)) + -1;
      out(0x3c,bVar7);
      unaff_EBX = unaff_EBX + -1 + in_EAX;
      ffree(in_ST6);
      puRam27a589d1 = puVar5;
      if (param_1 == 0) {
        uVar10 = CONCAT31(uVar12,bVar7 ^ bRam560d8960);
        out(0xbe,uVar10);
        bVar8 = (bVar7 ^ bRam560d8960) + 0x2a;
        uRam6313a706 = (undefined1)unaff_EBX;
        bVar7 = 9 < (bVar8 & 0xf) | in_AF;
        bVar8 = bVar8 + bVar7 * '\x06';
        uRam27a589cd = 0x34;
        puVar17 = (undefined1 *)0x27a589d1;
        if ((char)(byte)*puVar5 < (char)(byte)*puVar4) {
          if ((char)(byte)*puVar5 <= (char)(byte)*puVar4) {
            unaff_ESI[-0x1d2a9bd9] = unaff_ESI[-0x1d2a9bd9] ^ (byte)((uint)iVar15 >> 8);
            puVar17 = (undefined1 *)0x27a589f1;
            iVar15 = iRam27a589e5;
            piVar18 = piRam27a589d9;
          }
          DAT_f90d9182 = SUB41(piVar18,0);
          out(0x6b,DAT_f90d9182);
          DAT_e68987fb = DAT_e68987fb << 1;
          *(undefined4 *)(puVar17 + -4) = 0xffffffdb;
          return CONCAT44(iVar15 + 1,piVar18) & 0xffffffffdfbeb05c;
        }
        DAT_c7db89d1 = DAT_c7db89d1 |
                       bVar8 + (0x90 < (bVar8 & 0xf0) | 0x789dc3d5 < uVar10 | bVar7 * (0xf9 < bVar8)
                               ) * 'a' + 0xb8;
        uVar9 = 0x4ce5;
        unaff_ESI = unaff_ESI + 6;
LAB_005152d5:
        DAT_fe699a47 = (undefined1)uVar9;
        *(undefined2 *)(puVar17 + -4) = in_ES;
        out(*unaff_ESI,(short)iVar15);
        *(int *)(puVar17 + -8) = (int)(short)uVar9;
        return CONCAT44(iVar15,(int)(short)uVar9);
      }
      unaff_EBP = *piVar18;
      *(undefined2 *)piVar18 = in_ES;
      param_2 = CONCAT31((int3)((uint)iVar15 >> 8),*(undefined1 *)(unaff_EBX + 0x2bd0eaeb));
      unaff_EDI = unaff_EDI + 0xd;
      unaff_ESI = unaff_ESI + 9;
      *puVar5 = *puVar4;
    }
    bVar8 = *unaff_EDI;
    bVar7 = *unaff_ESI;
    in_CF = bVar7 < bVar8;
    in_OF = SBORROW1(bVar7,bVar8);
    in_SF = (char)(bVar7 - bVar8) < '\0';
    unaff_ESI = unaff_ESI + 1;
    unaff_EDI = unaff_EDI + 1;
  } while( true );
}


