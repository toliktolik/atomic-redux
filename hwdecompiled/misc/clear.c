/*
 * Function: clear
 * Address: 004ebfc5
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


/* Library Function - Single Match
    public: void __thiscall std::ios_base::clear(int,bool)
   
   Library: Visual Studio 2003 Release */

void __thiscall std::ios_base::clear(ios_base *this,int param_1,bool param_2)

{
  uint uVar1;
  int extraout_ECX;
  int unaff_EBP;
  int iVar2;
  undefined *puVar3;
  
  Assembly_BitShiftLocking();
  uVar1 = *(uint *)(unaff_EBP + 8) & 7;
  *(uint *)(extraout_ECX + 4) = uVar1;
  uVar1 = *(uint *)(extraout_ECX + 8) & uVar1;
  if (uVar1 == 0) goto LAB_004ec07d;
  if (*(char *)(unaff_EBP + 0xc) == '\0') {
    if ((uVar1 & 4) == 0) {
      if ((uVar1 & 2) != 0) {
        Level_InitializeDictastroika((void *)(unaff_EBP + -0x50),"ios_base::failbit set");
        *(undefined4 *)(unaff_EBP + -4) = 1;
        goto LAB_004ec00c;
      }
      Level_InitializeDictastroika((void *)(unaff_EBP + -0x94),"ios_base::eofbit set");
      *(undefined4 *)(unaff_EBP + -4) = 2;
      runtime_error::runtime_error
                ((runtime_error *)(unaff_EBP + -0x78),
                 (basic_string<char,struct_std::char_traits<char>,class_std::allocator<char>_> *)
                 (unaff_EBP + -0x94));
      *(undefined ***)(unaff_EBP + -0x78) = &PTR_Exception_ConditionalConstructor2_0054690c;
      iVar2 = unaff_EBP + -0x78;
    }
    else {
      Level_InitializeDictastroika((void *)(unaff_EBP + -0x50),"ios_base::badbit set");
      *(undefined4 *)(unaff_EBP + -4) = 0;
LAB_004ec00c:
      runtime_error::runtime_error
                ((runtime_error *)(unaff_EBP + -0x34),
                 (basic_string<char,struct_std::char_traits<char>,class_std::allocator<char>_> *)
                 (unaff_EBP + -0x50));
      *(undefined ***)(unaff_EBP + -0x34) = &PTR_Exception_ConditionalConstructor2_0054690c;
      iVar2 = unaff_EBP + -0x34;
    }
    puVar3 = &DAT_0055ad70;
  }
  else {
    puVar3 = (undefined *)0x0;
    iVar2 = 0;
  }
  CRuntime_CxxThrowException(iVar2,puVar3);
LAB_004ec07d:
  ExceptionList = *(void **)(unaff_EBP + -0xc);
  return;
}


