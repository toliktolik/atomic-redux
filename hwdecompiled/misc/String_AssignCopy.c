/*
 * Function: String_AssignCopy
 * Address: 0040231e
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


void __fastcall String_AssignCopy(undefined4 param_1,undefined4 *param_2)

{
  undefined4 *puVar1;
  uint uVar2;
  uint uVar3;
  int unaff_EBX;
  int unaff_EBP;
  uint unaff_ESI;
  undefined4 *puVar4;
  
  uVar3 = *(uint *)(unaff_EBP + 0xc);
  if (uVar3 != 0) {
    if (*(uint *)(unaff_EBX + 0x18) < 0x10) {
      puVar1 = (undefined4 *)(unaff_EBX + 4);
    }
    else {
      puVar1 = *(undefined4 **)(unaff_EBX + 4);
    }
    puVar4 = param_2;
    for (uVar2 = uVar3 >> 2; uVar2 != 0; uVar2 = uVar2 - 1) {
      *puVar4 = *puVar1;
      puVar1 = puVar1 + 1;
      puVar4 = puVar4 + 1;
    }
    for (uVar3 = uVar3 & 3; uVar3 != 0; uVar3 = uVar3 - 1) {
      *(undefined1 *)puVar4 = *(undefined1 *)puVar1;
      puVar1 = (undefined4 *)((int)puVar1 + 1);
      puVar4 = (undefined4 *)((int)puVar4 + 1);
    }
    unaff_ESI = *(uint *)(unaff_EBP + -0x14);
    uVar3 = *(uint *)(unaff_EBP + 0xc);
  }
  if (0xf < *(uint *)(unaff_EBX + 0x18)) {
                    /* WARNING: Subroutine does not return */
    System_ShutdownHandler(uVar3,(uint)param_2);
  }
  puVar1 = (undefined4 *)(unaff_EBX + 4);
  *(undefined1 *)puVar1 = 0;
  *puVar1 = param_2;
  *(uint *)(unaff_EBX + 0x18) = unaff_ESI;
  *(uint *)(unaff_EBX + 0x14) = uVar3;
  if (0xf < unaff_ESI) {
    puVar1 = param_2;
  }
  *(undefined1 *)((int)puVar1 + uVar3) = 0;
  ExceptionList = *(void **)(unaff_EBP + -0xc);
  return;
}


