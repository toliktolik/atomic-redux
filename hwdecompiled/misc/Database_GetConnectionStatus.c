/*
 * Function: Database_GetConnectionStatus
 * Address: 00450e80
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


void __fastcall Database_GetConnectionStatus(int *param_1)

{
  uint uVar1;
  int iVar2;
  undefined8 uVar3;
  uint unaff_retaddr;
  undefined4 *in_stack_ffffffcc;
  undefined4 *in_stack_ffffffd0;
  undefined1 local_28 [12];
  uint local_1c;
  undefined1 *local_18;
  uint local_14;
  void *local_10;
  undefined4 uStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  uStack_c = 0x513128;
  local_10 = ExceptionList;
  local_14 = DAT_00569f5c ^ unaff_retaddr;
  if ((param_1[0xf] != 0) && ((char)param_1[0x13] != '\0')) {
    ExceptionList = &local_10;
    (**(code **)(*param_1 + 4))(0xffffffff);
    local_1c = 0xf;
    in_stack_ffffffd0 = (undefined4 *)0x0;
    local_8 = 0;
    while( true ) {
      uVar3 = (**(code **)(*(int *)param_1[0xf] + 0x18))
                        (param_1 + 0x14,&stack0xffffffd0,local_28,&local_18);
      uVar1 = (uint)((ulonglong)uVar3 >> 0x20);
      iVar2 = (int)uVar3;
      if (iVar2 != 0) break;
      *(undefined1 *)(param_1 + 0x13) = 0;
LAB_00450f56:
      iVar2 = (int)local_18 - (int)&stack0xffffffd0;
      uVar1 = local_1c;
      if (local_18 != &stack0xffffffd0) {
        uVar3 = String_CopyData((char)param_1[0x17]);
        uVar1 = (uint)((ulonglong)uVar3 >> 0x20);
        if (iVar2 != (int)uVar3) goto LAB_00450fa4;
      }
      if ((char)param_1[0x13] == '\0') goto LAB_00450f2f;
      Memory_AllocateSound((_String_base *)&stack0xffffffcc,8,(_String_base)0x0);
    }
    if (iVar2 == 1) goto LAB_00450f56;
    if (iVar2 != 3) {
LAB_00450fa4:
      String_Destructor((int)&stack0xffffffcc,uVar1);
      goto LAB_00450f36;
    }
LAB_00450f2f:
    String_Destructor((int)&stack0xffffffcc,uVar1);
  }
LAB_00450f36:
  ExceptionList = local_10;
  Exception_SetMessage((void *)(local_14 ^ unaff_retaddr),in_stack_ffffffcc,in_stack_ffffffd0);
  return;
}


