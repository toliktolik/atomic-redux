/*
 * Function: Score_ProcessDisplayScores
 * Address: 004265c0
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


void __thiscall Score_ProcessDisplayScores(void *this,undefined4 param_1)

{
  int iVar1;
  int *piVar2;
  void *pvVar3;
  uint extraout_EDX;
  uint extraout_EDX_00;
  uint extraout_EDX_01;
  uint uVar4;
  uint extraout_EDX_02;
  uint extraout_EDX_03;
  undefined4 *puVar5;
  bool bVar6;
  int iVar7;
  int iVar8;
  int iVar9;
  undefined4 uVar10;
  int iVar11;
  _String_base local_68 [28];
  undefined1 local_4c [28];
  _String_base local_30 [28];
  undefined4 local_14;
  void *local_10;
  undefined *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &DAT_005113ec;
  local_10 = ExceptionList;
  local_14 = 0;
  puVar5 = (undefined4 *)0x0;
  ExceptionList = &local_10;
  (**(code **)(**(int **)((int)this + 8) + 0xb8))(0x12,0);
  switch(param_1) {
  case 0:
    pvVar3 = *(void **)((int)this + 8);
    if (*(short *)(*(int *)((int)pvVar3 + 0xb40) * 0x60 + *(int *)((int)pvVar3 + 0x148c) + 0x1c) ==
        0) {
      GameMenu_ProcessSurvivalSelect(pvVar3,'\0');
      UI_ProcessChildAnimation
                (*(void **)(*(int *)((int)this + 8) + 0x2dc),(int *)((int)this + -0x58));
      (**(code **)(**(int **)((int)this + 8) + 0x78))((int *)((int)this + -0x58));
      ExceptionList = local_10;
      return;
    }
    pvVar3 = operator_new(0x128);
    local_8 = 0;
    if (pvVar3 == (void *)0x0) {
      puVar5 = (undefined4 *)0x0;
      uVar10 = 0x3b;
    }
    else {
      puVar5 = CampaignContinueDialog_Constructor(pvVar3,*(void **)((int)this + 8));
      uVar10 = 0x3b;
    }
    break;
  case 1:
    pvVar3 = *(void **)((int)this + 8);
    if (*(ushort *)(*(int *)((int)pvVar3 + 0xb40) * 0x60 + *(int *)((int)pvVar3 + 0x148c) + 0x1e) <
        3) {
      pvVar3 = operator_new(0x11c);
      bVar6 = pvVar3 == (void *)0x0;
      local_8 = 1;
      if (bVar6) {
        puVar5 = (undefined4 *)0x0;
        uVar4 = extraout_EDX;
      }
      else {
        Level_InitializeDictastroika
                  (local_4c,
                   "You must complete 3 stages in Mission Mode in order to unlock Survival Mode!");
        local_8 = CONCAT31(local_8._1_3_,2);
        local_14 = 1;
        Level_InitializeDictastroika(local_30,"LOCKED");
        local_8 = 3;
        local_14 = 3;
        puVar5 = ParticleSystem_Constructor
                           (pvVar3,*(int *)((int)this + 8),0x118,0xd2,local_30,(uint)local_4c);
        uVar4 = extraout_EDX_00;
      }
      if (!bVar6) {
        String_Destructor((int)local_30,uVar4);
        uVar4 = extraout_EDX_01;
      }
      local_8 = 0xffffffff;
      if (!bVar6) {
        String_Destructor((int)local_4c,uVar4);
      }
      (**(code **)(**(int **)((int)this + 8) + 0x100))(0x1f,puVar5);
      ExceptionList = local_10;
      return;
    }
    if (((*(byte *)(*(int *)((int)pvVar3 + 0x148c) + 0x42 + *(int *)((int)pvVar3 + 0xb40) * 0x60) &
         1) == 0) && (*(char *)((int)pvVar3 + 0xb30) != '\0')) {
      uVar10 = ObjectFactory_Create920ByteObject(pvVar3,(undefined4 *)pvVar3);
      *(undefined4 *)(*(int *)((int)this + 8) + 0x958) = uVar10;
      *(undefined1 *)(*(int *)((int)this + 8) + 0xb30) = 0;
    }
    else {
      GameMenu_ProcessSurvivalSelect(pvVar3,'\x01');
    }
    *(int *)(*(int *)((int)this + 8) + 0xb38) = *(int *)(*(int *)((int)this + 8) + 0xb38) + 1;
    *(undefined4 *)(*(int *)((int)this + 8) + 0x94c) = 0;
    UI_ProcessChildAnimation(*(void **)(*(int *)((int)this + 8) + 0x2dc),(int *)((int)this + -0x58))
    ;
    (**(code **)(**(int **)((int)this + 8) + 0x78))((int *)((int)this + -0x58));
    ExceptionList = local_10;
    return;
  case 2:
    pvVar3 = operator_new(0x8c);
    local_8 = 9;
    if (pvVar3 == (void *)0x0) {
      piVar2 = (int *)0x0;
    }
    else {
      piVar2 = Button_ClickHandler(pvVar3,*(undefined4 *)((int)this + 8),0,10);
    }
    local_8 = 0xffffffff;
    SexyWidget_GetColor(*(void **)(*(int *)((int)this + 8) + 0x2dc),piVar2);
    pvVar3 = *(void **)(*(int *)((int)this + 8) + 0x2dc);
    goto LAB_0042696f;
  default:
    goto switchD_00426609_caseD_3;
  case 4:
    ObjectFactory_Create920ByteObject(*(void **)((int)this + 8),(undefined4 *)0x0);
    ExceptionList = local_10;
    return;
  case 5:
    pvVar3 = operator_new(0x124);
    local_8 = 6;
    uVar4 = extraout_EDX_02;
    if (pvVar3 != (void *)0x0) {
      Level_InitializeDictastroika(local_68,"QUIT GAME");
      iVar11 = 0x24;
      iVar9 = 0x23;
      iVar8 = 0xe6;
      iVar7 = 0x140;
      local_8 = CONCAT31(local_8._1_3_,7);
      local_14 = 4;
      iVar1 = Collision_HandleEnemyHit();
      puVar5 = Dialog_YesNoConstructor
                         (pvVar3,*(int *)((int)this + 8),-(uint)(this != (void *)0x58) & (uint)this,
                          local_68,(uint)(&DAT_005615f8 + (iVar1 % 10) * 0x1c),iVar7,iVar8,iVar9,
                          iVar11);
      uVar4 = extraout_EDX_03;
    }
    local_8 = 0xffffffff;
    if (pvVar3 != (void *)0x0) {
      String_Destructor((int)local_68,uVar4);
    }
    uVar10 = 0x20;
    goto LAB_00426a33;
  case 0x23:
    (**(code **)(**(int **)((int)this + 8) + 0x108))(0x20);
    (**(code **)(**(int **)((int)this + 8) + 0x98))();
    ExceptionList = local_10;
    return;
  case 0x24:
    (**(code **)(**(int **)((int)this + 8) + 0x108))(0x20);
    ExceptionList = local_10;
    return;
  case 0x3c:
    *(int *)(*(int *)((int)this + 8) + 0xb38) = *(int *)(*(int *)((int)this + 8) + 0xb38) + 1;
    (**(code **)(**(int **)((int)this + 8) + 0x108))(0x3b);
    pvVar3 = *(void **)((int)this + 8);
    Level_InitializeWithEnemyData
              (pvVar3,(uint)*(ushort *)
                             (*(int *)((int)pvVar3 + 0xb40) * 0x60 + 0x1c +
                             *(int *)((int)pvVar3 + 0x148c)));
    goto LAB_00426966;
  case 0x3d:
    (**(code **)(**(int **)((int)this + 8) + 0x108))(0x3b);
    *(int *)(*(int *)((int)this + 8) + 0xb38) = *(int *)(*(int *)((int)this + 8) + 0xb38) + 1;
    GameMenu_ProcessSurvivalSelect(*(void **)((int)this + 8),'\0');
LAB_00426966:
    pvVar3 = *(void **)(*(int *)((int)this + 8) + 0x2dc);
LAB_0042696f:
    UI_ProcessChildAnimation(pvVar3,(int *)((int)this + -0x58));
    (**(code **)(**(int **)((int)this + 8) + 0x78))((int *)((int)this + -0x58));
    ExceptionList = local_10;
    return;
  case 0x3e:
    (**(code **)(**(int **)((int)this + 8) + 0x108))(0x3b);
    ExceptionList = local_10;
    return;
  case 100:
    pvVar3 = operator_new(0x13c);
    local_8 = 10;
    if (pvVar3 == (void *)0x0) {
      puVar5 = (undefined4 *)0x0;
    }
    else {
      puVar5 = Animation_ProcessTankylvaniaTanks(pvVar3,*(int *)((int)this + 8));
    }
    uVar10 = 0x15;
  }
  local_8 = 0xffffffff;
LAB_00426a33:
  (**(code **)(**(int **)((int)this + 8) + 0x100))(uVar10,puVar5);
switchD_00426609_caseD_3:
  ExceptionList = local_10;
  return;
}


