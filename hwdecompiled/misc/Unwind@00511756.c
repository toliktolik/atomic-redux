/*
 * Function: Unwind@00511756
 * Address: 00511756
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


/* WARNING: Instruction at (ram,0x005117d8) overlaps instruction at (ram,0x005117d7)
    */
/* WARNING: Control flow encountered bad instruction data */
/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

ulonglong __fastcall Unwind_00511756(undefined4 param_1,int param_2)

{
  uint *puVar1;
  char *pcVar2;
  uint uVar3;
  byte *pbVar4;
  byte bVar5;
  byte *pbVar6;
  byte bVar7;
  char cVar8;
  code *pcVar9;
  int *piVar10;
  byte bVar11;
  int *piVar13;
  uint uVar14;
  undefined4 uVar15;
  int *piVar16;
  undefined2 uVar17;
  int iVar18;
  uint uVar19;
  int unaff_EBP;
  byte *unaff_ESI;
  byte *unaff_EDI;
  bool bVar20;
  byte in_AF;
  byte in_TF;
  byte in_IF;
  byte in_NT;
  byte in_AC;
  byte in_VIF;
  byte in_VIP;
  byte in_ID;
  ulonglong uVar21;
  uint unaff_retaddr;
  ushort uVar12;
  
  uVar19 = unaff_retaddr | _DAT_435c7ee1;
  uVar17 = CONCAT11((byte)((uint)param_2 >> 8) | unaff_ESI[0x10],(char)param_2);
  iVar18 = CONCAT22((short)((uint)param_2 >> 0x10),uVar17);
  if (CONCAT22((short)((uint)param_1 >> 0x10),
               CONCAT11(*(undefined1 *)(param_2 + 0x6d84bc60),(char)param_1)) != 1) {
    unaff_EDI[-0x1d114ac6] = unaff_EDI[-0x1d114ac6] << 1;
    *(byte **)CONCAT31((int3)(uVar19 >> 8),0x53) = unaff_ESI;
                    /* WARNING: Bad instruction - Truncating control flow here */
    halt_baddata();
  }
  pbVar4 = unaff_ESI + 1;
  bVar7 = *unaff_EDI;
  bVar5 = *unaff_ESI;
  cVar8 = bVar5 - bVar7;
  out(0xf8,(char)unaff_EBP);
  piVar13 = (int *)(unaff_EBP + -1);
  out(*pbVar4,uVar17);
  piVar10 = piVar13;
  piVar16 = (int *)0xffffffff;
  pbVar6 = unaff_EDI + 1;
  if ((char)piVar13 < '[') {
    if ((char)piVar13 != '[') {
      return CONCAT44(CONCAT31((int3)((uint)iVar18 >> 8),0xfb),piVar13) | 0x42;
    }
  }
  else {
    while( true ) {
      piVar13 = piVar16;
      piVar16 = piVar10;
      pbVar4 = pbVar4 + 1;
      iVar18 = CONCAT31((int3)((uint)iVar18 >> 8),0xdb);
      DAT_7416d607 = DAT_7416d607 + '\x01';
      if ((POPCOUNT(DAT_7416d607) & 1U) == 0) break;
      while( true ) {
        uVar15 = in(0xfc);
        *(int *)(iVar18 + -0x38) = *(int *)(iVar18 + -0x38) + -1;
        iVar18 = 0x606776d2;
        puVar1 = (uint *)(uVar19 - 0x17);
        uVar14 = *puVar1;
        uVar3 = *puVar1;
        *puVar1 = *puVar1 + 0x1779f87e;
        if (SCARRY4(uVar3,0x1779f87e)) break;
        bVar20 = (longlong)(int)&stack0x00000000 != (longlong)*(int *)(pbVar6 + 0x54) * -0x2e2c0edd;
        bVar11 = (char)uVar15 + '1' + (char)((uint)uVar15 >> 8) * '=';
        uVar12 = (ushort)bVar11;
        if (uVar12 == 0 || bVar20) {
          uVar14 = CONCAT22((short)((uint)uVar15 >> 0x10),
                            CONCAT11((uVar12 == 0) << 6 | in_AF << 4 |
                                     ((POPCOUNT(uVar12) & 1U) == 0) << 2 | 2 | bVar20,bVar11));
          pcVar2 = (char *)(uVar19 + 0x26 + (int)pbVar6 * 8);
          *pcVar2 = *pcVar2 + '$' + (uVar14 < 0x93d61d2c || uVar14 + 0x6c29e2d4 < (uint)bVar20);
          return CONCAT44(0x606776d2,
                          (uint)(in_NT & 1) * 0x4000 | (uint)SBORROW1(bVar5,bVar7) * 0x800 |
                          (uint)(in_IF & 1) * 0x200 | (uint)(in_TF & 1) * 0x100 |
                          (uint)(cVar8 < '\0') * 0x80 | (uint)(cVar8 == '\0') * 0x40 |
                          (uint)(in_AF & 1) * 0x10 | (uint)((POPCOUNT(cVar8) & 1U) == 0) * 4 |
                          (uint)(bVar5 < bVar7) | (uint)(in_ID & 1) * 0x200000 |
                          (uint)(in_VIP & 1) * 0x100000 | (uint)(in_VIF & 1) * 0x80000 |
                          (uint)(in_AC & 1) * 0x40000);
        }
      }
      *pbVar6 = *pbVar4;
      *piVar16 = (*piVar16 + -0x32) - (uint)(0xe8860781 < uVar14);
      piVar10 = (int *)((uint)pbVar4 >> 8);
      pbVar6 = pbVar6 + 1;
    }
  }
  out(0x47,(char)piVar13);
  pcVar9 = (code *)swi(3);
  uVar21 = (*pcVar9)();
  return uVar21;
}


