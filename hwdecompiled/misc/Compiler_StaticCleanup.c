/*
 * Function: Compiler_StaticCleanup
 * Address: 004f7181
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


void Compiler_StaticCleanup(void)

{
  uint uVar1;
  void *pvVar2;
  facet *pfVar3;
  uint uVar4;
  undefined4 *puVar5;
  undefined4 extraout_EDX;
  int unaff_EBP;
  
  Assembly_BitShiftLocking();
  uVar1 = *(uint *)(unaff_EBP + 0xc) & 2;
  *(uint *)(unaff_EBP + -0x10) = uVar1;
  if (uVar1 != 0) {
    if (*(int *)(unaff_EBP + 0x14) == 0) {
      pvVar2 = operator_new(0x20);
      if (pvVar2 == (void *)0x0) {
        pfVar3 = (facet *)0x0;
      }
      else {
        pfVar3 = (facet *)ctype<>(pvVar2,*(undefined4 *)(unaff_EBP + 8),0);
      }
      uVar1 = std::locale::id::Operator_CastToUnsignedInt((id *)&DAT_005a4968);
    }
    else {
      uVar1 = std::locale::id::Operator_CastToUnsignedInt((id *)&DAT_005a4968);
      pfVar3 = Locale_GetNumericFacet();
    }
    std::locale::_Locimp::_Addfac(*(_Locimp **)(unaff_EBP + 0x10),pfVar3,uVar1);
  }
  uVar1 = *(uint *)(unaff_EBP + 0xc) & 8;
  if (uVar1 != 0) {
    if (*(int *)(unaff_EBP + 0x14) == 0) {
      pfVar3 = (facet *)operator_new(8);
      if (pfVar3 == (facet *)0x0) {
        pfVar3 = (facet *)0x0;
      }
      else {
        *(undefined4 *)(pfVar3 + 4) = 0;
        *(undefined ***)pfVar3 = &PTR_STL_ConditionalDestructor_005469d0;
      }
      uVar4 = std::locale::id::Operator_CastToUnsignedInt((id *)&DAT_005a4940);
    }
    else {
      uVar4 = std::locale::id::Operator_CastToUnsignedInt((id *)&DAT_005a4940);
      pfVar3 = Locale_GetTimeFacet();
    }
    std::locale::_Locimp::_Addfac(*(_Locimp **)(unaff_EBP + 0x10),pfVar3,uVar4);
  }
  if (uVar1 != 0) {
    if (*(int *)(unaff_EBP + 0x14) == 0) {
      pfVar3 = (facet *)operator_new(8);
      if (pfVar3 == (facet *)0x0) {
        pfVar3 = (facet *)0x0;
      }
      else {
        *(undefined4 *)(pfVar3 + 4) = 0;
        *(undefined ***)pfVar3 = &PTR_STL_ConditionalDestructor_00546a04;
      }
      uVar4 = std::locale::id::Operator_CastToUnsignedInt((id *)&DAT_005a49a0);
    }
    else {
      uVar4 = std::locale::id::Operator_CastToUnsignedInt((id *)&DAT_005a49a0);
      pfVar3 = Locale_GetCollationFacet();
    }
    std::locale::_Locimp::_Addfac(*(_Locimp **)(unaff_EBP + 0x10),pfVar3,uVar4);
    if (uVar1 != 0) {
      if (*(int *)(unaff_EBP + 0x14) == 0) {
        pvVar2 = operator_new(0x18);
        *(void **)(unaff_EBP + -0x14) = pvVar2;
        *(undefined4 *)(unaff_EBP + -4) = 4;
        if (pvVar2 == (void *)0x0) {
          pfVar3 = (facet *)0x0;
        }
        else {
          pfVar3 = (facet *)Profiler_StartSession();
        }
        *(undefined4 *)(unaff_EBP + -4) = 0xffffffff;
        uVar1 = std::locale::id::Operator_CastToUnsignedInt((id *)&DAT_005a4998);
      }
      else {
        uVar1 = std::locale::id::Operator_CastToUnsignedInt((id *)&DAT_005a4998);
        pfVar3 = Log_WriteEntry();
      }
      std::locale::_Locimp::_Addfac(*(_Locimp **)(unaff_EBP + 0x10),pfVar3,uVar1);
    }
  }
  if ((*(byte *)(unaff_EBP + 0xc) & 1) != 0) {
    if (*(int *)(unaff_EBP + 0x14) == 0) {
      pvVar2 = operator_new(0x10);
      if (pvVar2 == (void *)0x0) {
        pfVar3 = (facet *)0x0;
      }
      else {
        pfVar3 = (facet *)Debug_SystemConstructor(pvVar2,*(undefined4 *)(unaff_EBP + 8),0);
      }
      uVar1 = std::locale::id::Operator_CastToUnsignedInt((id *)&DAT_005a4950);
    }
    else {
      uVar1 = std::locale::id::Operator_CastToUnsignedInt((id *)&DAT_005a4950);
      pfVar3 = CppRuntime_ExceptionHandler();
    }
    std::locale::_Locimp::_Addfac(*(_Locimp **)(unaff_EBP + 0x10),pfVar3,uVar1);
  }
  if ((*(byte *)(unaff_EBP + 0xc) & 0x20) != 0) {
    if (*(int *)(unaff_EBP + 0x14) == 0) {
      pfVar3 = (facet *)operator_new(8);
      if (pfVar3 == (facet *)0x0) {
        pfVar3 = (facet *)0x0;
      }
      else {
        *(undefined4 *)(pfVar3 + 4) = 0;
        *(undefined ***)pfVar3 = &PTR_STL_ConditionalDestructor_00546bcc;
      }
      uVar1 = std::locale::id::Operator_CastToUnsignedInt((id *)&DAT_005a4970);
    }
    else {
      uVar1 = std::locale::id::Operator_CastToUnsignedInt((id *)&DAT_005a4970);
      pfVar3 = Memory_HeapValidator();
    }
    std::locale::_Locimp::_Addfac(*(_Locimp **)(unaff_EBP + 0x10),pfVar3,uVar1);
  }
  uVar1 = *(uint *)(unaff_EBP + 0xc) & 4;
  if (uVar1 != 0) {
    if (*(int *)(unaff_EBP + 0x14) == 0) {
      pfVar3 = (facet *)operator_new(8);
      if (pfVar3 == (facet *)0x0) {
        pfVar3 = (facet *)0x0;
      }
      else {
        *(undefined4 *)(pfVar3 + 4) = 0;
        *(undefined ***)pfVar3 = &PTR_STL_ConditionalDestructor_00546be0;
      }
      uVar4 = std::locale::id::Operator_CastToUnsignedInt((id *)&DAT_005a498c);
    }
    else {
      uVar4 = std::locale::id::Operator_CastToUnsignedInt((id *)&DAT_005a498c);
      pfVar3 = Memory_DebugAllocator();
    }
    std::locale::_Locimp::_Addfac(*(_Locimp **)(unaff_EBP + 0x10),pfVar3,uVar4);
  }
  if (uVar1 != 0) {
    if (*(int *)(unaff_EBP + 0x14) == 0) {
      pfVar3 = (facet *)operator_new(8);
      if (pfVar3 == (facet *)0x0) {
        pfVar3 = (facet *)0x0;
      }
      else {
        *(undefined4 *)(pfVar3 + 4) = 0;
        *(undefined ***)pfVar3 = &PTR_STL_ConditionalDestructor_00546bf0;
      }
      uVar4 = std::locale::id::Operator_CastToUnsignedInt((id *)&DAT_005a4980);
    }
    else {
      uVar4 = std::locale::id::Operator_CastToUnsignedInt((id *)&DAT_005a4980);
      pfVar3 = Memory_PoolAllocator();
    }
    std::locale::_Locimp::_Addfac(*(_Locimp **)(unaff_EBP + 0x10),pfVar3,uVar4);
    if (uVar1 != 0) {
      if (*(int *)(unaff_EBP + 0x14) == 0) {
        puVar5 = (undefined4 *)operator_new(0x2c);
        *(undefined4 **)(unaff_EBP + -0x14) = puVar5;
        *(undefined4 *)(unaff_EBP + -4) = 10;
        if (puVar5 == (undefined4 *)0x0) {
          pfVar3 = (facet *)0x0;
        }
        else {
          pfVar3 = (facet *)moneypunct<>(puVar5);
        }
        *(undefined4 *)(unaff_EBP + -4) = 0xffffffff;
        uVar4 = std::locale::id::Operator_CastToUnsignedInt((id *)&DAT_005a4978);
      }
      else {
        uVar4 = std::locale::id::Operator_CastToUnsignedInt((id *)&DAT_005a4978);
        pfVar3 = Timer_Stop();
      }
      std::locale::_Locimp::_Addfac(*(_Locimp **)(unaff_EBP + 0x10),pfVar3,uVar4);
      if (uVar1 != 0) {
        if (*(int *)(unaff_EBP + 0x14) == 0) {
          puVar5 = (undefined4 *)operator_new(0x2c);
          *(undefined4 **)(unaff_EBP + -0x14) = puVar5;
          *(undefined4 *)(unaff_EBP + -4) = 0xc;
          if (puVar5 == (undefined4 *)0x0) {
            pfVar3 = (facet *)0x0;
          }
          else {
            pfVar3 = (facet *)moneypunct<>(puVar5);
          }
          *(undefined4 *)(unaff_EBP + -4) = 0xffffffff;
          uVar1 = std::locale::id::Operator_CastToUnsignedInt((id *)&DAT_005a499c);
        }
        else {
          uVar1 = std::locale::id::Operator_CastToUnsignedInt((id *)&DAT_005a499c);
          pfVar3 = Timer_Reset();
        }
        std::locale::_Locimp::_Addfac(*(_Locimp **)(unaff_EBP + 0x10),pfVar3,uVar1);
      }
    }
  }
  uVar1 = *(uint *)(unaff_EBP + 0xc) & 0x10;
  if (uVar1 != 0) {
    if (*(int *)(unaff_EBP + 0x14) == 0) {
      pvVar2 = operator_new(0x14);
      *(void **)(unaff_EBP + 0xc) = pvVar2;
      *(undefined4 *)(unaff_EBP + -4) = 0xe;
      if (pvVar2 == (void *)0x0) {
        pfVar3 = (facet *)0x0;
      }
      else {
        pfVar3 = (facet *)RTTI_DynamicCast();
      }
      *(undefined4 *)(unaff_EBP + -4) = 0xffffffff;
      uVar4 = std::locale::id::Operator_CastToUnsignedInt((id *)&DAT_005a4958);
    }
    else {
      uVar4 = std::locale::id::Operator_CastToUnsignedInt((id *)&DAT_005a4958);
      pfVar3 = Compiler_GlobalDestructors();
    }
    std::locale::_Locimp::_Addfac(*(_Locimp **)(unaff_EBP + 0x10),pfVar3,uVar4);
  }
  if (uVar1 != 0) {
    if (*(int *)(unaff_EBP + 0x14) == 0) {
      puVar5 = (undefined4 *)operator_new(0x14);
      if (puVar5 == (undefined4 *)0x0) {
        pfVar3 = (facet *)0x0;
      }
      else {
        pfVar3 = (facet *)System_EndOfExecutable(puVar5,extraout_EDX,*(byte **)(unaff_EBP + 8),0);
      }
      uVar1 = std::locale::id::Operator_CastToUnsignedInt((id *)&DAT_005a4988);
    }
    else {
      uVar1 = std::locale::id::Operator_CastToUnsignedInt((id *)&DAT_005a4988);
      pfVar3 = Locale_GetMessagesFacet();
    }
    std::locale::_Locimp::_Addfac(*(_Locimp **)(unaff_EBP + 0x10),pfVar3,uVar1);
  }
  if (*(int *)(unaff_EBP + -0x10) != 0) {
    if (*(int *)(unaff_EBP + 0x14) == 0) {
      pvVar2 = operator_new(0x10);
      if (pvVar2 == (void *)0x0) {
        pfVar3 = (facet *)0x0;
      }
      else {
        pfVar3 = (facet *)Locale_ConstructorA(pvVar2,*(undefined4 *)(unaff_EBP + 8),0);
      }
      uVar1 = std::locale::id::Operator_CastToUnsignedInt((id *)&DAT_005a4990);
    }
    else {
      uVar1 = std::locale::id::Operator_CastToUnsignedInt((id *)&DAT_005a4990);
      pfVar3 = Locale_GetCTypeFacet();
    }
    std::locale::_Locimp::_Addfac(*(_Locimp **)(unaff_EBP + 0x10),pfVar3,uVar1);
  }
  ExceptionList = *(void **)(unaff_EBP + -0xc);
  return;
}


