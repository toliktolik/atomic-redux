/*
 * Function: Unwind@00513bba
 * Address: 00513bba
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


/* WARNING: Control flow encountered bad instruction data */
/* WARNING: Unable to track spacebase fully for stack */

void Unwind_00513bba(void)

{
  char cVar1;
  undefined6 uVar2;
  undefined1 *puVar3;
  byte bVar4;
  int in_EAX;
  undefined4 *puVar5;
  undefined2 extraout_DX;
  int unaff_EBX;
  uint uVar6;
  byte *pbVar7;
  undefined4 unaff_EBP;
  undefined1 *unaff_ESI;
  undefined1 *unaff_EDI;
  undefined2 in_ES;
  undefined2 in_CS;
  bool bVar8;
  undefined4 unaff_retaddr;
  
  uVar6 = unaff_EBX - 1;
  bVar8 = (POPCOUNT(uVar6 & 0xff) & 1U) == 0;
  pbVar7 = (byte *)CONCAT22((short)(uVar6 >> 0x10),CONCAT11(0xe1,(char)uVar6));
  puVar5 = (undefined4 *)
           CONCAT22((short)((uint)in_EAX >> 0x10),
                    CONCAT11((char)((ushort)in_EAX % (ushort)*(byte *)(in_EAX + -9)),
                             (char)((ushort)in_EAX / (ushort)*(byte *)(in_EAX + -9))));
  if (&stack0x00000000 < unaff_EDI || uVar6 == 0) {
    out(0x97,&stack0x00000000);
    cVar1 = *(char *)(in_EAX >> 0x1f);
    puVar3 = (undefined1 *)*puVar5;
    *(undefined2 *)puVar5 = in_CS;
    puVar5[-1] = register0x00000010;
    puVar5[-2] = CONCAT22((short)((uint)unaff_retaddr >> 0x10),
                          CONCAT11((char)((uint)unaff_retaddr >> 8) - cVar1,(char)unaff_retaddr));
    puVar5[-3] = (char *)(in_EAX >> 0x1f);
    puVar5[-4] = pbVar7;
    puVar5[-5] = puVar5;
    puVar5[-6] = unaff_EBP;
    puVar5[-7] = unaff_ESI;
    puVar5[-8] = puVar3;
    bVar4 = *pbVar7;
    *puVar3 = *unaff_ESI;
    *(undefined2 *)(puVar5 + -8) = in_ES;
    out(0xb9,(bVar4 | 0x78) + 0x94);
                    /* WARNING: Bad instruction - Truncating control flow here */
    halt_baddata();
  }
  uVar2 = *(undefined6 *)((int)puVar5 + (int)unaff_ESI * 8 + 0x2d);
  puVar5[-1] = 0x513bd5;
  func_0x32504fb3();
  if (bVar8) {
                    /* WARNING: Bad instruction - Truncating control flow here */
    halt_baddata();
  }
  out(*(undefined1 *)uVar2,extraout_DX);
                    /* WARNING: Bad instruction - Truncating control flow here */
  halt_baddata();
}


