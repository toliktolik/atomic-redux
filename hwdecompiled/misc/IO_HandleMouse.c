/*
 * Function: IO_HandleMouse
 * Address: 005053d5
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


/* WARNING: Control flow encountered bad instruction data */
/* WARNING: Instruction at (ram,0x005053fb) overlaps instruction at (ram,0x005053f7)
    */

void __fastcall IO_HandleMouse(int param_1,undefined4 param_2)

{
  char *pcVar1;
  undefined4 uVar2;
  byte bVar3;
  char cVar4;
  uint uVar5;
  undefined4 in_EAX;
  undefined4 *puVar6;
  char extraout_CH;
  byte bVar8;
  undefined2 uVar7;
  undefined4 *unaff_EBX;
  undefined4 *puVar9;
  undefined4 **ppuVar10;
  undefined4 *unaff_EBP;
  undefined4 *unaff_ESI;
  uint unaff_EDI;
  undefined2 in_CS;
  undefined2 uVar11;
  undefined8 uVar12;
  undefined4 *puStack_4;
  
  uVar12 = CONCAT44(param_2,in_EAX);
  while( true ) {
    puVar9 = unaff_EBX;
    puVar6 = (undefined4 *)uVar12;
    *(uint *)((int)unaff_EBP + 0x1567f3e7) = *(uint *)((int)unaff_EBP + 0x1567f3e7) | unaff_EDI;
    bVar3 = *(byte *)(param_1 + -0x30);
    bVar8 = (byte)((ulonglong)uVar12 >> 0x28);
    out(*unaff_ESI,CONCAT11(bVar8 - *(byte *)(param_1 + -0x30),(char)((ulonglong)uVar12 >> 0x20)));
    uVar5 = (uint)param_1 >> 8;
    uVar11 = 0xf19f;
    puStack_4 = unaff_ESI;
    func_0x02cc399c(in_CS);
    uVar12 = func_0x6d5c4184();
    pcVar1 = (char *)((int)((ulonglong)uVar12 >> 0x20) + -0x452b2c56);
    *pcVar1 = *pcVar1 - extraout_CH;
    *puVar6 = (int)uVar12;
    param_1 = -0x30cc6441;
    uVar7 = (undefined2)((ulonglong)uVar12 >> 0x20);
    if (SBORROW1((char)uVar12,*(char *)(puVar6 + 1))) break;
    unaff_EDI = (int)puVar6 + 9;
    uVar2 = in(uVar7);
    *(undefined4 *)((int)puVar6 + 5) = uVar2;
    unaff_EBX = (undefined4 *)
                CONCAT22((short)((uint)unaff_EBP >> 0x10),
                         CONCAT11((char)((uint)unaff_EBP >> 8) + (char)uVar5 + (bVar8 < bVar3),
                                  (char)unaff_EBP));
    unaff_EBP = puVar9;
    unaff_ESI = (undefined4 *)0x920e7270;
    in_CS = uVar11;
  }
  out(uVar7,(int)uVar12);
  *(undefined4 *)((int)puVar6 + 5) = uRam920e7270;
  ppuVar10 = &puStack_4;
  cVar4 = '\x19';
  do {
    puVar9 = puVar9 + -1;
    ppuVar10 = ppuVar10 + -1;
    *ppuVar10 = (undefined4 *)*puVar9;
    cVar4 = cVar4 + -1;
  } while ('\0' < cVar4);
                    /* WARNING: Bad instruction - Truncating control flow here */
  halt_baddata();
}


