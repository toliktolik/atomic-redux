/*
 * Function: SexyWidget_GetScale
 * Address: 00469f60
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

undefined4 * __thiscall SexyWidget_GetScale(void *this,_String_base *param_1,char param_2)

{
  undefined4 *puVar1;
  int *piVar2;
  char *pcVar3;
  int *piVar4;
  char *pcVar5;
  _String_base *p_Var6;
  int extraout_ECX;
  int iVar7;
  uint extraout_EDX;
  uint extraout_EDX_00;
  int *piVar8;
  _String_base local_34 [4];
  uint local_30;
  undefined4 local_20;
  uint local_1c;
  int *local_18;
  undefined4 *local_14;
  void *local_10;
  undefined4 uStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  uStack_c = 0x514610;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  local_18 = (int *)this;
  puVar1 = local_14;
  if (param_2 == '\0') {
LAB_0046a105:
    local_14 = puVar1;
    if (*(int *)((int)this + 0x70) == 0) {
      _param_2 = (undefined4 *)0x0;
    }
    else {
      _param_2 = (undefined4 *)((*(int *)((int)this + 0x74) - *(int *)((int)this + 0x70)) / 0x1c);
    }
    piVar4 = *(int **)((int)this + 0xac);
    piVar8 = (int *)this;
    while (piVar2 = piVar4, piVar2 != (int *)0x0) {
      piVar8 = piVar2;
      piVar4 = (int *)piVar2[0x2b];
    }
    do {
      if (piVar8 == (int *)this) {
        Craft_ProcessCruise(piVar8 + 0x1b,(uint)param_1);
      }
      else {
        local_1c = 0xf;
        local_20 = 0;
        local_30 = local_30 & 0xffffff00;
        pcVar3 = "-";
        do {
          pcVar5 = pcVar3;
          pcVar3 = pcVar5 + 1;
        } while (*pcVar5 != '\0');
        String_Assign(local_34,(_String_base *)&DAT_00532ecc,(uint)(pcVar5 + -0x532ecc));
        local_8 = 1;
        Craft_ProcessCruise(piVar8 + 0x1b,(uint)local_34);
        local_8 = 0xffffffff;
        if (0xf < local_1c) {
                    /* WARNING: Subroutine does not return */
          System_ShutdownHandler(local_30,extraout_EDX_00);
        }
        local_1c = 0xf;
        local_20 = 0;
        local_30 = local_30 & 0xffffff00;
      }
      local_14 = (undefined4 *)(*(int *)((int)this + 0x2c) + 0x20);
      iVar7 = piVar8[0x20];
      if ((iVar7 == 0) || ((uint)(piVar8[0x22] - iVar7 >> 4) <= (uint)(piVar8[0x21] - iVar7 >> 4)))
      {
        UI_ValidateChildHitTest(piVar8 + 0x1f,(undefined4 *)piVar8[0x21],1,local_14);
      }
      else {
        puVar1 = (undefined4 *)piVar8[0x21];
        UI_ProcessWidgetDrawing(puVar1,1,local_14);
        piVar8[0x21] = (int)(puVar1 + 4);
      }
      (**(code **)(*piVar8 + 0xbc))();
      piVar8 = (int *)piVar8[0x2c];
      this = local_18;
    } while (piVar8 != (int *)0x0);
  }
  else {
    _param_2 = (undefined4 *)0x0;
    local_14 = (undefined4 *)0x0;
    ExceptionList = &local_10;
    while( true ) {
      if (*(int *)((int)this + 0x70) == 0) {
        iVar7 = 0;
      }
      else {
        iVar7 = (*(int *)((int)this + 0x74) - *(int *)((int)this + 0x70)) / 0x1c;
      }
      puVar1 = _param_2;
      if (iVar7 <= (int)_param_2) goto LAB_0046a105;
      if (*(uint *)(param_1 + 0x18) < 0x10) {
        p_Var6 = param_1 + 4;
      }
      else {
        p_Var6 = *(_String_base **)(param_1 + 4);
      }
      iVar7 = Debug_LogMessage((int)p_Var6,0x10);
      if (iVar7 < 0) break;
      _param_2 = (undefined4 *)((int)_param_2 + 1);
    }
    piVar4 = *(int **)((int)this + 0xac);
    piVar8 = (int *)this;
    while (piVar2 = piVar4, piVar2 != (int *)0x0) {
      piVar8 = piVar2;
      piVar4 = (int *)piVar2[0x2b];
    }
    local_18 = (int *)((int)_param_2 << 4);
    local_14 = _param_2;
    do {
      if (piVar8 == (int *)this) {
        Craft_ProcessSuperBomber
                  ((int)(piVar8 + 0x1b),(uint)&stack0xffffffb4,
                   (_String_base *)(piVar8[0x1c] + (int)_param_2 * 0x1c),(_String_base *)0x1,param_1
                  );
      }
      else {
        local_1c = 0xf;
        local_20 = 0;
        local_30 = local_30 & 0xffffff00;
        pcVar3 = "-";
        do {
          pcVar5 = pcVar3;
          pcVar3 = pcVar5 + 1;
        } while (*pcVar5 != '\0');
        String_Assign(local_34,(_String_base *)&DAT_00532ecc,(uint)(pcVar5 + -0x532ecc));
        local_8 = 0;
        Craft_ProcessSuperBomber
                  ((int)(piVar8 + 0x1b),(uint)&stack0xffffffb4,
                   (_String_base *)(piVar8[0x1c] + (int)_param_2 * 0x1c),(_String_base *)0x1,
                   local_34);
        local_8 = 0xffffffff;
        if (0xf < local_1c) {
                    /* WARNING: Subroutine does not return */
          System_ShutdownHandler(extraout_ECX,extraout_EDX);
        }
        local_1c = 0xf;
        local_20 = 0;
        local_30 = local_30 & 0xffffff00;
      }
      UI_ValidateChildHitTest
                (piVar8 + 0x1f,(undefined4 *)((int)local_18 + piVar8[0x20]),1,
                 (undefined4 *)(*(int *)((int)this + 0x2c) + 0x20));
      (**(code **)(*piVar8 + 0xbc))();
      piVar8 = (int *)piVar8[0x2c];
    } while (piVar8 != (int *)0x0);
  }
  if (*(int **)((int)this + 100) != (int *)0x0) {
    (**(code **)(**(int **)((int)this + 100) + 0xc4))();
  }
  ExceptionList = local_10;
  return _param_2;
}


