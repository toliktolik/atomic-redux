/*
 * Function: CPU_ProcessData7
 * Address: 004c6640
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


undefined4 __cdecl CPU_ProcessData7(int param_1)

{
  int iVar1;
  uint uVar2;
  uint *puVar3;
  int iVar4;
  uint uVar5;
  uint extraout_EDX;
  uint extraout_EDX_00;
  uint extraout_EDX_01;
  uint extraout_EDX_02;
  uint extraout_EDX_03;
  uint extraout_EDX_04;
  uint *unaff_ESI;
  undefined4 *puVar6;
  int *piVar7;
  undefined8 uVar8;
  int local_8;
  
  iVar1 = *(int *)(param_1 + 0x1c);
  if (iVar1 == 0) {
    return 0xffffff7f;
  }
  uVar2 = GIF_SetTransparentIndex(unaff_ESI,8);
  *(uint *)(iVar1 + 0x1c) = uVar2 + 1;
  local_8 = 0;
  if (0 < (int)(uVar2 + 1)) {
    puVar6 = (undefined4 *)(iVar1 + 0x820);
    do {
      puVar3 = (uint *)Assembly_DecompilationFailed(1,0x24);
      *puVar6 = puVar3;
      iVar4 = GIF_ReadImageData(unaff_ESI,puVar3);
      uVar2 = extraout_EDX;
      if (iVar4 != 0) goto LAB_004c68ed;
      local_8 = local_8 + 1;
      puVar6 = puVar6 + 1;
    } while (local_8 < *(int *)(iVar1 + 0x1c));
  }
  uVar2 = GIF_SetTransparentIndex(unaff_ESI,6);
  *(uint *)(iVar1 + 0x10) = uVar2 + 1;
  local_8 = 0;
  if (0 < (int)(uVar2 + 1)) {
    puVar3 = (uint *)(iVar1 + 800);
    do {
      uVar5 = GIF_SetTransparentIndex(unaff_ESI,0x10);
      *puVar3 = uVar5;
      uVar2 = extraout_EDX_00;
      if (((int)uVar5 < 0) || (0 < (int)uVar5)) goto LAB_004c68ed;
      local_8 = local_8 + 1;
      puVar3 = puVar3 + 1;
    } while (local_8 < *(int *)(iVar1 + 0x10));
  }
  uVar2 = GIF_SetTransparentIndex(unaff_ESI,6);
  *(uint *)(iVar1 + 0x14) = uVar2 + 1;
  local_8 = 0;
  if (0 < (int)(uVar2 + 1)) {
    piVar7 = (int *)(iVar1 + 0x520);
    do {
      uVar5 = GIF_SetTransparentIndex(unaff_ESI,0x10);
      piVar7[-0x40] = uVar5;
      uVar2 = extraout_EDX_01;
      if (((int)uVar5 < 0) || (1 < (int)uVar5)) goto LAB_004c68ed;
      uVar8 = (**(code **)(&PTR_PTR_Graphics_Clear_005682b4)[uVar5])(param_1);
      uVar2 = (uint)((ulonglong)uVar8 >> 0x20);
      *piVar7 = (int)uVar8;
      if ((int)uVar8 == 0) goto LAB_004c68ed;
      local_8 = local_8 + 1;
      piVar7 = piVar7 + 1;
    } while (local_8 < *(int *)(iVar1 + 0x14));
  }
  uVar2 = GIF_SetTransparentIndex(unaff_ESI,6);
  *(uint *)(iVar1 + 0x18) = uVar2 + 1;
  local_8 = 0;
  if (0 < (int)(uVar2 + 1)) {
    piVar7 = (int *)(iVar1 + 0x720);
    do {
      uVar5 = GIF_SetTransparentIndex(unaff_ESI,0x10);
      piVar7[-0x40] = uVar5;
      uVar2 = extraout_EDX_02;
      if (((int)uVar5 < 0) || (2 < (int)uVar5)) goto LAB_004c68ed;
      uVar8 = (**(code **)(&PTR_PTR_Service_Stop_005682bc)[uVar5])(param_1);
      uVar2 = (uint)((ulonglong)uVar8 >> 0x20);
      *piVar7 = (int)uVar8;
      if ((int)uVar8 == 0) goto LAB_004c68ed;
      local_8 = local_8 + 1;
      piVar7 = piVar7 + 1;
    } while (local_8 < *(int *)(iVar1 + 0x18));
  }
  uVar2 = GIF_SetTransparentIndex(unaff_ESI,6);
  *(uint *)(iVar1 + 0xc) = uVar2 + 1;
  local_8 = 0;
  if (0 < (int)(uVar2 + 1)) {
    piVar7 = (int *)(iVar1 + 0x220);
    do {
      uVar5 = GIF_SetTransparentIndex(unaff_ESI,0x10);
      piVar7[-0x40] = uVar5;
      uVar2 = extraout_EDX_03;
      if (((int)uVar5 < 0) || (0 < (int)uVar5)) goto LAB_004c68ed;
      uVar8 = (**(code **)(&PTR_PTR_Process_WaitForExit_005682c8)[uVar5])(param_1);
      uVar2 = (uint)((ulonglong)uVar8 >> 0x20);
      *piVar7 = (int)uVar8;
      if ((int)uVar8 == 0) goto LAB_004c68ed;
      local_8 = local_8 + 1;
      piVar7 = piVar7 + 1;
    } while (local_8 < *(int *)(iVar1 + 0xc));
  }
  uVar2 = GIF_SetTransparentIndex(unaff_ESI,6);
  *(uint *)(iVar1 + 8) = uVar2 + 1;
  local_8 = 0;
  if (0 < (int)(uVar2 + 1)) {
    piVar7 = (int *)(iVar1 + 0x20);
    do {
      iVar4 = Assembly_DecompilationFailed(1,0x10);
      *piVar7 = iVar4;
      uVar2 = GIF_SetTransparentIndex(unaff_ESI,1);
      *(uint *)*piVar7 = uVar2;
      uVar2 = GIF_SetTransparentIndex(unaff_ESI,0x10);
      *(uint *)(*piVar7 + 4) = uVar2;
      uVar2 = GIF_SetTransparentIndex(unaff_ESI,0x10);
      *(uint *)(*piVar7 + 8) = uVar2;
      uVar2 = GIF_SetTransparentIndex(unaff_ESI,8);
      *(uint *)(*piVar7 + 0xc) = uVar2;
      iVar4 = *piVar7;
      uVar2 = *(uint *)(iVar4 + 4);
      if (((0 < (int)uVar2) || (0 < *(int *)(iVar4 + 8))) ||
         (*(int *)(iVar1 + 0xc) <= *(int *)(iVar4 + 0xc))) goto LAB_004c68ed;
      local_8 = local_8 + 1;
      piVar7 = piVar7 + 1;
    } while (local_8 < *(int *)(iVar1 + 8));
  }
  uVar5 = GIF_SetTransparentIndex(unaff_ESI,1);
  uVar2 = extraout_EDX_04;
  if (uVar5 == 1) {
    return 0;
  }
LAB_004c68ed:
  CPU_ProcessData4(param_1,uVar2,(undefined4 *)param_1);
  return 0xffffff7b;
}


