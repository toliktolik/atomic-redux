/*
 * Function: Unwind@00517702
 * Address: 00517702
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


/* WARNING: Control flow encountered bad instruction data */
/* WARNING: Instruction at (ram,0x00517705) overlaps instruction at (ram,0x00517704)
    */
/* WARNING: Unable to track spacebase fully for stack */

void __fastcall Unwind_00517702(int param_1,undefined4 param_2)

{
  char *pcVar1;
  ushort *puVar2;
  byte *pbVar3;
  byte bVar4;
  code *pcVar7;
  byte bVar9;
  uint uVar8;
  undefined1 *in_EAX;
  undefined2 uVar10;
  int unaff_EBX;
  undefined1 *puVar11;
  byte *unaff_ESI;
  byte *unaff_EDI;
  char in_CF;
  bool bVar13;
  char in_AF;
  byte bVar5;
  byte bVar6;
  undefined4 *puVar12;
  
  while( true ) {
    *unaff_EDI = (byte)in_EAX;
    *(char *)(unaff_EBX + -0x23a10442) = (*(char *)(unaff_EBX + -0x23a10442) + -0x42) - in_CF;
    pcVar1 = (char *)(param_1 + -0x27);
    *pcVar1 = *pcVar1 << 1;
    in_CF = '\0';
    if (-1 < *pcVar1) break;
    unaff_ESI = (byte *)0x42dc5efb;
    in_EAX = (undefined1 *)register0x00000010;
    unaff_EDI = unaff_EDI + 1;
  }
  puVar11 = in_EAX + -4;
  *(int *)(in_EAX + -4) = unaff_EBX;
  bVar13 = *unaff_ESI < unaff_EDI[1];
  pbVar3 = unaff_EDI + 0x20d364fa;
  bVar4 = *pbVar3;
  bVar9 = (byte)((uint)&stack0x00000000 >> 8);
  bVar5 = *pbVar3;
  *pbVar3 = (bVar5 - bVar9) - bVar13;
  bVar6 = *pbVar3;
  if ((POPCOUNT(*pbVar3) & 1U) == 0) {
    do {
                    /* WARNING: Do nothing block with infinite loop */
    } while( true );
  }
  puVar2 = (ushort *)(param_1 + -0x3745d72);
  *puVar2 = *puVar2 + (ushort)(bVar4 < bVar9 || (byte)(bVar5 - bVar9) < bVar13) * -(*puVar2 & 3);
  uVar10 = (undefined2)CONCAT31((int3)((uint)param_2 >> 8),0x3b);
  if ((char)bVar6 < '\0') {
    uVar8 = CONCAT31((int3)((uint)&stack0x00000000 >> 8),in_AF * '\x06') & 0xffffff0f;
    uVar8 = CONCAT22((short)(uVar8 >> 0x10),CONCAT11(bVar9 + in_AF,(char)uVar8));
    unaff_ESI[0x2bfed7e4] = (unaff_ESI[0x2bfed7e4] - 0x3a) - in_AF;
    do {
      puVar12 = (undefined4 *)(puVar11 + -4);
      puVar11 = puVar11 + -4;
      *puVar12 = 0x5d;
      param_1 = param_1 + 1;
      uVar8 = uVar8 ^ 0x3825e75a;
    } while (*(byte *)(uVar8 + 0x88bfc2b5) <= (byte)((uint)param_1 >> 8));
    out(uVar10,(char)uVar8);
    pcVar7 = (code *)swi(3);
    (*pcVar7)();
    return;
  }
  unaff_ESI[0x5dedc0a8] = unaff_ESI[0x5dedc0a8] ^ (byte)((uint)param_1 >> 8);
  bVar4 = in(uVar10);
  unaff_EDI[2] = bVar4;
                    /* WARNING: Bad instruction - Truncating control flow here */
  halt_baddata();
}


