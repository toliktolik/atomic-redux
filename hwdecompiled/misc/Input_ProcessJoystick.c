/*
 * Function: Input_ProcessJoystick
 * Address: 004e9330
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


void __cdecl Input_ProcessJoystick(int param_1,int param_2,int param_3,int param_4,int param_5)

{
  int iVar1;
  undefined1 uVar2;
  int iVar3;
  int *piVar4;
  int iVar5;
  short *psVar6;
  int iVar7;
  undefined1 *puVar8;
  int local_48 [16];
  int local_8;
  
  piVar4 = *(int **)(param_2 + 0x50);
  iVar5 = *(int *)(param_1 + 0x120) + 0x80;
  psVar6 = (short *)(param_3 + 0x30);
  iVar1 = -(int)piVar4;
  iVar7 = (int)local_48 + iVar1;
  local_8 = iVar5;
  param_1 = 8;
  do {
    if (((param_1 != 6) && (param_1 != 4)) && (param_1 != 2)) {
      if (((psVar6[-0x10] == 0) && (*psVar6 == 0)) && ((psVar6[0x10] == 0 && (psVar6[0x20] == 0))))
      {
        iVar3 = (int)psVar6[-0x18] * *piVar4 * 4;
        *(int *)(iVar7 + (int)piVar4) = iVar3;
      }
      else {
        iVar3 = (int)psVar6[0x10] * piVar4[0x28] * 0x1b37 +
                (int)psVar6[0x20] * piVar4[0x38] * -0x1712 + piVar4[8] * (int)psVar6[-0x10] * 0x73fc
                + piVar4[0x18] * (int)*psVar6 * -0x28ba;
        iVar5 = (int)psVar6[-0x18] * *piVar4 * 0x8000;
        *(int *)(iVar7 + (int)piVar4) = iVar3 + 0x1000 + iVar5 >> 0xd;
        iVar3 = (iVar5 - iVar3) + 0x1000 >> 0xd;
        iVar5 = local_8;
      }
      *(int *)((int)local_48 + iVar1 + 0x20 + (int)piVar4) = iVar3;
    }
    psVar6 = psVar6 + 1;
    piVar4 = piVar4 + 1;
    param_1 = param_1 + -1;
  } while (0 < param_1);
  piVar4 = local_48;
  param_1 = 0;
  do {
    puVar8 = (undefined1 *)(*(int *)(param_4 + param_1 * 4) + param_5);
    if (((piVar4[1] == 0) && (piVar4[3] == 0)) && ((piVar4[5] == 0 && (piVar4[7] == 0)))) {
      uVar2 = *(undefined1 *)((*piVar4 + 0x10 >> 5 & 0x3ffU) + iVar5);
      *puVar8 = uVar2;
    }
    else {
      iVar1 = *piVar4;
      iVar5 = piVar4[5] * 0x1b37 + piVar4[3] * -0x28ba + piVar4[7] * -0x1712 + piVar4[1] * 0x73fc;
      *puVar8 = *(undefined1 *)((iVar5 + 0x80000 + iVar1 * 0x8000 >> 0x14 & 0x3ffU) + local_8);
      uVar2 = *(undefined1 *)(((iVar1 * 0x8000 - iVar5) + 0x80000 >> 0x14 & 0x3ffU) + local_8);
      iVar5 = local_8;
    }
    piVar4 = piVar4 + 8;
    param_1 = param_1 + 1;
    puVar8[1] = uVar2;
  } while (param_1 < 2);
  return;
}


