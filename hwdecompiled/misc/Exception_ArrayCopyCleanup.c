/*
 * Function: Exception_ArrayCopyCleanup
 * Address: 004084d7
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


int * __fastcall Exception_ArrayCopyCleanup(int param_1,uint param_2)

{
  int iVar1;
  int unaff_EBP;
  int *unaff_ESI;
  int iVar2;
  
  iVar2 = *(int *)(unaff_EBP + -0x14);
  if (iVar2 != *(int *)(unaff_EBP + 0x10)) {
    unaff_ESI = (int *)(iVar2 + 0x1c);
    do {
      if (*unaff_ESI != 0) {
                    /* WARNING: Subroutine does not return */
        System_ShutdownHandler(param_1,param_2);
      }
      *unaff_ESI = 0;
      unaff_ESI[1] = 0;
      unaff_ESI[2] = 0;
      if (unaff_ESI[-4] != 0) {
                    /* WARNING: Subroutine does not return */
        System_ShutdownHandler(param_1,param_2);
      }
      iVar1 = *(int *)(unaff_EBP + 0x10);
      unaff_ESI[-4] = 0;
      unaff_ESI[-3] = 0;
      unaff_ESI[-2] = 0;
      iVar2 = iVar2 + 0x28;
      unaff_ESI = unaff_ESI + 10;
    } while (iVar2 != iVar1);
  }
  CRuntime_CxxThrowException(0,0);
  ExceptionList = *(void **)(unaff_EBP + -0xc);
  return unaff_ESI;
}


