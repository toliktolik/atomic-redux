/*
 * Function: String_ToUpperCase
 * Address: 00499320
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

uint __thiscall String_ToUpperCase(void *this,undefined4 param_1,double *param_2)

{
  char cVar1;
  char cVar2;
  double dVar3;
  double **ppdVar4;
  uint uVar5;
  double **ppdVar6;
  uint in_stack_00000018;
  uint in_stack_0000001c;
  double **in_stack_00000020;
  
  ppdVar4 = in_stack_00000020;
  *in_stack_00000020 = (double *)0x0;
  in_stack_00000020[1] = (double *)0x0;
  if (in_stack_00000018 == 0) {
    if (in_stack_0000001c < 0x10) {
      return 0;
    }
                    /* WARNING: Subroutine does not return */
    System_ShutdownHandler((int)this,(uint)in_stack_00000020);
  }
  ppdVar6 = (double **)param_2;
  if (in_stack_0000001c < 0x10) {
    ppdVar6 = &param_2;
  }
  cVar2 = *(char *)ppdVar6;
  uVar5 = (uint)(cVar2 == '-');
  do {
    dVar3 = _DAT_0052c5a0;
    if (in_stack_00000018 <= uVar5) {
joined_r0x004993b5:
      while( true ) {
        if (in_stack_00000018 <= uVar5) {
          if (cVar2 == '-') {
            *(double *)ppdVar4 = -*(double *)ppdVar4;
          }
          if (in_stack_0000001c < 0x10) {
            return CONCAT31((int3)(uVar5 >> 8),1);
          }
                    /* WARNING: Subroutine does not return */
          System_ShutdownHandler((int)ppdVar6,(uint)ppdVar4);
        }
        ppdVar6 = (double **)param_2;
        if (in_stack_0000001c < 0x10) {
          ppdVar6 = &param_2;
        }
        cVar1 = *(char *)((int)ppdVar6 + uVar5);
        ppdVar6 = (double **)CONCAT31((int3)((uint)ppdVar6 >> 8),cVar1);
        if ((cVar1 < '0') || ('9' < cVar1)) break;
        ppdVar6 = (double **)(cVar1 + -0x30);
        in_stack_00000020 = ppdVar6;
        uVar5 = uVar5 + 1;
        *(double *)ppdVar4 = (double)(int)ppdVar6 * dVar3 + *(double *)ppdVar4;
        dVar3 = dVar3 * _DAT_0052c5a0;
      }
LAB_00499412:
      *ppdVar4 = (double *)0x0;
      ppdVar4[1] = (double *)0x0;
      if (in_stack_0000001c < 0x10) {
        return uVar5 & 0xffffff00;
      }
                    /* WARNING: Subroutine does not return */
      System_ShutdownHandler((int)ppdVar6,(uint)param_2);
    }
    ppdVar6 = (double **)param_2;
    if (in_stack_0000001c < 0x10) {
      ppdVar6 = &param_2;
    }
    cVar1 = *(char *)((int)ppdVar6 + uVar5);
    ppdVar6 = (double **)CONCAT31((int3)((uint)ppdVar6 >> 8),cVar1);
    if ((cVar1 < '0') || ('9' < cVar1)) {
      if (cVar1 != '.') goto LAB_00499412;
      uVar5 = uVar5 + 1;
      goto joined_r0x004993b5;
    }
    ppdVar6 = (double **)(cVar1 + -0x30);
    in_stack_00000020 = ppdVar6;
    uVar5 = uVar5 + 1;
    *(double *)ppdVar4 = *(double *)ppdVar4 * _DAT_0052c568 + (double)(int)ppdVar6;
  } while( true );
}


