/*
 * Function: Unwind@00517452
 * Address: 00517452
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


/* WARNING: Unable to track spacebase fully for stack */

void __fastcall Unwind_00517452(uint param_1,undefined4 param_2)

{
  byte bVar1;
  char cVar2;
  undefined6 uVar3;
  byte bVar4;
  byte bVar5;
  undefined4 uVar6;
  uint uVar7;
  byte *pbVar8;
  undefined4 unaff_EBX;
  uint uVar9;
  undefined4 *puVar10;
  undefined4 *unaff_EBP;
  undefined4 *unaff_ESI;
  int unaff_EDI;
  undefined2 in_ES;
  byte in_AF;
  undefined1 auStack_4 [4];
  
  uVar6 = in((short)param_2);
  uVar9 = (uint)auStack_4 | param_1;
  out((short)param_2,CONCAT31((int3)((uint)uVar6 >> 8),DAT_7d2d82f6));
  pbVar8 = (byte *)CONCAT31((int3)((uint)param_2 >> 8),(byte)param_2 + (char)((uint)uVar6 >> 8));
  out(*unaff_ESI,(short)pbVar8);
  uVar7 = in(0xab);
  *(char *)(unaff_EDI + 0x62d1f761) = *(char *)(unaff_EDI + 0x62d1f761) + '\x1c';
  bVar4 = *(byte *)(CONCAT22((short)((uint)unaff_EBX >> 0x10),
                             CONCAT11((byte)((uint)unaff_EBX >> 8) ^ (byte)param_2,(char)unaff_EBX))
                   + (uVar7 & 0xff));
  *pbVar8 = *pbVar8 & bVar4;
  *(uint *)(pbVar8 + 0x4062fb58) =
       *(uint *)(pbVar8 + 0x4062fb58) | CONCAT31((int3)(uVar7 >> 8),bVar4);
  puVar10 = (undefined4 *)(uVar9 - 4);
  *(undefined4 **)(uVar9 - 4) = unaff_EBP;
  cVar2 = '\x10';
  do {
    unaff_EBP = unaff_EBP + -1;
    puVar10 = puVar10 + -1;
    *puVar10 = *unaff_EBP;
    cVar2 = cVar2 + -1;
  } while ('\0' < cVar2);
  *(uint *)(uVar9 - 0x48) = uVar9 - 4;
  bVar4 = bVar4 & 7;
  *(undefined2 *)(uVar9 - 0x5046) = in_ES;
  uVar3 = *(undefined6 *)(unaff_EDI + 0x4b);
  bVar1 = 9 < bVar4 | in_AF;
  bVar5 = bVar4 + bVar1 * '\x06';
  if (param_1 == 1 || bVar4 != 0) {
    *(byte *)(unaff_EDI + 1) = bVar5 + (0x90 < (bVar5 & 0xf0) | bVar1 * (0xf9 < bVar5)) * '`';
  }
  uVar7 = CONCAT31((int3)((uint6)uVar3 >> 8),(char)uVar3 + (char)((uint6)uVar3 >> 8));
  out(**(undefined4 **)(uVar9 - 0x5046),(short)uVar7);
  *(uint *)(param_1 + uVar9 + 0x615404e0) = *(uint *)(param_1 + uVar9 + 0x615404e0) ^ uVar7;
  do {
                    /* WARNING: Do nothing block with infinite loop */
  } while( true );
}


