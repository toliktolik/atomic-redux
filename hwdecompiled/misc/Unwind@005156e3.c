/*
 * Function: Unwind@005156e3
 * Address: 005156e3
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


/* WARNING: Instruction at (ram,0x005156fd) overlaps instruction at (ram,0x005156fc)
    */
/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void __fastcall
Unwind_005156e3(uint param_1,int param_2,int param_3,int param_4,undefined4 param_5,int param_6,
               undefined4 param_7,uint param_8,undefined4 param_9)

{
  char *pcVar1;
  char cVar2;
  undefined2 *puVar3;
  int iVar4;
  bool bVar5;
  code *pcVar6;
  byte bVar7;
  int3 iVar8;
  undefined1 uVar9;
  int in_EAX;
  uint uVar10;
  undefined4 uVar11;
  uint extraout_ECX;
  short sVar12;
  int unaff_EBX;
  undefined4 *unaff_ESI;
  uint *puVar13;
  undefined1 *unaff_EDI;
  undefined2 in_SS;
  byte in_AF;
  float10 in_ST0;
  undefined8 uVar14;
  uint *unaff_retaddr;
  uint uStack_4;
  
  do {
    *unaff_EDI = (char)in_EAX;
    *(uint *)(unaff_EDI + -0x22) = *(uint *)(unaff_EDI + -0x22) & 0x3ab62884;
    iVar4 = in_EAX + *(int *)((int)unaff_ESI + unaff_EBX * 8 + -0x54e23639);
    out(*unaff_ESI,(short)param_2);
    _DAT_79eee2f0 = iVar4;
    *(char *)((int)(unaff_ESI + 1) + iVar4) = (char)((uint)iVar4 >> 8);
    sVar12 = (short)(iVar4 >> 0x1f);
    uVar10 = in(sVar12);
    puVar13 = (uint *)((uint)(unaff_ESI + 1) | *(uint *)(uVar10 + 0x6a0f12c1));
    puVar3 = (undefined2 *)segment(in_SS,(short)&uStack_4 + -2);
    *puVar3 = in_SS;
    *(int *)((uVar10 | 0x45) + 0x16f6dbc2) = (int)ROUND(in_ST0);
    out(0x42,(uVar10 | 0x45) + 0x13c0cd38);
    uVar9 = in(sVar12);
    *(undefined1 *)((uint)(unaff_EDI + 1) ^ param_1) = uVar9;
    in_SS = SUB42(unaff_retaddr,0);
    *puVar13 = *puVar13 & 0x74;
    unaff_retaddr = puVar13 + 1;
    uVar14 = CONCAT44(CONCAT31((int3)((uint)param_7 >> 8),(char)param_7 << 1 | (char)param_7 < '\0')
                      ,param_9);
    unaff_ESI = (undefined4 *)(param_3 + 1);
    pcVar6 = (code *)swi(4);
    uVar10 = param_8;
    if (SCARRY4(param_3,1)) {
      uStack_4 = param_1;
      uVar14 = (*pcVar6)();
      uVar10 = extraout_ECX;
    }
    param_1 = uVar10;
    pcVar1 = (char *)(param_1 + 0x628fbf8c);
    cVar2 = *pcVar1;
    *pcVar1 = *pcVar1 << 5;
    bVar5 = (char)(cVar2 << 4) < '\0';
    in_ST0 = (float10)*(longlong *)((int)puVar13 + 0xbe3150e);
    if (bVar5 || &stack0x00000000 == (undefined1 *)0xffffffe1) {
      uVar11 = in(0xde);
      bVar7 = in_AF << 4;
      iVar8 = (int3)((uint)uVar11 >> 8);
      param_1 = (CONCAT22((short)(param_1 >> 0x10),
                          CONCAT11((char)(param_1 >> 8) + '\x01',(char)param_1)) -
                *(int *)(param_3 + 99 + param_4)) - (uint)bVar5;
      in_AF = 9 < ((byte)uVar11 & 0xf) | in_AF;
      uVar10 = CONCAT31(iVar8,(byte)uVar11 + in_AF * '\x06') & 0xffff000f;
      *(byte *)(unaff_retaddr + param_6 * 2) = (byte)unaff_retaddr[param_6 * 2] & 0xaf;
      uVar14 = CONCAT44(CONCAT31(iVar8 >> 0x17,(byte)((int)uVar11 >> 0x1f) | DAT_e9760be3),
                        CONCAT22((short)(uVar10 >> 0x10),
                                 CONCAT11((((int)&param_9 + 3 < 0) << 7 |
                                           (&stack0x00000000 == (undefined1 *)0xffffffe1) << 6 |
                                           bVar7 | ((POPCOUNT((int)&param_9 + 3U & 0xff) & 1U) == 0)
                                                   << 2 | 2 | bVar5) + in_AF,(char)uVar10)));
    }
    unaff_EDI = (undefined1 *)uVar14;
    *(int *)(unaff_EDI + -6) = *(int *)(unaff_EDI + -6) - (int)unaff_EDI;
    param_8._3_1_ = (undefined1)param_4;
    param_9._0_3_ = (undefined3)((uint)param_4 >> 8);
    param_2 = (int)((ulonglong)uVar14 >> 0x20) + 1;
    *(char *)unaff_retaddr = (char)*unaff_retaddr - (char)((uint)unaff_retaddr >> 8);
    uVar9 = in((short)param_2);
    in_EAX = CONCAT31((int3)((uint)unaff_retaddr >> 8),uVar9);
    unaff_EBX = param_6;
  } while ((POPCOUNT(DAT_5a6d5cc5 & 0xfa) & 1U) == 0);
  return;
}


