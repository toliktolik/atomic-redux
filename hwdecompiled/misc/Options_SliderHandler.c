/*
 * Function: Options_SliderHandler
 * Address: 0042ade0
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


void __thiscall Options_SliderHandler(void *this,undefined4 param_1,char param_2)

{
  ushort *puVar1;
  int iVar2;
  void *pvVar3;
  undefined4 *puVar4;
  undefined4 uVar5;
  uint uVar6;
  uint extraout_EDX;
  uint extraout_EDX_00;
  uint extraout_EDX_01;
  uint extraout_EDX_02;
  uint extraout_EDX_03;
  uint extraout_EDX_04;
  uint extraout_EDX_05;
  uint extraout_EDX_06;
  uint extraout_EDX_07;
  uint extraout_EDX_08;
  uint extraout_EDX_09;
  uint extraout_EDX_10;
  byte bVar7;
  undefined1 local_f4 [28];
  _String_base local_d8 [28];
  _String_base local_bc [28];
  _String_base local_a0 [28];
  undefined1 local_84 [28];
  undefined1 local_68 [28];
  _String_base local_4c [28];
  undefined1 local_30 [28];
  undefined4 local_14;
  void *local_10;
  undefined4 uStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  uStack_c = 0x5118d2;
  local_10 = ExceptionList;
  bVar7 = 0;
  local_14 = 0;
  if (param_2 == '\0') {
    ExceptionList = &local_10;
    (**(code **)(**(int **)((int)this + 8) + 0xb8))(0x12,0);
  }
  else {
    ExceptionList = &local_10;
    (**(code **)(**(int **)((int)this + 8) + 0xb8))(0x11);
  }
  switch(param_1) {
  case 0x10:
    if ((param_2 == '\0') && (*(char *)(*(int *)((int)this + 8) + 0x301) != '\0')) {
      pvVar3 = operator_new(0x11c);
      local_8 = 0;
      if (pvVar3 == (void *)0x0) {
        puVar4 = (undefined4 *)0x0;
        uVar6 = extraout_EDX;
      }
      else {
        Level_InitializeDictastroika
                  (local_68,
                   "Windowed mode is only available if your desktop is running in either 16 bit or 32 bit color mode, which it is not."
                  );
        local_8 = CONCAT31(local_8._1_3_,1);
        local_14 = 1;
        Level_InitializeDictastroika(local_a0,"INVALID MODE");
        bVar7 = 3;
        local_8 = 2;
        local_14 = 3;
        puVar4 = ParticleSystem_Constructor
                           (pvVar3,*(int *)((int)this + 8),400,0xf0,local_a0,(uint)local_68);
        uVar6 = extraout_EDX_00;
      }
      if ((bVar7 & 2) != 0) {
        bVar7 = bVar7 & 0xfd;
        String_Destructor((int)local_a0,uVar6);
        uVar6 = extraout_EDX_01;
      }
      local_8 = 0xffffffff;
      if ((bVar7 & 1) != 0) {
        String_Destructor((int)local_68,uVar6);
      }
      (**(code **)(**(int **)((int)this + 8) + 0x100))(0x1f,puVar4);
      *(undefined1 *)(*(int *)((int)this + 0x18) + 0x60) = 1;
      ExceptionList = local_10;
      return;
    }
    break;
  case 0x11:
    if (param_2 == '\0') {
      uVar5 = Compression_ValidateHeader(*(int *)((int)this + 8));
      if ((char)uVar5 == '\0') {
        *(undefined1 *)(*(int *)((int)this + 0x1c) + 0x60) = 0;
        ExceptionList = local_10;
        return;
      }
      pvVar3 = operator_new(0x124);
      local_8 = 0xf;
      if (pvVar3 == (void *)0x0) {
        puVar4 = (undefined4 *)0x0;
        uVar6 = extraout_EDX_08;
      }
      else {
        Level_InitializeDictastroika
                  (local_f4,
                   "Disabling Hardware Acceleration is not recommended and may decrease performance.\n\nDisable it anyway?"
                  );
        local_8 = CONCAT31(local_8._1_3_,0x10);
        local_14 = 0x40;
        Level_InitializeDictastroika(local_bc,"DISABLE ACCELERATION");
        bVar7 = 0xc0;
        local_8 = 0x11;
        local_14 = 0xc0;
        if (this == (void *)0x118) {
          uVar6 = 0;
        }
        else {
          uVar6 = (int)this - 0xc0;
        }
        puVar4 = Dialog_YesNoConstructor
                           (pvVar3,*(int *)((int)this + 8),uVar6,local_bc,(uint)local_f4,0x1a4,0xe6,
                            0x22,0x21);
        uVar6 = extraout_EDX_09;
      }
      if ((char)bVar7 < '\0') {
        bVar7 = bVar7 & 0x7f;
        String_Destructor((int)local_bc,uVar6);
        uVar6 = extraout_EDX_10;
      }
      local_8 = 0xffffffff;
      if ((bVar7 & 0x40) != 0) {
        String_Destructor((int)local_f4,uVar6);
      }
      (**(code **)(**(int **)((int)this + 8) + 0x100))(0x20,puVar4);
      ExceptionList = local_10;
      return;
    }
    iVar2 = Compression_GetDecompressedSize(*(int *)((int)this + 8));
    if ((char)iVar2 != '\0') {
      uVar5 = Compression_ValidateHeader(*(int *)((int)this + 8));
      if ((char)uVar5 != '\0') {
        *(undefined1 *)(*(int *)((int)this + 0x1c) + 0x60) = 1;
        ExceptionList = local_10;
        return;
      }
      pvVar3 = operator_new(0x124);
      local_8 = 10;
      if (pvVar3 == (void *)0x0) {
        puVar4 = (undefined4 *)0x0;
        uVar6 = extraout_EDX_05;
      }
      else {
        Level_InitializeDictastroika
                  (local_84,
                   "Your video card may not fully support this feature.  If you experience slower performance, please disable Hardware Acceleration.\n\nAre you sure you want to enable hardware acceleration?"
                  );
        local_8 = CONCAT31(local_8._1_3_,0xb);
        local_14 = 0x10;
        Level_InitializeDictastroika(local_4c,"WARNING");
        bVar7 = 0x30;
        local_8 = 0xc;
        local_14 = 0x30;
        if (this == (void *)0x118) {
          uVar6 = 0;
        }
        else {
          uVar6 = (int)this - 0xc0;
        }
        puVar4 = Dialog_YesNoConstructor
                           (pvVar3,*(int *)((int)this + 8),uVar6,local_4c,(uint)local_84,400,300,0,0
                           );
        uVar6 = extraout_EDX_06;
      }
      if ((bVar7 & 0x20) != 0) {
        bVar7 = bVar7 & 0xdf;
        String_Destructor((int)local_4c,uVar6);
        uVar6 = extraout_EDX_07;
      }
      local_8 = 0xffffffff;
      if ((bVar7 & 0x10) != 0) {
        String_Destructor((int)local_84,uVar6);
      }
      (**(code **)(**(int **)((int)this + 8) + 0x100))(0x20,puVar4);
      ExceptionList = local_10;
      return;
    }
    pvVar3 = operator_new(0x11c);
    local_8 = 5;
    if (pvVar3 == (void *)0x0) {
      puVar4 = (undefined4 *)0x0;
      uVar6 = extraout_EDX_02;
    }
    else {
      Level_InitializeDictastroika
                (local_30,
                 "Hardware acceleration cannot be enabled on this computer.\n\nYour video card does not meet the minimum requirements for this game."
                );
      local_8 = CONCAT31(local_8._1_3_,6);
      local_14 = 4;
      Level_InitializeDictastroika(local_d8,"NOT SUPPORTED");
      bVar7 = 0xc;
      local_8 = 7;
      local_14 = 0xc;
      puVar4 = ParticleSystem_Constructor
                         (pvVar3,*(int *)((int)this + 8),0x15e,0x104,local_d8,(uint)local_30);
      uVar6 = extraout_EDX_03;
    }
    if ((bVar7 & 8) != 0) {
      bVar7 = bVar7 & 0xf7;
      String_Destructor((int)local_d8,uVar6);
      uVar6 = extraout_EDX_04;
    }
    local_8 = 0xffffffff;
    if ((bVar7 & 4) != 0) {
      String_Destructor((int)local_30,uVar6);
    }
    (**(code **)(**(int **)((int)this + 8) + 0x100))(0x1f,puVar4);
    (**(code **)(**(int **)((int)this + 0x1c) + 0xc0))(0,0);
    ExceptionList = local_10;
    return;
  case 0x12:
    Threading_DestroySemaphore
              (*(void **)((int)this + 8),*(char *)((int)*(void **)((int)this + 8) + 0x484) == '\0');
    System_GetSystemTime
              (*(void **)((int)this + 8),0,
               *(int *)(*(int *)((int)*(void **)((int)this + 8) + 0x6ac) + 8));
    ExceptionList = local_10;
    return;
  case 0x13:
    puVar1 = (ushort *)
             (*(int *)(*(int *)((int)this + 8) + 0xb40) * 0x60 + 0x42 +
             *(int *)(*(int *)((int)this + 8) + 0x148c));
    *puVar1 = *puVar1 ^ 2;
    *(undefined2 *)(*(int *)((int)this + 8) + 0xb3e) = 0;
    iVar2 = *(int *)(*(int *)((int)this + 8) + 0x920);
    if (iVar2 != 0) {
      *(undefined4 *)(iVar2 + 0x1d4) = 0;
      *(undefined4 *)(*(int *)(*(int *)((int)this + 8) + 0x920) + 0x1d8) = 0;
      ExceptionList = local_10;
      return;
    }
    break;
  case 0x14:
    *(char *)(*(int *)((int)this + 8) + 0xb3c) = param_2;
  }
  ExceptionList = local_10;
  return;
}


