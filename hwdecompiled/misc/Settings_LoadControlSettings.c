/*
 * Function: Settings_LoadControlSettings
 * Address: 00436110
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void __fastcall Settings_LoadControlSettings(int param_1)

{
  double dVar1;
  double dVar2;
  double dVar3;
  double dVar4;
  uint *puVar5;
  uint uVar6;
  int iVar7;
  uint extraout_ECX;
  uint *extraout_EDX;
  double *pdVar8;
  float10 fVar9;
  float10 extraout_ST1;
  float10 fVar10;
  float10 fVar11;
  ulonglong uVar12;
  undefined4 uVar13;
  undefined4 uVar14;
  undefined4 uVar15;
  undefined4 uVar16;
  
  Boss_ProcessWreckerWarWrecker(param_1);
  if (0 < *(int *)(param_1 + 0x78)) {
    *(undefined4 *)(*(int *)(param_1 + 0x4c) + 0x1e8) =
         *(undefined4 *)(*(int *)(param_1 + 0x4c) + 0x1e4);
    while( true ) {
      puVar5 = *(uint **)(*(int *)(param_1 + 0x4c) + 0x1e8);
      uVar6 = puVar5[1];
      if (uVar6 == 0) break;
      *(uint *)(*(int *)(param_1 + 0x4c) + 0x1e8) = uVar6;
      if (*(int *)(*(int *)(param_1 + 0x4c) + 0x1f0) == 0) {
        pdVar8 = (double *)0x0;
      }
      else {
        pdVar8 = (double *)**(undefined4 **)(*(int *)(param_1 + 0x4c) + 0x1e8);
      }
      if (*(char *)(pdVar8 + 6) == '\0') {
        dVar1 = pdVar8[1];
        dVar2 = *(double *)(param_1 + 0x10);
        dVar3 = *pdVar8;
        dVar4 = *(double *)(param_1 + 8);
        Math_ProcessFloatPrecision(uVar6,puVar5);
        fVar9 = (float10)Math_ProcessFloatPrecision(extraout_ECX,extraout_EDX);
        if (SQRT(fVar9 + extraout_ST1) < (float10)_DAT_00530260 !=
            (SQRT(fVar9 + extraout_ST1) == (float10)_DAT_00530260)) {
          fVar10 = (float10)fpatan((float10)(dVar3 - dVar4),(float10)(dVar1 - dVar2));
          *(undefined1 *)(pdVar8 + 6) = 1;
          fVar9 = (float10)fcos(-fVar10 - (float10)_DAT_0052c530);
          fVar10 = (float10)fsin(-fVar10 - (float10)_DAT_0052c530);
          fVar11 = (float10)(double)fVar10 * (float10)pdVar8[3] + fVar9 * (float10)pdVar8[2];
          pdVar8[2] = (double)((float10)pdVar8[2] - fVar11 * fVar9 * (float10)_DAT_0052c620);
          pdVar8[3] = pdVar8[3] - (double)fVar11 * (double)fVar10 * _DAT_0052c620;
          uVar14 = *(undefined4 *)(*(int *)(param_1 + 0x50) + 0x71c);
          *(undefined4 *)(pdVar8 + 7) = 0;
          *(undefined4 *)((int)pdVar8 + 0x34) = uVar14;
          *(undefined4 *)((int)pdVar8 + 0x3c) = 0;
          *(undefined4 *)(param_1 + 0x74) = 0xff;
          uVar12 = Math_FloatToUInt64();
          *(int *)(param_1 + 0x78) = (int)uVar12;
          iVar7 = **(int **)(param_1 + 0x50);
          uVar12 = Math_FloatToUInt64();
          (**(code **)(iVar7 + 0xb8))(0x53,(int)uVar12);
          GameObject_Create8Parameters
                    (*(void **)(param_1 + 0x4c),*(undefined4 *)pdVar8,
                     *(undefined4 *)((int)pdVar8 + 4),*(undefined4 *)(pdVar8 + 1),
                     *(undefined4 *)((int)pdVar8 + 0xc),0,0,0,0);
        }
      }
    }
  }
  if (0 < *(int *)(param_1 + 0x70)) {
    *(int *)(param_1 + 0x70) = *(int *)(param_1 + 0x70) + -1;
  }
  if (*(int *)(param_1 + 0x74) != 0) {
    *(int *)(param_1 + 0x74) = *(int *)(param_1 + 0x74) + -8;
  }
  if (*(int *)(param_1 + 0x74) < 0) {
    *(undefined4 *)(param_1 + 0x74) = 0;
  }
  if ((((_DAT_005301f8 < *(double *)(param_1 + 8)) &&
       (*(double *)(param_1 + 8) < _DAT_005301f0 !=
        (NAN(*(double *)(param_1 + 8)) || NAN(_DAT_005301f0)))) &&
      (*(int *)(*(int *)(param_1 + 0x4c) + 0x80) == 0)) &&
     ((iVar7 = Collision_HandleEnemyHit(), iVar7 % 0x28 == 0 && (*(int *)(param_1 + 0x70) == 0)))) {
    uVar14 = *(undefined4 *)(param_1 + 0x1c);
    uVar13 = *(undefined4 *)(param_1 + 0x18);
    uVar16 = 0;
    uVar15 = 0;
    uVar12 = Math_FloatToUInt64();
    iVar7 = (int)uVar12;
    uVar12 = Math_FloatToUInt64();
    SexyAppFramework_UpdateFrametime
              (*(void **)(param_1 + 0x4c),(int)uVar12,iVar7,uVar13,uVar14,uVar15,uVar16);
    *(undefined4 *)(param_1 + 0x70) = 0x4b;
  }
  iVar7 = Boss_ProcessApeKommieKong(param_1);
  if ((*(double *)(param_1 + 8) < (double)(-0x140 - iVar7 / 2)) ||
     (iVar7 = Boss_ProcessApeKommieKong(param_1), dVar1 = (double)(iVar7 / 2 + 0x140),
     dVar1 < *(double *)(param_1 + 8) != (NAN(dVar1) || NAN(*(double *)(param_1 + 8))))) {
    Boss_BattleshipCannonSystem(param_1);
  }
  return;
}


