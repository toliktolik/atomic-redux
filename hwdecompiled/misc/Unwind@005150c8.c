/*
 * Function: Unwind@005150c8
 * Address: 005150c8
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


/* WARNING: Control flow encountered bad instruction data */
/* WARNING: Unable to track spacebase fully for stack */
/* WARNING: Removing unreachable block (ram,0x00515104) */
/* WARNING: Removing unreachable block (ram,0x0051510e) */
/* WARNING: Removing unreachable block (ram,0x00515195) */
/* WARNING: Removing unreachable block (ram,0x0051511f) */
/* WARNING: Removing unreachable block (ram,0x0051512d) */
/* WARNING: Removing unreachable block (ram,0x00515155) */

void __fastcall Unwind_005150c8(undefined4 param_1,undefined4 param_2)

{
  undefined4 uVar1;
  undefined1 uVar2;
  byte bVar3;
  int extraout_ECX;
  int iVar4;
  undefined4 extraout_EDX;
  undefined4 *unaff_EBX;
  undefined4 *puVar5;
  int iVar6;
  undefined4 unaff_EBP;
  undefined4 uVar7;
  undefined2 in_ES;
  undefined2 in_SS;
  char cVar8;
  undefined8 in_MM6;
  undefined4 uStack_c;
  undefined4 uStack_8;
  undefined4 uStack_4;
  
  do {
    uVar7 = unaff_EBP;
    puVar5 = unaff_EBX;
    cVar8 = '\x01';
    in(0x3b);
    uStack_4 = CONCAT22((short)((uint)puVar5 >> 0x10),in_SS);
    uVar1 = in((short)param_2);
    *puVar5 = uVar1;
    uStack_8 = 0x5150d4;
    uVar2 = func_0x4d7a6705();
    unaff_EBX = (undefined4 *)((int)puVar5 + 1);
    out(0x14,uVar2);
    param_2 = extraout_EDX;
    unaff_EBP = uStack_4;
  } while ((POPCOUNT((uint)unaff_EBX & 0xff) & 1U) == 0);
  iVar6 = CONCAT22((short)((uint)&uStack_8 >> 0x10),in_ES);
  iVar4 = (CONCAT31((int3)((uint)extraout_ECX >> 8),
                    ((char)extraout_ECX - *(char *)(extraout_ECX + 0x16)) - cVar8) + 1) * 2;
  bVar3 = (byte)iVar4;
  paddsw(in_MM6,*(undefined8 *)((int)puVar5 + 0x1abc3d7e));
  *(undefined4 *)(iVar6 + -4) = 0xe40a6917;
  *(uint *)(iVar6 + -8) =
       CONCAT31((int3)((uint)iVar4 >> 8),bVar3 >> (bVar3 & 7) | bVar3 << 8 - (bVar3 & 7));
  *(undefined4 *)(iVar6 + -0xc) = extraout_EDX;
  *(uint *)(iVar6 + -0x10) =
       CONCAT22((short)((uint)unaff_EBX >> 0x10),
                CONCAT11((char)((uint)unaff_EBX >> 8) + (char)unaff_EBX,(char)unaff_EBX));
  *(int *)(iVar6 + -0x14) = iVar6;
  *(undefined4 *)(iVar6 + -0x18) = uVar7;
  *(undefined4 *)(iVar6 + -0x1c) = uStack_c;
  *(undefined4 **)(iVar6 + -0x20) = puVar5 + 1;
  do {
  } while( true );
}


