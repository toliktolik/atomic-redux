/*
 * Function: IOStream_RefCountDestructor
 * Address: 004ebedd
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


void __fastcall IOStream_RefCountDestructor(ios_base *param_1)

{
  int extraout_ECX;
  uint extraout_EDX;
  
  *(undefined ***)param_1 = &PTR_SexyWidget_RenderGraphics_005312a4;
  if ((*(int *)(param_1 + 0x24) == 0) ||
     ((&DAT_005a486c)[*(int *)(param_1 + 0x24)] = (&DAT_005a486c)[*(int *)(param_1 + 0x24)] + -1,
     (char)(&DAT_005a486c)[*(int *)(param_1 + 0x24)] < '\x01')) {
    IOStream_CallbacksAndCleanup(param_1);
    if (*(uint **)(param_1 + 0x20) != (uint *)0x0) {
      SmartPointer_Destructor(*(uint **)(param_1 + 0x20));
                    /* WARNING: Subroutine does not return */
      System_ShutdownHandler(extraout_ECX,extraout_EDX);
    }
  }
  return;
}


