/*
 * Function: Windows_InvalidateRect
 * Address: 004fe7cf
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


/* WARNING: Control flow encountered bad instruction data */
/* WARNING: Instruction at (ram,0x004fe902) overlaps instruction at (ram,0x004fe901)
    */
/* WARNING: Removing unreachable block (ram,0x004fe7e5) */
/* WARNING: Removing unreachable block (ram,0x004fe816) */
/* WARNING: Removing unreachable block (ram,0x004fe82a) */
/* WARNING: Removing unreachable block (ram,0x004fe84e) */
/* WARNING: Removing unreachable block (ram,0x004fe84f) */
/* WARNING: Removing unreachable block (ram,0x004fe862) */
/* WARNING: Removing unreachable block (ram,0x004fe7f6) */
/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

float10 __fastcall Windows_InvalidateRect(int *param_1,uint *param_2,int param_3)

{
  int *piVar1;
  char cVar2;
  byte bVar3;
  undefined1 *puVar4;
  ulonglong uVar5;
  ulonglong uVar6;
  uint uVar7;
  undefined1 uVar8;
  undefined1 uVar9;
  byte bVar12;
  uint in_EAX;
  uint uVar10;
  undefined2 uVar13;
  byte *pbVar11;
  uint *puVar14;
  uint *extraout_ECX;
  char cVar15;
  undefined4 extraout_EDX;
  uint uVar16;
  uint unaff_EBX;
  int iVar17;
  undefined4 *unaff_ESI;
  uint *unaff_EDI;
  uint *puVar18;
  uint *puVar19;
  undefined2 in_CS;
  byte in_AF;
  undefined2 in_FPUControlWord;
  float10 fVar20;
  uint *unaff_retaddr;
  
  piVar1 = (int *)((int)param_1 + 0x5b881e22);
  *piVar1 = (int)(&stack0x00000000 + *piVar1);
  if (-1 < *piVar1) {
    if (-1 < *piVar1) {
      *unaff_EDI = in_EAX & 0xffffff99;
      puVar18 = (uint *)&DAT_fb342a2e;
      swi(4);
      *(char *)((int)unaff_retaddr + -0x7f) =
           *(char *)((int)unaff_retaddr + -0x7f) - (char)(unaff_EBX >> 8);
      puVar4 = (undefined1 *)*unaff_retaddr;
      LOCK();
      iVar17 = *param_1;
      *param_1 = param_3;
      UNLOCK();
      piVar1 = (int *)(iVar17 + 0x382ead37);
      *piVar1 = *piVar1 + iVar17 + (uint)(&stack0x00000008 < puVar4);
      iVar17 = *(int *)((int)param_1 + -0x73) * -0x70;
      uVar10 = (in_EAX & 0xffffff99) + 1 ^ 0x37883ecf;
code_r0x004fe87b:
      uVar8 = DAT_c019eca4;
      uVar5 = CONCAT44(uVar10 + 0x7240e385,uVar10);
      uVar6 = uVar5 / uRam37883ecf;
      uVar5 = uVar5 % (ulonglong)uRam37883ecf;
      uVar16 = (uint)uVar5;
      bVar12 = 9 < ((byte)uVar6 & 0xf) | in_AF;
      uVar10 = CONCAT31((int3)(uVar6 >> 8),(byte)uVar6 + bVar12 * '\x06') & 0xffffff0f;
      uVar13 = (undefined2)(uVar10 >> 0x10);
      uVar9 = (undefined1)uVar10;
      bVar12 = (char)(uVar6 >> 8) + bVar12;
      cVar2 = *(char *)(uVar16 - 0x6f);
      cVar15 = (char)uVar5;
      if (cVar2 <= cVar15) {
        *(int *)(unaff_EBX - 0x2e) =
             *(int *)(unaff_EBX - 0x2e) - CONCAT22(uVar13,CONCAT11(bVar12,uVar9));
        *(uint *)(iVar17 + 0x2f) = *(uint *)(iVar17 + 0x2f) & uVar16;
                    /* WARNING: Bad instruction - Truncating control flow here */
        halt_baddata();
      }
      if (SBORROW1(cVar15,cVar2)) {
        unaff_ESI = (undefined4 *)((int)unaff_ESI + 1);
        pbVar11 = (byte *)func_0xa22fcfaa(in_CS);
        puVar19 = (uint *)((uint)puVar18 ^ *extraout_ECX);
        uVar10 = 0x4fe8f8;
        *(undefined2 *)pbVar11 = in_FPUControlWord;
        puVar14 = extraout_ECX;
        uVar16 = unaff_EBX;
        unaff_EBX = 0x14f9fc7c;
      }
      else {
        LOCK();
        DAT_c019eca4 = 0xb7;
        puVar14 = (uint *)CONCAT22((short)((uint)param_1 >> 0x10),CONCAT11(uVar8,(byte)param_1));
        UNLOCK();
        LOCK();
        uVar10 = *puVar14;
        *puVar14 = 0xb1cb57f3;
        UNLOCK();
        uVar7 = *puVar14;
        bVar3 = *(byte *)(uVar10 + 0x8e98dbd);
        *(byte *)(unaff_ESI + -0x171118d1) =
             *(byte *)(unaff_ESI + -0x171118d1) << 1 | CARRY1(bVar12,*(byte *)(uVar10 + 0x8e98dbd));
        uVar16 = CONCAT22(uVar13,CONCAT11(bVar12 + bVar3,uVar9)) - 1;
        *(byte *)((int)puVar18 + -0x52) = *(byte *)((int)puVar18 + -0x52) ^ (byte)param_1;
        pbVar11 = (byte *)(unaff_EBX ^ 0xd958986a);
        puVar19 = puVar18 + 1;
        *puVar18 = (uint)pbVar11;
        if (0 < (int)pbVar11) {
          if ((int)pbVar11 < 0) {
            *(int *)(pbVar11 + 0x77c928ab) = *(int *)(pbVar11 + 0x77c928ab) + -0x44fcb974;
            return (float10)(short)uVar7;
          }
          *(char *)((int)puVar18 + -0x778b8406) =
               *(char *)((int)puVar18 + -0x778b8406) - (char)uVar16;
          *pbVar11 = *pbVar11 | 0x44;
                    /* WARNING: Bad instruction - Truncating control flow here */
          halt_baddata();
        }
      }
      _DAT_12de4216 = pbVar11;
      _DAT_12de4212 = puVar14;
      _DAT_12de420e = uVar10;
      _DAT_12de420a = uVar16;
      _DAT_12de4206 = 0x12de421a;
      _DAT_12de4202 = unaff_EBX;
      _DAT_12de41fe = unaff_ESI;
      _DAT_12de41fa = puVar19;
      out(3,(char)puVar14);
                    /* WARNING: Bad instruction - Truncating control flow here */
      halt_baddata();
    }
    in_AF = (in_EAX & 0x1000) != 0;
    if ((in_EAX & 0x8000) == 0) {
                    /* WARNING: Bad instruction - Truncating control flow here */
      halt_baddata();
    }
    iVar17 = CONCAT31(0x85f339,*(undefined1 *)(unaff_EBX + 0x72));
    *unaff_EDI = _DAT_18234fc9;
    puVar18 = unaff_EDI + 2;
    unaff_ESI = (undefined4 *)&DAT_18234fd1;
    if (_DAT_18234fcd == unaff_EDI[1]) {
      param_1 = (int *)CONCAT22((short)((uint)param_1 >> 0x10),(ushort)(byte)param_1);
      *(char *)puVar18 = (char)*puVar18 >> 0x1a;
      if ((POPCOUNT((char)*puVar18) & 1U) == 0) {
        uVar10 = 0x1823d6cd;
        goto code_r0x004fe87b;
      }
      goto code_r0x004fe7b5;
    }
    unaff_EBX = CONCAT31((int3)(unaff_EBX >> 8),0x62);
  }
  *(uint *)(unaff_EBX + 0x808d2620) = *(uint *)(unaff_EBX + 0x808d2620) & (uint)unaff_ESI;
code_r0x004fe7b5:
  fVar20 = (float10)func_0x151cde71();
  LOCK();
  *unaff_ESI = extraout_EDX;
  UNLOCK();
  return fVar20;
}


