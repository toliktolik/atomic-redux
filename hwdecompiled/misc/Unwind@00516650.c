/*
 * Function: Unwind@00516650
 * Address: 00516650
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


/* WARNING: Instruction at (ram,0x00516667) overlaps instruction at (ram,0x00516666)
    */
/* WARNING: Control flow encountered bad instruction data */
/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void __fastcall Unwind_00516650(int param_1,uint param_2)

{
  uint *puVar1;
  int *piVar2;
  uint uVar3;
  uint uVar5;
  undefined1 uVar6;
  undefined4 in_EAX;
  int iVar7;
  undefined2 uVar8;
  byte *pbVar9;
  undefined4 unaff_EBX;
  int unaff_ESI;
  uint unaff_EDI;
  undefined2 in_DS;
  bool bVar10;
  char in_AF;
  unkbyte10 in_ST2;
  uint uVar4;
  
  iVar7 = CONCAT31((int3)((uint)in_EAX >> 8),DAT_5bcf9b1b);
  puVar1 = (uint *)(unaff_EDI + 0x61);
  uVar5 = *puVar1 - (param_2 - unaff_EDI);
  bVar10 = *puVar1 < param_2 - unaff_EDI || uVar5 < (param_2 < unaff_EDI);
  *puVar1 = uVar5 - (param_2 < unaff_EDI);
  iVar7 = iVar7 + 1;
  if (param_1 != 0) {
    uVar8 = (undefined2)((uint)iVar7 >> 0x10);
    uVar6 = (undefined1)iVar7;
    pbVar9 = (byte *)CONCAT22((short)((uint)param_1 >> 0x10),CONCAT11(0x72,(char)param_1));
    iVar7 = CONCAT22((short)((uint)unaff_EBX >> 0x10),
                     CONCAT11(*(undefined1 *)(CONCAT22(uVar8,CONCAT11(0xf,uVar6)) + -0x74),
                              (char)unaff_EBX));
    puVar1 = (uint *)(iVar7 + 0x52ae9195);
    *puVar1 = *puVar1 + 1;
    uVar5 = *puVar1;
    uVar3 = *puVar1;
    uVar4 = *puVar1;
    *pbVar9 = *pbVar9 ^ 0x72;
    out(*(undefined4 *)(unaff_ESI + 1),0x7923);
    piVar2 = (int *)(CONCAT22(uVar8,CONCAT11(((int)uVar5 < 0) << 7 | (uVar3 == 0) << 6 | in_AF << 4
                                             | ((POPCOUNT(uVar4 & 0xff) & 1U) == 0) << 2 | 2U |
                                             bVar10,uVar6)) + 0x43);
    *piVar2 = *piVar2 + iVar7;
    in(0x7923);
    ffree(in_ST2);
                    /* WARNING: Bad instruction - Truncating control flow here */
    halt_baddata();
  }
  *(int *)(unaff_ESI + 0x7c) = *(int *)(unaff_ESI + 0x7c) + -0x731b7a66 + (uint)bVar10;
  *(char *)(unaff_EDI + 0x6f4d4ec6) = *(char *)(unaff_EDI + 0x6f4d4ec6) + '\x01';
  _DAT_85632422 = CONCAT22(DAT_85632422_2,in_DS);
                    /* WARNING: Bad instruction - Truncating control flow here */
  halt_baddata();
}


