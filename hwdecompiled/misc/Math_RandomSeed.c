/*
 * Function: Math_RandomSeed
 * Address: 004d5c80
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


undefined4 __cdecl Math_RandomSeed(int param_1,int param_2)

{
  int iVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  char cVar5;
  int iVar6;
  undefined4 *puVar7;
  uint uVar8;
  uint uVar9;
  undefined4 uVar10;
  uint uVar11;
  int *piVar12;
  int iVar13;
  int local_24;
  int local_1c;
  int local_18;
  undefined4 *local_14;
  int local_8;
  
  iVar1 = *(int *)(param_1 + 0xe0);
  iVar2 = *(int *)(param_1 + 0x148);
  uVar11 = *(int *)(param_1 + 0xf8) - 1;
  uVar9 = *(uint *)(iVar2 + 0x10);
  if ((int)uVar9 < *(int *)(iVar2 + 0x14)) {
    do {
      for (uVar8 = *(uint *)(iVar2 + 0xc); uVar8 <= uVar11; uVar8 = uVar8 + 1) {
        iVar13 = 0;
        local_24 = 0;
        if (0 < *(int *)(param_1 + 0xe4)) {
          piVar12 = (int *)(param_1 + 0xe8);
          do {
            iVar3 = *piVar12;
            if (uVar8 < uVar11) {
              local_8 = *(int *)(iVar3 + 0x34);
            }
            else {
              local_8 = *(int *)(iVar3 + 0x44);
            }
            iVar4 = *(int *)(iVar3 + 0x40);
            local_18 = uVar9 << 3;
            local_1c = 0;
            if (0 < *(int *)(iVar3 + 0x38)) {
              iVar6 = *(int *)(iVar3 + 0x34);
              do {
                if ((*(uint *)(iVar2 + 8) < iVar1 - 1U) ||
                   ((int)(local_1c + uVar9) < *(int *)(iVar3 + 0x48))) {
                  (**(code **)(*(int *)(param_1 + 0x158) + 4))
                            (param_1,iVar3,*(undefined4 *)(param_2 + *(int *)(iVar3 + 4) * 4),
                             *(undefined4 *)(iVar2 + 0x18 + iVar13 * 4),local_18,iVar4 * uVar8,
                             local_8);
                  if (local_8 < *(int *)(iVar3 + 0x34)) {
                    Memory_ZeroFill(*(undefined4 **)(iVar2 + 0x18 + (local_8 + iVar13) * 4),
                                    (*(int *)(iVar3 + 0x34) - local_8) * 0x80);
                    local_14 = (undefined4 *)local_8;
                    if (local_8 < *(int *)(iVar3 + 0x34)) {
                      puVar7 = (undefined4 *)(iVar2 + 0x18 + (local_8 + iVar13) * 4);
                      do {
                        *(undefined2 *)*puVar7 = *(undefined2 *)puVar7[-1];
                        local_14 = (undefined4 *)((int)local_14 + 1);
                        puVar7 = puVar7 + 1;
                      } while ((int)local_14 < *(int *)(iVar3 + 0x34));
                    }
                  }
                }
                else {
                  Memory_ZeroFill(*(undefined4 **)(iVar2 + 0x18 + iVar13 * 4),iVar6 << 7);
                  iVar6 = 0;
                  if (0 < *(int *)(iVar3 + 0x34)) {
                    local_14 = (undefined4 *)(iVar2 + 0x18 + iVar13 * 4);
                    do {
                      *(undefined2 *)*local_14 = **(undefined2 **)(iVar2 + 0x14 + iVar13 * 4);
                      iVar6 = iVar6 + 1;
                      local_14 = local_14 + 1;
                    } while (iVar6 < *(int *)(iVar3 + 0x34));
                  }
                }
                iVar6 = *(int *)(iVar3 + 0x34);
                local_18 = local_18 + 8;
                iVar13 = iVar13 + iVar6;
                local_1c = local_1c + 1;
              } while (local_1c < *(int *)(iVar3 + 0x38));
            }
            local_24 = local_24 + 1;
            piVar12 = piVar12 + 1;
          } while (local_24 < *(int *)(param_1 + 0xe4));
        }
        cVar5 = (**(code **)(*(int *)(param_1 + 0x15c) + 4))(param_1,iVar2 + 0x18);
        if (cVar5 == '\0') {
          *(uint *)(iVar2 + 0x10) = uVar9;
          *(uint *)(iVar2 + 0xc) = uVar8;
          return uVar9 & 0xffffff00;
        }
      }
      *(undefined4 *)(iVar2 + 0xc) = 0;
      uVar9 = uVar9 + 1;
    } while ((int)uVar9 < *(int *)(iVar2 + 0x14));
  }
  *(int *)(iVar2 + 8) = *(int *)(iVar2 + 8) + 1;
  uVar10 = Math_RandomRange(param_1);
  return CONCAT31((int3)((uint)uVar10 >> 8),1);
}


