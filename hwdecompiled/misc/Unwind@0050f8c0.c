/*
 * Function: Unwind@0050f8c0
 * Address: 0050f8c0
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


/* WARNING: Control flow encountered bad instruction data */
/* WARNING: Instruction at (ram,0x0050f957) overlaps instruction at (ram,0x0050f952)
    */

void __fastcall Unwind_0050f8c0(int param_1,int param_2)

{
  int *piVar1;
  char *pcVar2;
  int iVar3;
  char cVar4;
  code *pcVar5;
  byte bVar6;
  uint *in_EAX;
  uint uVar7;
  uint *puVar8;
  undefined4 *puVar9;
  uint uVar10;
  int unaff_EBX;
  int iVar11;
  undefined4 *unaff_EBP;
  undefined4 *unaff_ESI;
  int unaff_EDI;
  byte in_CF;
  bool bVar12;
  byte in_AF;
  char in_ZF;
  bool bVar13;
  undefined4 uStack_8;
  undefined1 uStack_1;
  
  uVar10 = param_1 - 1;
  if (uVar10 == 0 || in_ZF == '\0') {
    *in_EAX = *in_EAX & (uint)unaff_ESI;
    puVar9 = (undefined4 *)&stack0xfffffffc;
    cVar4 = '\x0e';
    do {
      unaff_EBP = unaff_EBP + -1;
      puVar9 = puVar9 + -1;
      *puVar9 = *unaff_EBP;
      cVar4 = cVar4 + -1;
    } while ('\0' < cVar4);
                    /* WARNING: Bad instruction - Truncating control flow here */
    halt_baddata();
  }
  *(int *)(unaff_EDI + 0x2e) = (int)unaff_EBP + (uint)in_CF + *(int *)(unaff_EDI + 0x2e);
  uStack_1 = (undefined1)((uint)unaff_EBX >> 0x18);
  while( true ) {
    iVar11 = CONCAT22((short)((uint)unaff_EBX >> 0x10),CONCAT11(0x3f,(char)unaff_EBX));
    puVar9 = (undefined4 *)CONCAT31((int3)((uint)in_EAX >> 8),0xff);
    if ((int)&stack0x00000000 < 1) break;
    if (&stack0x00000000 == (undefined1 *)0x0) goto code_r0x0050f948;
    *(byte *)(param_2 + -0x7d) = *(byte *)(param_2 + -0x7d) ^ 0xc5;
    uVar7 = (uint)unaff_EBP & 0xffffffaf;
    bVar6 = (byte)uVar7;
    in_AF = 9 < (bVar6 & 0xf) | in_AF;
    bVar6 = bVar6 + in_AF * '\x06';
    unaff_EBP = (undefined4 *)
                ((int)puVar9 +
                (-(uint)(byte)(0x90 < (bVar6 & 0xf0) | in_AF * (0xf9 < bVar6)) -
                *(int *)((int)puVar9 + param_2 * 2 + 0x53)));
    *(char *)(unaff_EDI + 0x20) = *(char *)(unaff_EDI + 0x20) << 3;
    puVar8 = (uint *)(CONCAT31((int3)(uVar7 >> 8),0x25) | 0x11246af4);
    *(char *)(unaff_EDI + 0x7f) = *(char *)(unaff_EDI + 0x7f) + -0x39;
    bVar12 = CARRY4(uVar10,*puVar8);
    uVar10 = uVar10 + *puVar8;
    in_EAX = (uint *)CONCAT31((int3)((uint)puVar8 >> 8),-bVar12);
    if (bVar12 || uVar10 == 0) goto code_r0x0050f965;
    out(*unaff_ESI,(short)param_2);
    uStack_1 = (undefined1)((uint)unaff_EBX >> 0x18);
    unaff_EBX = iVar11;
    unaff_ESI = unaff_ESI + 1;
  }
  uStack_1 = (undefined1)(uVar10 >> 0x18);
  unaff_EBP = puVar9;
code_r0x0050f948:
  piVar1 = (int *)(unaff_EDI + 0x273f176b);
  iVar3 = *piVar1;
  *piVar1 = *piVar1 << 0x1d;
  bVar12 = (byte)unaff_EBP < *(byte *)(uVar10 + 0x51) ||
           (byte)((byte)unaff_EBP - *(byte *)(uVar10 + 0x51)) < (iVar3 << 0x1c < 0);
  pcVar2 = (char *)(iVar11 + -0x70969c05);
  cVar4 = '?' - *pcVar2;
  bVar13 = (char)(cVar4 - bVar12) < '\0';
  if (!bVar13) {
                    /* WARNING: Bad instruction - Truncating control flow here */
    halt_baddata();
  }
  if ((bool)cVar4 != bVar12 && (SBORROW1('?',*pcVar2) != SBORROW1(cVar4,bVar12)) == bVar13) {
    pcVar5 = (code *)swi(0x60);
    (*pcVar5)();
                    /* WARNING: Bad instruction - Truncating control flow here */
    halt_baddata();
  }
  in_EAX = (uint *)func_0xea514202();
code_r0x0050f965:
  *in_EAX = *in_EAX + (int)in_EAX;
  return;
}


