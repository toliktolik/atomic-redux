/*
 * Function: Background_ScrollParallax
 * Address: 004112f0
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void __thiscall Background_ScrollParallax(void *this,float param_1)

{
  double dVar1;
  uint uVar2;
  int *piVar3;
  bool bVar4;
  bool bVar5;
  float fVar6;
  float fVar7;
  int iVar8;
  double *pdVar9;
  
  if (*(double *)((int)this + 400) < _DAT_0052c568 ==
      (NAN(*(double *)((int)this + 400)) || NAN(_DAT_0052c568))) {
    if (*(int *)((int)this + 0x2e4) == 0) {
      dVar1 = *(double *)((int)this + 0x188) + _DAT_0052c538;
      *(double *)((int)this + 0x188) = dVar1;
      if (_DAT_0052a0f0 < dVar1) {
        *(undefined4 *)((int)this + 0x188) = 0;
        *(undefined4 *)((int)this + 0x18c) = 0x3ff00000;
      }
    }
    else {
      *(double *)((int)this + 0x188) = *(double *)((int)this + 0x188) * _DAT_0052c570;
    }
  }
  else {
    *(double *)((int)this + 0x188) = *(double *)((int)this + 400) * _DAT_0052c5a0;
  }
  fVar6 = param_1 * (float)*(double *)((int)this + 0x188);
  fVar7 = *(float *)((int)this + 0x6c) - fVar6 * (float)_DAT_0052c5a0;
  bVar4 = NAN(_DAT_0052c59c);
  bVar5 = fVar7 < _DAT_0052c59c;
  *(float *)((int)this + 0x6c) = fVar7;
  if (bVar5 != (NAN(fVar7) || bVar4)) {
    *(float *)((int)this + 0x6c) = fVar7 + _DAT_0052c598;
  }
  fVar7 = *(float *)((int)this + 0x78) - fVar6 * (float)_DAT_0052c590;
  bVar4 = NAN(_DAT_0052c58c);
  bVar5 = fVar7 < _DAT_0052c58c;
  *(float *)((int)this + 0x78) = fVar7;
  if (bVar5 != (NAN(fVar7) || bVar4)) {
    *(float *)((int)this + 0x78) = fVar7 + _DAT_0052c588;
  }
  fVar7 = *(float *)((int)this + 0x74) - fVar6 * (float)_DAT_0052c580;
  bVar4 = NAN(_DAT_0052c58c);
  bVar5 = fVar7 < _DAT_0052c58c;
  *(float *)((int)this + 0x74) = fVar7;
  if (bVar5 != (NAN(fVar7) || bVar4)) {
    *(float *)((int)this + 0x74) = fVar7 + _DAT_0052c588;
  }
  fVar7 = *(float *)((int)this + 0x70) - fVar6;
  bVar4 = NAN(_DAT_0052c59c);
  bVar5 = fVar7 < _DAT_0052c59c;
  *(float *)((int)this + 0x70) = fVar7;
  if (bVar5 != (NAN(fVar7) || bVar4)) {
    *(float *)((int)this + 0x70) = fVar7 + _DAT_0052c598;
  }
  if (*(double *)((int)this + 400) < _DAT_0052c578 !=
      (NAN(*(double *)((int)this + 400)) || NAN(_DAT_0052c578))) {
    *(double *)((int)this + 400) = (double)((float)*(double *)((int)this + 400) - fVar6);
  }
  *(undefined4 *)((int)this + 0x228) = *(undefined4 *)((int)this + 0x224);
  do {
    iVar8 = *(int *)(*(int *)((int)this + 0x228) + 4);
    if (iVar8 == 0) {
      return;
    }
    *(int *)((int)this + 0x228) = iVar8;
    if (*(int *)((int)this + 0x230) == 0) {
      pdVar9 = (double *)0x0;
    }
    else {
      pdVar9 = (double *)**(undefined4 **)((int)this + 0x228);
    }
    dVar1 = *(double *)((int)this + 0x188);
    *(int *)(pdVar9 + 1) = *(int *)(pdVar9 + 1) + -1;
    *pdVar9 = (double)((float)*pdVar9 - param_1 * (float)dVar1);
    iVar8 = SexyWidget_GetTextureId(*(int *)(*(int *)((int)this + 0x5c) + 0x6f0));
  } while ((((double)(-0x140 - iVar8 / 2) <= *pdVar9) && (-1 < *(int *)(pdVar9 + 1))) ||
          (iVar8 = *(int *)((int)this + 0x228), iVar8 == *(int *)((int)this + 0x224)));
  if (iVar8 == *(int *)((int)this + 0x22c)) {
    *(undefined4 *)((int)this + 0x22c) = *(undefined4 *)(iVar8 + 8);
  }
  uVar2 = *(uint *)(iVar8 + 4);
  *(uint *)(*(int *)(iVar8 + 8) + 4) = uVar2;
  iVar8 = *(int *)(*(int *)((int)this + 0x228) + 4);
  if (iVar8 != 0) {
    *(undefined4 *)(iVar8 + 8) = *(undefined4 *)(*(int *)((int)this + 0x228) + 8);
  }
  piVar3 = *(int **)((int)this + 0x228);
  if (*piVar3 == 0) {
                    /* WARNING: Subroutine does not return */
    System_ShutdownHandler((int)piVar3,uVar2);
  }
                    /* WARNING: Subroutine does not return */
  System_ShutdownHandler((int)piVar3,uVar2);
}


