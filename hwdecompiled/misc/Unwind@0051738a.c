/*
 * Function: Unwind@0051738a
 * Address: 0051738a
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


/* WARNING: Control flow encountered bad instruction data */
/* WARNING: Instruction at (ram,0x0051738d) overlaps instruction at (ram,0x0051738c)
    */
/* WARNING: Unable to track spacebase fully for stack */

void __fastcall Unwind_0051738a(uint *param_1,int param_2)

{
  char *pcVar1;
  byte *pbVar2;
  char cVar3;
  uint uVar4;
  undefined1 uVar5;
  byte bVar6;
  undefined4 in_EAX;
  char cVar8;
  int extraout_ECX;
  undefined2 extraout_DX;
  undefined4 *puVar9;
  undefined4 **ppuVar10;
  undefined4 *puVar11;
  undefined4 **unaff_EBP;
  uint *unaff_ESI;
  undefined1 *unaff_EDI;
  int unaff_retaddr;
  undefined4 *apuStack_8 [2];
  int iVar7;
  
  do {
    bVar6 = (byte)in_EAX;
    iVar7 = CONCAT31((int3)(CONCAT22((short)((uint)in_EAX >> 0x10),CONCAT11(bVar6 / 0x7c,bVar6)) >>
                           8),bVar6 % 0x7c);
    pcVar1 = (char *)(param_2 + 0x2a);
    cVar3 = *pcVar1;
    cVar8 = (char)((uint)param_1 >> 8);
    *pcVar1 = *pcVar1 + cVar8;
    if (SCARRY1(cVar3,cVar8)) {
      puVar11 = (undefined4 *)((uint)&stack0x00001de9 >> ((byte)param_1 & 0x1f));
      pbVar2 = (byte *)(iVar7 + -0x53);
      *pbVar2 = *pbVar2 ^ (byte)param_2;
      out(0x26,bVar6 % 0x7c);
      *puVar11 = *puVar11;
      puVar11[-1] = 0x6c;
      in(0xbb);
                    /* WARNING: Bad instruction - Truncating control flow here */
      halt_baddata();
    }
    puVar9 = (undefined4 *)&stack0x00001ddd;
    cVar3 = '\x06';
    do {
      unaff_EBP = unaff_EBP + -1;
      puVar9 = puVar9 + -1;
      *puVar9 = *unaff_EBP;
      cVar3 = cVar3 + -1;
    } while ('\0' < cVar3);
    unaff_EBP = (undefined4 **)((uint)&stack0x00001ddd | *param_1);
    if ((int)unaff_EBP < 0) {
      bVar6 = (byte)((uint)unaff_retaddr >> 8);
      unaff_retaddr =
           CONCAT22((short)((uint)unaff_retaddr >> 0x10),CONCAT11(bVar6 >> 2,(char)unaff_retaddr));
      ppuVar10 = apuStack_8 + 1;
      apuStack_8[1] = unaff_EBP;
      cVar3 = '\x03';
      do {
        unaff_EBP = unaff_EBP + -1;
        ppuVar10 = ppuVar10 + -1;
        *ppuVar10 = *unaff_EBP;
        cVar3 = cVar3 + -1;
      } while ('\0' < cVar3);
      param_1 = (uint *)param_1[4];
      unaff_EBP = apuStack_8 + 1;
      if (iVar7 + 0x4c15014eU == (uint)((bVar6 >> 1 & 1) != 0)) {
        func_0xce005445();
        out(*unaff_ESI,extraout_DX);
        pcVar1 = (char *)(extraout_ECX * 4 + -0x248b92c5);
        *pcVar1 = *pcVar1 << ((byte)extraout_ECX & 0x1f);
        return;
      }
    }
    else {
      iRam9f1c929f = iRam9f1c929f - (int)unaff_EDI;
      param_2 = 0x702f7581;
    }
    unaff_ESI = unaff_ESI + 1;
    *unaff_ESI = *unaff_ESI - unaff_retaddr;
    *unaff_ESI = *unaff_ESI & 0xba19702f;
    uVar4 = *unaff_ESI;
    uVar5 = in((short)param_2);
    *unaff_EDI = uVar5;
    in_EAX = in((short)param_2);
    param_2 = CONCAT22((short)((uint)param_2 >> 0x10),CONCAT11(0x75,(char)param_2));
    param_1 = (uint *)((int)param_1 + -1);
    if (param_1 == (uint *)0x0 || uVar4 != 0) {
                    /* WARNING: Bad instruction - Truncating control flow here */
      halt_baddata();
    }
    unaff_retaddr = 0x2a;
    unaff_EDI = unaff_EDI + 1;
  } while( true );
}


