/*
 * Function: Texture_SetPixelData
 * Address: 004b91d0
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


void __cdecl Texture_SetPixelData(_String_base *param_1,char param_2)

{
  undefined3 uVar1;
  uint uVar2;
  uint uVar3;
  uint uVar4;
  _String_base *p_Var5;
  int iVar6;
  _String_base *p_Var7;
  uint *puVar8;
  int extraout_ECX;
  int extraout_ECX_00;
  int extraout_ECX_01;
  int extraout_ECX_02;
  undefined4 extraout_ECX_03;
  int extraout_ECX_04;
  int extraout_ECX_05;
  undefined4 extraout_ECX_06;
  int extraout_ECX_07;
  int extraout_ECX_08;
  undefined4 extraout_ECX_09;
  int extraout_ECX_10;
  int extraout_ECX_11;
  undefined4 extraout_ECX_12;
  int extraout_ECX_13;
  undefined4 extraout_ECX_14;
  undefined4 extraout_ECX_15;
  int extraout_ECX_16;
  int extraout_ECX_17;
  undefined1 *puVar9;
  int extraout_ECX_18;
  undefined1 extraout_DL;
  undefined1 extraout_DL_00;
  undefined1 uVar10;
  undefined2 extraout_DX;
  undefined2 extraout_DX_00;
  undefined2 extraout_DX_01;
  undefined2 extraout_DX_02;
  uint extraout_EDX;
  uint extraout_EDX_00;
  uint extraout_EDX_01;
  uint extraout_EDX_02;
  uint extraout_EDX_03;
  uint extraout_EDX_04;
  uint extraout_EDX_05;
  uint extraout_EDX_06;
  uint extraout_EDX_07;
  uint extraout_EDX_08;
  uint extraout_EDX_09;
  undefined1 *puVar11;
  undefined4 extraout_EDX_10;
  undefined4 *puVar12;
  ulonglong uVar13;
  ulonglong uVar14;
  uint unaff_retaddr;
  undefined4 *in_stack_fffffeac;
  undefined4 *in_stack_fffffeb0;
  uint local_13c;
  undefined1 local_138 [4];
  uint local_134;
  undefined4 local_124;
  uint local_120;
  _String_base local_11c [4];
  uint local_118;
  undefined4 local_108;
  uint local_104;
  _String_base local_100 [4];
  uint local_fc;
  undefined4 local_ec;
  uint local_e8;
  _String_base local_e4 [4];
  uint local_e0;
  undefined4 local_d0;
  uint local_cc;
  undefined1 local_c8 [4];
  uint local_c4;
  undefined4 local_b4;
  uint local_b0;
  undefined1 local_ac [4];
  uint local_a8;
  undefined4 local_98;
  uint local_94;
  undefined1 local_90 [4];
  uint local_8c;
  undefined4 local_7c;
  uint local_78;
  _String_base local_74 [4];
  uint local_70;
  undefined4 local_60;
  uint local_5c;
  _String_base local_58 [4];
  uint local_54;
  undefined4 local_44;
  uint local_40;
  _String_base local_3c [4];
  uint local_38;
  int local_28;
  uint local_24;
  int local_20;
  char local_1c [4];
  char local_18 [4];
  uint local_14;
  void *local_10;
  undefined *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &DAT_005171e0;
  local_10 = ExceptionList;
  local_14 = DAT_00569f5c ^ unaff_retaddr;
  local_1c[0] = '.';
  ExceptionList = &local_10;
  uVar2 = XML_GetElementValue(param_1,local_1c,0xffffffff,1);
  local_18[0] = '\\';
  local_1c[0] = '/';
  uVar3 = XML_GetElementValue(param_1,local_1c,0xffffffff,1);
  uVar4 = XML_GetElementValue(param_1,local_18,0xffffffff,1);
  if (uVar4 < uVar3) {
    local_18[0] = '\\';
  }
  else {
    local_18[0] = '/';
  }
  uVar3 = XML_GetElementValue(param_1,local_18,0xffffffff,1);
  local_24 = 0xf;
  local_28 = 0;
  local_38 = local_38 & 0xffffff00;
  local_40 = 0xf;
  local_44 = 0;
  local_54 = local_54 & 0xffffff00;
  local_8._1_3_ = 0;
  uVar1 = local_8._1_3_;
  local_8._0_1_ = 1;
  local_8._1_3_ = 0;
  if ((int)uVar3 < (int)uVar2) {
    p_Var5 = GameMenu_ProcessRegistrationScreen
                       (param_1,local_74,uVar2,*(int *)(param_1 + 0x14) - uVar2);
    local_8._0_1_ = 2;
    PowerUp_ProcessThunderstrike(local_3c,extraout_EDX_00,p_Var5,0,0xffffffff);
    local_8._0_1_ = 1;
    if (0xf < local_5c) {
                    /* WARNING: Subroutine does not return */
      System_ShutdownHandler(extraout_ECX,extraout_EDX_01);
    }
    p_Var5 = GameMenu_ProcessRegistrationScreen(param_1,local_74,0,uVar2);
    local_8._0_1_ = 3;
    PowerUp_ProcessThunderstrike(local_58,extraout_EDX_02,p_Var5,0,0xffffffff);
    local_8._0_1_ = 1;
    iVar6 = extraout_ECX_00;
    uVar10 = extraout_DL;
    if (0xf < local_5c) {
                    /* WARNING: Subroutine does not return */
      System_ShutdownHandler(extraout_ECX_00,local_70);
    }
  }
  else {
    local_8._1_3_ = uVar1;
    PowerUp_ProcessThunderstrike(local_58,extraout_EDX,param_1,0,0xffffffff);
    iVar6 = extraout_ECX_01;
    uVar10 = extraout_DL_00;
  }
  local_20 = 0;
  iVar6 = Debug_LogMessage(iVar6,uVar10);
  if ((iVar6 == 0) || (iVar6 = extraout_ECX_02, uVar2 = extraout_EDX_03, local_28 == 0)) {
    p_Var5 = Intel_DisplayPopulationData
                       (&stack0xfffffeac,extraout_EDX_03,(_String_base *)&stack0xfffffeac,local_58,
                        (_String_base *)&DAT_00537a14);
    local_8._0_1_ = 4;
    local_20 = Texture_SetFilterMode(extraout_ECX_03,extraout_DX,p_Var5);
    uVar13 = CONCAT44(extraout_EDX_04,local_20);
    local_8._0_1_ = 1;
    if (0xf < local_13c) {
                    /* WARNING: Subroutine does not return */
      System_ShutdownHandler(extraout_ECX_04,(uint)in_stack_fffffeb0);
    }
    in_stack_fffffeb0 = (undefined4 *)((uint)in_stack_fffffeb0 & 0xffffff00);
    iVar6 = extraout_ECX_04;
    uVar2 = extraout_EDX_04;
    if (local_20 == 0) goto LAB_004b9393;
  }
  else {
LAB_004b9393:
    iVar6 = Debug_LogMessage(iVar6,(char)uVar2);
    uVar13 = CONCAT44(extraout_EDX_05,local_20);
    if ((iVar6 == 0) || (iVar6 = extraout_ECX_05, local_28 == 0)) {
      Intel_DisplayPopulationData
                (local_90,extraout_EDX_05,(_String_base *)local_90,local_58,
                 (_String_base *)&DAT_00537a0c);
      local_8._0_1_ = 5;
      uVar13 = Texture_GetPixelData(extraout_ECX_06,extraout_DX_00);
      local_20 = (int)uVar13;
      local_8._0_1_ = 1;
      if (0xf < local_78) {
                    /* WARNING: Subroutine does not return */
        System_ShutdownHandler(extraout_ECX_07,local_8c);
      }
      local_78 = 0xf;
      local_7c = 0;
      local_8c = local_8c & 0xffffff00;
      iVar6 = extraout_ECX_07;
      if (local_20 != 0) goto LAB_004b952c;
    }
    local_20 = (int)uVar13;
    iVar6 = Debug_LogMessage(iVar6,(char)(uVar13 >> 0x20));
    if ((iVar6 == 0) || (iVar6 = extraout_ECX_08, uVar2 = extraout_EDX_06, local_28 == 0)) {
      Intel_DisplayPopulationData
                (local_c8,extraout_EDX_06,(_String_base *)local_c8,local_58,
                 (_String_base *)&DAT_00537a04);
      local_8._0_1_ = 6;
      local_20 = Texture_SetWrapMode(extraout_ECX_09,extraout_DX_01);
      uVar13 = CONCAT44(extraout_EDX_07,local_20);
      local_8._0_1_ = 1;
      if (0xf < local_b0) {
                    /* WARNING: Subroutine does not return */
        System_ShutdownHandler(extraout_ECX_10,local_c4);
      }
      local_b0 = 0xf;
      local_b4 = 0;
      local_c4 = local_c4 & 0xffffff00;
      iVar6 = extraout_ECX_10;
      uVar2 = extraout_EDX_07;
      if (local_20 != 0) goto LAB_004b952c;
    }
    iVar6 = Debug_LogMessage(iVar6,(char)uVar2);
    uVar13 = CONCAT44(extraout_EDX_08,local_20);
    if ((iVar6 == 0) || (iVar6 = extraout_ECX_11, local_28 == 0)) {
      p_Var5 = Intel_DisplayPopulationData
                         (local_138,extraout_EDX_08,(_String_base *)local_138,local_58,
                          (_String_base *)&DAT_005379fc);
      local_8._0_1_ = 7;
      uVar13 = Texture_Bind(extraout_ECX_12,extraout_DX_02,(uint)p_Var5);
      local_20 = (int)uVar13;
      local_8._0_1_ = 1;
      if (0xf < local_120) {
                    /* WARNING: Subroutine does not return */
        System_ShutdownHandler(extraout_ECX_13,local_134);
      }
      local_120 = 0xf;
      local_124 = 0;
      local_134 = local_134 & 0xffffff00;
      iVar6 = extraout_ECX_13;
    }
  }
LAB_004b952c:
  local_20 = (int)uVar13;
  if (param_2 != '\0') {
    p_Var5 = GameMenu_ProcessRegistrationScreen
                       (param_1,local_11c,uVar3 + 1,(*(int *)(param_1 + 0x14) - uVar3) - 1);
    local_8._0_1_ = 8;
    p_Var7 = GameMenu_ProcessRegistrationScreen(param_1,local_e4,0,uVar3 + 1);
    local_8._0_1_ = 9;
    p_Var7 = Intel_DisplayPopulationData
                       (extraout_ECX_14,(uint)local_ac,(_String_base *)local_ac,p_Var7,
                        (_String_base *)&DAT_005379f8);
    local_8._0_1_ = 10;
    p_Var5 = Background_ProcessBackgroundLayer
                       (extraout_ECX_15,extraout_EDX_09,local_100,p_Var7,(int)p_Var5);
    local_8._0_1_ = 0xb;
    uVar14 = Texture_SetPixelData(p_Var5,'\0');
    uVar2 = (uint)(uVar14 >> 0x20);
    if (0xf < local_e8) {
                    /* WARNING: Subroutine does not return */
      System_ShutdownHandler(local_fc,uVar2);
    }
    local_e8 = 0xf;
    local_ec = 0;
    local_fc = local_fc & 0xffffff00;
    if (0xf < local_94) {
                    /* WARNING: Subroutine does not return */
      System_ShutdownHandler(extraout_ECX_16,local_a8);
    }
    local_94 = 0xf;
    local_98 = 0;
    local_a8 = local_a8 & 0xffffff00;
    if (0xf < local_cc) {
                    /* WARNING: Subroutine does not return */
      System_ShutdownHandler(extraout_ECX_16,uVar2);
    }
    local_cc = 0xf;
    local_d0 = 0;
    local_e0 = local_e0 & 0xffffff00;
    local_8._0_1_ = 1;
    if (0xf < local_104) {
                    /* WARNING: Subroutine does not return */
      System_ShutdownHandler(local_118,uVar2);
    }
    local_104 = 0xf;
    local_108 = 0;
    local_118 = local_118 & 0xffffff00;
    if ((int)uVar14 == 0) {
      p_Var5 = Intel_DisplayPopulationData
                         (extraout_ECX_16,(uint)local_74,local_74,param_1,
                          (_String_base *)&DAT_005379f8);
      local_8._0_1_ = 0xc;
      uVar14 = Texture_SetPixelData(p_Var5,'\0');
      uVar2 = (uint)(uVar14 >> 0x20);
      uVar13 = CONCAT44(uVar2,local_20);
      local_8._0_1_ = 1;
      if (0xf < local_5c) {
                    /* WARNING: Subroutine does not return */
        System_ShutdownHandler(extraout_ECX_17,uVar2);
      }
      local_5c = 0xf;
      local_60 = 0;
      local_70 = local_70 & 0xffffff00;
      iVar6 = extraout_ECX_17;
      if ((int)uVar14 == 0) goto LAB_004b9733;
    }
    uVar13 = uVar14;
    puVar12 = (undefined4 *)uVar13;
    local_8._0_1_ = 1;
    if (local_20 == 0) {
      iVar6 = puVar12[2] * puVar12[1];
      puVar8 = (uint *)puVar12[3];
      if (0 < iVar6) {
        do {
          uVar13 = CONCAT44(*puVar8 << 0x18,puVar12) | 0xffffff00000000;
          *puVar8 = *puVar8 << 0x18 | 0xffffff;
          puVar8 = puVar8 + 1;
          iVar6 = iVar6 + -1;
        } while (iVar6 != 0);
      }
    }
    else {
      if ((*(int *)(local_20 + 4) == puVar12[1]) && (*(int *)(local_20 + 8) == puVar12[2])) {
        iVar6 = *(int *)(local_20 + 4) * *(int *)(local_20 + 8);
        puVar9 = (undefined1 *)puVar12[3];
        if (0 < iVar6) {
          puVar11 = (undefined1 *)(*(int *)(local_20 + 0xc) + 3);
          do {
            *puVar11 = *puVar9;
            puVar11 = puVar11 + 4;
            puVar9 = puVar9 + 4;
            iVar6 = iVar6 + -1;
          } while (iVar6 != 0);
        }
      }
      (**(code **)*puVar12)(1);
      uVar13 = CONCAT44(extraout_EDX_10,local_20);
      iVar6 = extraout_ECX_18;
    }
  }
LAB_004b9733:
  uVar2 = (uint)(uVar13 >> 0x20);
  local_20 = (int)uVar13;
  if (0xf < local_40) {
                    /* WARNING: Subroutine does not return */
    System_ShutdownHandler(iVar6,uVar2);
  }
  local_40 = 0xf;
  local_44 = 0;
  local_54 = local_54 & 0xffffff00;
  if (0xf < local_24) {
                    /* WARNING: Subroutine does not return */
    System_ShutdownHandler(local_38,uVar2);
  }
  ExceptionList = local_10;
  Exception_SetMessage((void *)(local_14 ^ unaff_retaddr),in_stack_fffffeac,in_stack_fffffeb0);
  return;
}


