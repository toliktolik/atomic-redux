/*
 * Function: Unwind@00513de6
 * Address: 00513de6
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


/* WARNING: Control flow encountered bad instruction data */
/* WARNING: Variable defined which should be unmapped: param_3 */

void __fastcall Unwind_00513de6(int param_1,undefined4 param_2,undefined4 param_3,uint param_4)

{
  int *piVar1;
  uint *puVar2;
  byte *pbVar3;
  char *pcVar4;
  byte bVar5;
  uint uVar6;
  ulonglong uVar7;
  ulonglong uVar8;
  byte bVar9;
  undefined1 uVar10;
  byte bVar11;
  undefined1 *in_EAX;
  undefined2 uVar12;
  int iVar13;
  byte bVar15;
  int unaff_EBX;
  int iVar14;
  int unaff_EBP;
  uint *unaff_ESI;
  bool in_ZF;
  float10 in_ST0;
  
  if (in_ZF) {
                    /* WARNING: Bad instruction - Truncating control flow here */
    halt_baddata();
  }
  pcVar4 = (char *)(unaff_EBP + 0x79 + (int)unaff_ESI * 2);
  *pcVar4 = *pcVar4 + -0x1d;
  uVar7 = CONCAT44(param_2,param_3) / (ulonglong)*(uint *)(unaff_EBX + -0x36);
  uVar8 = CONCAT44(param_2,param_3) % (ulonglong)*(uint *)(unaff_EBX + -0x36);
  pbVar3 = (byte *)((int)in_EAX * 2 + 0x10);
  bVar5 = *pbVar3;
  bVar15 = (byte)((uint)unaff_EBX >> 8);
  *pbVar3 = *pbVar3 + bVar15;
  bVar11 = (byte)(uVar7 >> 8);
  bVar9 = (byte)unaff_EBX + bVar11;
  iVar14 = CONCAT31((int3)((uint)unaff_EBX >> 8),bVar9 + CARRY1(bVar5,bVar15));
  uVar12 = CONCAT11(0x83,(char)uVar8);
  iVar13 = CONCAT22((short)(uVar8 >> 0x10),uVar12);
  uVar6 = *(uint *)(in_EAX + iVar13 + 0x50);
  *(uint *)(in_EAX + iVar13 + 0x50) =
       (uint)(CONCAT14(CARRY1((byte)unaff_EBX,bVar11) || CARRY1(bVar9,CARRY1(bVar5,bVar15)),uVar6)
             >> 0x15) | uVar6 << 0xc;
  uVar10 = in(uVar12);
  *in_EAX = uVar10;
  *unaff_ESI = *unaff_ESI ^ param_4;
  iVar13 = iVar13 + -1;
  bVar9 = (byte)uVar7;
  out(0xfb,bVar9);
  pbVar3 = (byte *)(param_1 * 3 + 0x15014b35);
  bVar11 = (byte)((uint)iVar13 >> 8);
  *pbVar3 = *pbVar3 & bVar11;
  bVar5 = *pbVar3;
  *(short *)((int)uVar7 + -0x22721323) = (short)ROUND(in_ST0);
  if (-1 < (char)bVar5) {
    out(0xf7,(int)uVar7);
    in((short)iVar13 + -1);
                    /* WARNING: Bad instruction - Truncating control flow here */
    halt_baddata();
  }
  *(int *)(in_EAX + -0x69) = *(int *)(in_EAX + -0x69) + 1;
  puVar2 = (uint *)(CONCAT22((short)((uint)param_1 >> 0x10),CONCAT11(0x61,(char)param_1)) +
                   0x5ac8ad85);
  *puVar2 = *puVar2 >> 1 | (uint)((*puVar2 & 1) != 0) << 0x1f;
  uVar10 = *(undefined1 *)(iVar14 + (uint)(bVar9 % 0x92));
  pbVar3 = (byte *)(iVar14 + -0x24);
  bVar5 = *pbVar3;
  *pbVar3 = *pbVar3 - bVar11;
  piVar1 = (int *)(CONCAT31((int3)(CONCAT22((short)(uVar7 >> 0x10),CONCAT11(bVar9 / 0x92,bVar9)) >>
                                  8),uVar10) + 0x35);
  *piVar1 = (*piVar1 + 0x77) - (uint)(bVar5 < bVar11);
  return;
}


