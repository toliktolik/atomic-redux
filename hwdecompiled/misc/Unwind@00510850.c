/*
 * Function: Unwind@00510850
 * Address: 00510850
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


/* WARNING: Instruction at (ram,0x0051086a) overlaps instruction at (ram,0x00510865)
    */

undefined4 __fastcall Unwind_00510850(undefined4 param_1,int param_2)

{
  char *pcVar1;
  bool bVar2;
  undefined4 uVar3;
  uint in_EAX;
  uint uVar4;
  undefined3 extraout_var;
  undefined3 uVar5;
  undefined4 *puVar6;
  undefined4 *extraout_ECX;
  byte bVar7;
  int extraout_EDX;
  uint *unaff_EBX;
  int unaff_EBP;
  undefined4 *unaff_ESI;
  undefined4 *puVar8;
  undefined2 uVar9;
  byte in_AF;
  int unaff_retaddr;
  undefined4 uStack00000004;
  undefined2 uStack00000008;
  
  uVar4 = in_EAX ^ *(uint *)(unaff_EBP + 0x14fd19f4);
  out(*unaff_ESI,(short)param_2);
  puVar8 = unaff_ESI + -2;
  uVar5 = CONCAT21((short)(uVar4 >> 0x10),
                   (char)(uVar4 >> 8) + (9 < ((char)uVar4 + 0x62U & 0xf) | in_AF));
  puVar6 = (undefined4 *)0x4019d8a6;
  *(uint *)((int)unaff_EBX + 0x294ea0a9) = *(uint *)((int)unaff_EBX + 0x294ea0a9) >> 1;
  pcVar1 = (char *)(param_2 + -0x4080786d + (int)unaff_EBX * 4);
  *pcVar1 = *pcVar1 + '\x01';
  uStack00000008 = (short)unaff_EBX;
  while( true ) {
    bVar7 = (byte)((uint)param_2 >> 8);
    bVar2 = CARRY4((uint)((int)&stack0x00000004 + *unaff_EBX),
                   (uint)CARRY1(bVar7,*(byte *)((int)puVar6 + -0x56eb44c6)));
    if (CARRY4((uint)&stack0x00000004,*unaff_EBX) || bVar2) {
      uVar3 = CONCAT31(uVar5,DAT_1e3f222f);
      out(*puVar8,CONCAT11(bVar7 + *(byte *)((int)puVar6 + -0x56eb44c6),(char)param_2));
      *puVar6 = 0x19fd5d1b;
      return uVar3;
    }
    if (!CARRY4((uint)&stack0x00000004,*unaff_EBX) && !bVar2) break;
    puVar8 = (undefined4 *)((int)puVar8 + (-1 - (unaff_retaddr + -4)));
    uVar9 = 0xac24;
    uStack00000004 = 0x510874;
    func_0xbf7f8793();
    puVar6 = extraout_ECX;
    param_2 = extraout_EDX;
    uStack00000008 = uVar9;
    uVar5 = extraout_var;
  }
  do {
                    /* WARNING: Do nothing block with infinite loop */
  } while( true );
}


