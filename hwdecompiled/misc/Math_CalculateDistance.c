/*
 * Function: Math_CalculateDistance
 * Address: 004f0d29
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


void Math_CalculateDistance(void)

{
  uint *puVar1;
  undefined4 *puVar2;
  int iVar3;
  undefined4 uVar4;
  int *piVar5;
  int unaff_EBP;
  double dVar6;
  undefined4 *in_stack_ffffffb4;
  undefined4 *in_stack_ffffffb8;
  
  Assembly_BitShiftLocking();
  *(uint *)(unaff_EBP + -0x10) = DAT_00569f5c ^ *(uint *)(unaff_EBP + 4);
  puVar2 = (undefined4 *)System_GetSystemInfo();
  *puVar2 = 0;
  SexyWidget_ProcessInput(*(void **)(unaff_EBP + 0x1c),(int *)(unaff_EBP + 0x1c));
  *(undefined4 *)(unaff_EBP + -4) = 0;
  iVar3 = Math_InterpolateLinear
                    ((undefined1 *)(unaff_EBP + -0x58),(undefined4 *)(unaff_EBP + 0xc),
                     (int *)(unaff_EBP + 0x14));
  dVar6 = CRuntime_StringToDouble((char *)(unaff_EBP + -0x58),(char **)(unaff_EBP + -0x14),iVar3);
  *(double *)(unaff_EBP + -0x1c) = dVar6;
  *(undefined4 *)(unaff_EBP + -4) = 0xffffffff;
  SmartPointer_Destructor((uint *)(unaff_EBP + 0x1c));
  uVar4 = equal((void *)(unaff_EBP + 0xc),(int *)(unaff_EBP + 0x14));
  puVar1 = *(uint **)(unaff_EBP + 0x20);
  if ((char)uVar4 != '\0') {
    *puVar1 = *puVar1 | 1;
  }
  if (*(int *)(unaff_EBP + -0x14) != unaff_EBP + -0x58) {
    piVar5 = (int *)System_GetSystemInfo();
    if (*piVar5 == 0) {
      **(undefined8 **)(unaff_EBP + 0x24) = *(undefined8 *)(unaff_EBP + -0x1c);
      goto LAB_004f0dc1;
    }
  }
  *puVar1 = *puVar1 | 2;
LAB_004f0dc1:
  puVar2 = *(undefined4 **)(unaff_EBP + 8);
  *puVar2 = *(undefined4 *)(unaff_EBP + 0xc);
  puVar2[1] = *(undefined4 *)(unaff_EBP + 0x10);
  ExceptionList = *(void **)(unaff_EBP + -0xc);
  Exception_SetMessage
            ((void *)(*(uint *)(unaff_EBP + -0x10) ^ *(uint *)(unaff_EBP + 4)),in_stack_ffffffb4,
             in_stack_ffffffb8);
  return;
}


