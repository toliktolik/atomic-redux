/*
 * Function: Unwind@00511631
 * Address: 00511631
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


/* WARNING: Control flow encountered bad instruction data */
/* WARNING: Unable to track spacebase fully for stack */

void __fastcall Unwind_00511631(int *param_1)

{
  undefined1 *puVar1;
  byte bVar2;
  code *pcVar3;
  char cVar4;
  undefined4 in_EAX;
  uint uVar5;
  int *extraout_ECX;
  int unaff_EBX;
  undefined1 *puVar8;
  undefined4 *puVar9;
  int unaff_ESI;
  byte in_AF;
  unkbyte10 in_ST0;
  float10 extraout_ST0;
  float10 in_ST1;
  undefined8 uVar10;
  char *unaff_retaddr;
  uint uVar6;
  int iVar7;
  
  *(unkbyte10 *)(unaff_ESI + -0x52e0df9c) = in_ST0;
  bVar2 = 9 < ((byte)in_EAX & 0xf) | in_AF;
  uVar5 = CONCAT31((int3)((uint)in_EAX >> 8),(byte)in_EAX + bVar2 * '\x06') & 0xffffff0f;
  uVar6 = CONCAT22((short)(uVar5 >> 0x10),CONCAT11((char)((uint)in_EAX >> 8) + bVar2,(char)uVar5));
  uVar5 = (uint)bVar2;
  puVar1 = &stack0x00000004 + *param_1;
  puVar8 = puVar1 + uVar5 + 4;
  pcVar3 = (code *)swi(4);
  puVar9 = (undefined4 *)(puVar1 + uVar5 + 4);
  if (SCARRY4((int)&stack0x00000004,*param_1) != SCARRY4((int)puVar1,uVar5)) {
    uVar10 = (*pcVar3)();
    unaff_retaddr = (char *)((ulonglong)uVar10 >> 0x20);
    uVar6 = (uint)uVar10;
    param_1 = extraout_ECX;
    puVar9 = (undefined4 *)puVar8;
    in_ST1 = extraout_ST0;
  }
  *unaff_retaddr = *unaff_retaddr + (char)((uint)param_1 >> 8);
  iVar7 = (uVar6 ^ 0x7d943c52) + 0x9c2ac0a4;
  cVar4 = (char)iVar7 + -0x49;
  iVar7 = CONCAT31((int3)((uint)iVar7 >> 8),cVar4);
  if (cVar4 != '\0') {
    File_ReadData((byte)param_1,(int)unaff_retaddr);
    return;
  }
  *(undefined4 *)(iVar7 + -4) = *puVar9;
  *(float *)(unaff_EBX + -1) = (float)in_ST1;
  *(undefined4 *)(iVar7 + -8) = 0xc;
                    /* WARNING: Bad instruction - Truncating control flow here */
  halt_baddata();
}


