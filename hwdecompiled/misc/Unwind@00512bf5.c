/*
 * Function: Unwind@00512bf5
 * Address: 00512bf5
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


/* WARNING: Control flow encountered bad instruction data */
/* WARNING: Instruction at (ram,0x00512bff) overlaps instruction at (ram,0x00512bfe)
    */

void __fastcall Unwind_00512bf5(undefined1 *param_1)

{
  undefined2 uVar1;
  byte bVar2;
  uint uVar3;
  undefined4 uVar4;
  uint uVar5;
  int *piVar6;
  int unaff_EBX;
  int unaff_ESI;
  int unaff_EDI;
  byte in_AF;
  
  uVar1 = *(undefined2 *)(param_1 + -0x47);
  piVar6 = (int *)CONCAT22((short)((uint)(unaff_ESI + 1) >> 0x10),uVar1);
  bVar2 = 9 < ((byte)uVar1 & 0xf) | in_AF;
  uVar5 = CONCAT31((int3)((uint)piVar6 >> 8),(byte)uVar1 + bVar2 * '\x06') & 0xffffff0f;
  uVar5 = CONCAT22((short)(uVar5 >> 0x10),CONCAT11((char)((ushort)uVar1 >> 8) + bVar2,(char)uVar5));
  LOCK();
  *param_1 = (char)((uint)param_1 >> 8);
  UNLOCK();
  while( true ) {
    unaff_EDI = (unaff_EDI - *piVar6) + -1;
    uVar3 = uVar5 & 0x8a96dd47;
    uVar4 = in((short)piVar6);
    uVar5 = (uint)(CONCAT44(piVar6,uVar4) / (longlong)*(int *)(unaff_EBX + -0x5f8c3cf6));
    piVar6 = (int *)(CONCAT44(piVar6,uVar4) % (longlong)*(int *)(unaff_EBX + -0x5f8c3cf6));
    if ((int)uVar3 < 1) break;
    iRam6994f38e = iRam6994f38e - unaff_EDI;
  }
  in(0xd2);
                    /* WARNING: Bad instruction - Truncating control flow here */
  halt_baddata();
}


