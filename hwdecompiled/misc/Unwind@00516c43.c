/*
 * Function: Unwind@00516c43
 * Address: 00516c43
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


/* WARNING: Unable to track spacebase fully for stack */

int __fastcall Unwind_00516c43(int param_1,undefined4 param_2)

{
  int *piVar1;
  int iVar2;
  undefined4 uVar3;
  undefined1 uVar4;
  ushort uVar5;
  undefined4 in_EAX;
  uint uVar6;
  char *pcVar7;
  int iVar8;
  uint *puVar9;
  undefined2 uVar10;
  undefined4 unaff_EBX;
  int *piVar11;
  undefined4 *puVar12;
  undefined4 *puVar13;
  undefined4 *puVar14;
  undefined4 *puVar15;
  undefined1 *unaff_EDI;
  undefined1 *puVar16;
  undefined2 in_ES;
  undefined2 in_DS;
  int in_GS_OFFSET;
  bool bVar17;
  int unaff_retaddr;
  
  *(int *)(unaff_retaddr + -4) = param_1;
  uVar6 = CONCAT22((short)((uint)in_EAX >> 0x10),
                   CONCAT11((byte)((uint)in_EAX >> 8) | (byte)((uint)unaff_EBX >> 8),(char)in_EAX));
  *(uint *)(param_1 + -0x60c44688) = uVar6;
  pcVar7 = (char *)(uVar6 ^ *(uint *)(uVar6 + 0x4ec365ec));
  *(char **)(CONCAT31((int3)((uint)unaff_EBX >> 8),
                      ((byte)unaff_EBX | 0xf) + *pcVar7 ^ pcVar7[-0x22756368]) + -0x4c) = pcVar7;
  iVar2 = ((uint)pcVar7 & 0x85180c2f) + 0xde124256;
  bVar17 = SCARRY1(DAT_bc367985,'\x01');
  DAT_bc367985 = DAT_bc367985 + '\x01';
  if (bVar17 == DAT_bc367985 < '\0') {
    return iVar2;
  }
  *(undefined4 *)(unaff_retaddr + -8) = param_2;
  puVar12 = (undefined4 *)(unaff_retaddr + -0xc);
  *(undefined2 *)(unaff_retaddr + -0xc) = in_DS;
  iVar8 = CONCAT31((int3)((uint)iVar2 >> 8),DAT_bc36795a);
  uVar10 = 0x7b53;
  piVar1 = (int *)(unaff_EDI + in_GS_OFFSET + 0x3b);
  *piVar1 = *piVar1 + 1;
  iVar2 = *piVar1;
  bVar17 = *piVar1 == 0;
  puVar16 = unaff_EDI + 1;
  *unaff_EDI = DAT_ea717cc8;
  puVar14 = (undefined4 *)&DAT_ea717cc9;
  if (-1 < iVar2) {
    while( true ) {
      puVar15 = puVar14;
      if (bVar17) {
        puVar15 = (undefined4 *)((int)puVar14 + 1);
        *puVar16 = *(undefined1 *)puVar14;
        uVar10 = 0x65;
        uVar6 = iVar8 + 0x7d0533a4;
        uVar3 = *puVar12;
        if ((SCARRY4(iVar8,0x7d0533a4) != SCARRY4(uVar6,0)) != (int)uVar6 < 0) {
          puVar9 = (uint *)((uint)(uint3)(CONCAT21((short)(uVar6 >> 0x10),
                                                   ('\0' < DAT_ffe6dde5) << 7 |
                                                   (-DAT_ffe6dde5 == '\0') << 6 |
                                                   ((uVar6 & 0x1000) != 0) << 4 |
                                                   ((POPCOUNT(-DAT_ffe6dde5) & 1U) == 0) << 2 | 2U |
                                                   DAT_ffe6dde5 != '\0') ^ 0x19f300) << 8);
          *puVar9 = *puVar9 | 0xffffffd3;
          *(uint **)(puVar16 + 1) = puVar9;
          do {
                    /* WARNING: Do nothing block with infinite loop */
          } while( true );
        }
        uVar4 = in(0x65);
        puVar16[1] = uVar4;
        iVar8 = in(0xfa);
        puVar16 = (undefined1 *)(puVar12[1] + -1);
        bVar17 = (char)((uint)(CONCAT31((int3)((uint)uVar3 >> 8),(char)uVar3 >> 1) + -1) >> 8) ==
                 '\0' && (char)((uint)iVar8 >> 8) == '\0';
        puVar13 = puVar12 + 1;
        puVar12 = puVar12 + 1;
        *puVar13 = 0xdda1ad62;
      }
      if (!bVar17) break;
      *(undefined2 *)((int)puVar12 + -4) = in_ES;
      uVar5 = (ushort)(byte)((char)iVar8 + (char)((uint)iVar8 >> 8) * '~');
      iVar8 = CONCAT22((short)((uint)iVar8 >> 0x10),uVar5);
      bVar17 = uVar5 == 0;
      if (!bVar17) {
        uVar4 = in(0x1f);
        return CONCAT31((int3)((uint)iVar8 >> 8),uVar4);
      }
      piVar11 = (int *)((int)puVar12 + -8);
      puVar12 = (undefined4 *)((int)puVar12 + -8);
      *piVar11 = iVar8;
      puVar14 = puVar15;
    }
    out(*puVar15,uVar10);
    return iVar8;
  }
  do {
                    /* WARNING: Do nothing block with infinite loop */
  } while( true );
}


