/*
 * Function: Unwind@00512ab0
 * Address: 00512ab0
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


/* WARNING: Control flow encountered bad instruction data */
/* WARNING: Unable to track spacebase fully for stack */
/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void Unwind_00512ab0(undefined4 *param_1,int param_2)

{
  int *piVar1;
  uint *puVar2;
  byte bVar3;
  undefined4 *puVar4;
  char cVar5;
  code *pcVar6;
  byte bVar7;
  undefined3 uVar9;
  int iVar8;
  undefined4 *puVar10;
  undefined4 *puVar11;
  undefined2 in_GS;
  bool in_CF;
  byte in_AF;
  bool in_ZF;
  char in_SF;
  char in_OF;
  undefined4 *unaff_retaddr;
  char *in_stack_00000018;
  undefined4 in_stack_0000001c;
  
  iVar8 = CONCAT22((short)((uint)in_stack_0000001c >> 0x10),in_GS);
  *unaff_retaddr = *param_1;
  if (!in_CF && !in_ZF) {
    puVar2 = (uint *)(iVar8 + -0x3b8917ff);
    *in_stack_00000018 =
         (*in_stack_00000018 - (char)in_stack_00000018) -
         (CARRY4((uint)&stack0x00000020,*puVar2) ||
         CARRY4((uint)(&stack0x00000020 + *puVar2),(uint)in_CF));
    pcVar6 = (code *)swi(3);
    (*pcVar6)();
    return;
  }
  uVar9 = (undefined3)((uint)iVar8 >> 8);
  if (in_ZF || in_OF != in_SF) {
    bVar7 = (byte)in_GS - 9;
    bVar3 = 9 < (bVar7 & 0xf) | in_AF;
    bVar7 = bVar7 + bVar3 * '\x06';
    bVar3 = 0x90 < (bVar7 & 0xf0) | (byte)in_GS < 9 | bVar3 * (0xf9 < bVar7);
    piVar1 = (int *)(CONCAT31(uVar9,bVar7 + bVar3 * '`') + -0x12);
    *piVar1 = (*piVar1 - (int)(param_1 + 1)) - (uint)bVar3;
    return;
  }
  iVar8 = CONCAT31(uVar9,3);
  if (!in_CF && !in_ZF) {
                    /* WARNING: Bad instruction - Truncating control flow here */
    halt_baddata();
  }
  puVar11 = *(undefined4 **)(param_2 + 0x221fb6e5);
  puVar10 = (undefined4 *)0x62385b2a;
  cVar5 = '\n';
  puVar4 = puVar10;
  puRam62385b2a = puVar11;
  do {
    puVar11 = puVar11 + -1;
    puVar4 = puVar4 + -1;
    *puVar4 = *puVar11;
    cVar5 = cVar5 + -1;
  } while ('\0' < cVar5);
  uRam62385afe = 0x62385b2a;
  *(undefined1 *)(iVar8 + 0x78) = *(undefined1 *)(param_1 + 1);
  iVar8 = -*(int *)(iVar8 + 0x79);
  puVar11 = (undefined4 *)(iVar8 + 0x623789f6);
  *(undefined4 *)(iVar8 + 0x623789f6) = 0x62385b2a;
  cVar5 = '\x02';
  do {
    puVar10 = puVar10 + -1;
    puVar11 = puVar11 + -1;
    *puVar11 = *puVar10;
    cVar5 = cVar5 + -1;
  } while ('\0' < cVar5);
  *(int *)(iVar8 + 0x623789ea) = iVar8 + 0x623789f6;
  if (((*(uint *)(iVar8 + 0x6236df27) & 0x800) != 0) ==
      ((*(uint *)(iVar8 + 0x6236df27) & 0x80) != 0)) {
    return;
  }
                    /* WARNING: Bad instruction - Truncating control flow here */
  halt_baddata();
}


