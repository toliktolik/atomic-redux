/*
 * Function: Settings_ProcessParticleCount
 * Address: 00428ac0
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void __fastcall Settings_ProcessParticleCount(int param_1)

{
  int iVar1;
  double dVar2;
  double *pdVar3;
  
  *(double *)(param_1 + 8) =
       *(double *)(param_1 + 8) - *(double *)(*(int *)(param_1 + 4) + 0x188) * _DAT_0052c580;
  dVar2 = *(double *)(param_1 + 0x10) - _DAT_0052a0f0;
  *(double *)(param_1 + 0x10) = dVar2;
  if (dVar2 < _DAT_0052a0c0 != (NAN(dVar2) || NAN(_DAT_0052a0c0))) {
    *(undefined4 *)(param_1 + 0x10) = 0;
    *(undefined4 *)(param_1 + 0x14) = 0;
  }
  if ((*(double *)(param_1 + 8) < _DAT_0052e648 ==
       (NAN(*(double *)(param_1 + 8)) || NAN(_DAT_0052e648))) &&
     ((NAN(*(double *)(param_1 + 0x10)) || NAN(_DAT_0052a0c0)) ==
      (*(double *)(param_1 + 0x10) == _DAT_0052a0c0))) {
    *(undefined4 *)(param_1 + 0x2c) = *(undefined4 *)(param_1 + 0x28);
    while (iVar1 = *(int *)(*(int *)(param_1 + 0x2c) + 4), iVar1 != 0) {
      *(int *)(param_1 + 0x2c) = iVar1;
      if (*(int *)(param_1 + 0x34) == 0) {
        pdVar3 = (double *)0x0;
      }
      else {
        pdVar3 = (double *)**(undefined4 **)(param_1 + 0x2c);
      }
      *pdVar3 = *pdVar3 + pdVar3[2];
      pdVar3[1] = pdVar3[1] + pdVar3[3];
      pdVar3[2] = pdVar3[2] * _DAT_0052c570;
      pdVar3[3] = pdVar3[3] * _DAT_0052c570;
    }
    *(undefined4 *)(param_1 + 0x1c) = *(undefined4 *)(param_1 + 0x18);
    while (iVar1 = *(int *)(*(int *)(param_1 + 0x1c) + 4), iVar1 != 0) {
      *(int *)(param_1 + 0x1c) = iVar1;
      if (*(int *)(param_1 + 0x24) == 0) {
        pdVar3 = (double *)0x0;
      }
      else {
        pdVar3 = (double *)**(undefined4 **)(param_1 + 0x1c);
      }
      *pdVar3 = *pdVar3 + pdVar3[2];
      pdVar3[1] = pdVar3[3] + pdVar3[1];
      pdVar3[2] = pdVar3[2] * _DAT_0052c570;
      pdVar3[3] = pdVar3[3] * _DAT_0052c570;
      dVar2 = pdVar3[5] - _DAT_0052c968;
      pdVar3[5] = dVar2;
      if (dVar2 < _DAT_0052a0c0 != (NAN(dVar2) || NAN(_DAT_0052a0c0))) {
        *(undefined4 *)(pdVar3 + 5) = 0;
        *(undefined4 *)((int)pdVar3 + 0x2c) = 0;
      }
    }
  }
  else {
    Settings_ProcessEffectQuality((void *)(*(int *)(param_1 + 4) + 0x264),*(int **)(param_1 + 0x38))
    ;
  }
  return;
}


