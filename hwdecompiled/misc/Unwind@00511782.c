/*
 * Function: Unwind@00511782
 * Address: 00511782
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


/* WARNING: Instruction at (ram,0x00511787) overlaps instruction at (ram,0x00511784)
    */

undefined4 __fastcall Unwind_00511782(uint param_1,int param_2,undefined4 param_3)

{
  uint *puVar1;
  char *pcVar2;
  uint uVar3;
  uint uVar4;
  code *pcVar5;
  ulonglong uVar6;
  bool bVar7;
  int *piVar8;
  byte bVar9;
  undefined4 in_EAX;
  uint uVar11;
  undefined4 uVar12;
  int *piVar13;
  int unaff_EBX;
  uint unaff_ESI;
  undefined1 *puVar14;
  undefined1 *unaff_EDI;
  bool bVar15;
  bool bVar16;
  uint unaff_retaddr;
  ushort uVar10;
  
  bVar16 = (unaff_retaddr & 0x400) != 0;
  puVar14 = (undefined1 *)(unaff_ESI & param_1);
  bVar9 = (byte)param_1 & 0x1f;
  uVar6 = (ulonglong)param_1 << bVar9;
  piVar13 = (int *)((uint)uVar6 | param_1 >> 0x21 - bVar9);
  bVar15 = (uVar6 & 0x100000000) != 0;
  bVar7 = false;
  do {
    bVar9 = (char)in_EAX + (char)((uint)in_EAX >> 8) * '=';
    uVar10 = (ushort)bVar9;
    piVar8 = piVar13;
    if (uVar10 == 0 || bVar7) {
      uVar11 = CONCAT22((short)((uint)in_EAX >> 0x10),
                        CONCAT11((uVar10 == 0) << 6 | ((unaff_retaddr & 0x10) != 0) << 4 |
                                 ((POPCOUNT(uVar10) & 1U) == 0) << 2 | 2U | bVar15,bVar9));
      pcVar2 = (char *)(unaff_EBX + 0x25 + (int)unaff_EDI * 8);
      *pcVar2 = *pcVar2 + '$' + (uVar11 < 0x93d61d2c || uVar11 + 0x6c29e2d4 < (uint)bVar15);
      return param_3;
    }
    while( true ) {
      piVar13 = piVar8;
      uVar12 = in(0xfc);
      *(int *)(param_2 + -0x38) = *(int *)(param_2 + -0x38) + -1;
      in_EAX = CONCAT31((int3)((uint)uVar12 >> 8),(char)uVar12 + '1');
      param_2 = 0x606776d2;
      puVar1 = (uint *)(unaff_EBX + -0x18);
      uVar11 = *puVar1;
      uVar3 = *puVar1;
      *puVar1 = *puVar1 + 0x1779f87e;
      if (!SCARRY4(uVar3,0x1779f87e)) break;
      uVar4 = (uint)bVar16;
      uVar3 = (uint)bVar16;
      *unaff_EDI = *puVar14;
      bVar16 = false;
      *piVar13 = (*piVar13 + -0x32) - (uint)(0xe8860781 < uVar11);
      param_2 = 0x606776db;
      DAT_7416d607 = DAT_7416d607 + '\x01';
      piVar8 = (int *)CONCAT43(&param_3,(int3)((uint)puVar14 >> 8));
      puVar14 = puVar14 + uVar3 * -2 + 1;
      unaff_EDI = unaff_EDI + uVar4 * -2 + 1;
      if ((POPCOUNT(DAT_7416d607) & 1U) == 0) {
        out(0x47,(char)piVar13);
        pcVar5 = (code *)swi(3);
        uVar12 = (*pcVar5)();
        return uVar12;
      }
    }
    bVar15 = (longlong)(int)&param_3 != (longlong)*(int *)(unaff_EDI + 0x54) * -0x2e2c0edd;
    bVar7 = bVar15;
  } while( true );
}


