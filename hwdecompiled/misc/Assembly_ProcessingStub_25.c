/*
 * Function: Assembly_ProcessingStub_25
 * Address: 00500eb0
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


/* WARNING: Control flow encountered bad instruction data */
/* WARNING: Instruction at (ram,0x00500ef4) overlaps instruction at (ram,0x00500ef1)
    */
/* WARNING: Unable to track spacebase fully for stack */
/* WARNING: Removing unreachable block (ram,0x00500eeb) */
/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void __fastcall Assembly_ProcessingStub_25(uint param_1,undefined4 param_2)

{
  byte *pbVar1;
  uint *puVar2;
  code *pcVar3;
  undefined1 uVar4;
  byte bVar8;
  ushort uVar5;
  int in_EAX;
  int iVar6;
  int iVar9;
  uint extraout_ECX;
  uint uVar10;
  undefined2 extraout_DX;
  int iVar11;
  byte bVar14;
  uint unaff_EBX;
  uint uVar13;
  int unaff_EBP;
  int unaff_ESI;
  uint *unaff_EDI;
  undefined1 uVar15;
  bool bVar16;
  undefined1 in_ZF;
  byte in_SF;
  byte in_OF;
  float10 in_ST0;
  float10 extraout_ST0;
  float10 extraout_ST1;
  unkbyte10 in_ST4;
  float10 in_ST5;
  undefined4 in_XMM4_Da;
  undefined4 in_XMM4_Db;
  undefined4 in_XMM4_Dc;
  undefined4 in_XMM4_Dd;
  undefined8 uVar17;
  uint uVar7;
  undefined2 uVar12;
  
  uVar15 = 1;
  uVar12 = (undefined2)((uint)param_2 >> 0x10);
  iVar11 = CONCAT22(uVar12,CONCAT11(0x80,(char)param_2));
  if (param_1 == 0) goto LAB_00500f14_1;
  iVar6 = in_EAX + -0x37706243;
  uVar13 = *unaff_EDI;
  iVar11 = CONCAT22(uVar12,CONCAT11(0x5c,(char)param_2));
  bVar8 = (byte)((uint)iVar6 >> 8);
  bVar16 = (byte)iVar6 < bVar8;
  iVar9 = CONCAT31((int3)(param_1 >> 8),0x1a);
  uVar7 = CONCAT22((short)((uint)iVar6 >> 0x10),(ushort)(byte)(bVar8 * -0x26 + 0xb4));
  *unaff_EDI = uVar7;
  unaff_EDI = (uint *)0x76a2a31c;
  pbVar1 = (byte *)(uVar7 + 0x337374c);
  bVar14 = (byte)((unaff_EBX & uVar13) >> 8);
  bVar8 = *pbVar1 + bVar14;
  uVar15 = CARRY1(*pbVar1,bVar14) || CARRY1(bVar8,bVar16);
  in_OF = SCARRY1(*pbVar1,bVar14) != SCARRY1(bVar8,bVar16);
  *pbVar1 = bVar8 + bVar16;
  in_SF = (char)*pbVar1 < '\0';
  in_ZF = *pbVar1 == 0;
  param_1 = iVar9 - 1;
  uVar13 = unaff_EBX & uVar13;
  if (param_1 == 0 || (bool)in_ZF) {
    puVar2 = (uint *)(iVar9 + 0xc5c82c6);
    *puVar2 = *puVar2 & param_1;
    LOCK();
    _DAT_610a29e8 = 0x610a296d;
    UNLOCK();
  }
  else {
    while( true ) {
      uVar17 = SUB108(in_ST5,0);
      uVar10 = param_1 - 1;
      if (uVar10 == 0 || (bool)in_ZF != false) break;
      if (!(bool)in_ZF && in_OF == in_SF) {
        unaff_EBP = 0x7f7d88ba;
      }
      bVar8 = (byte)uVar10 & 0x1f;
      unaff_EBX = (int)uVar13 >> bVar8;
      uVar15 = (uVar10 & 0x1f) != 0 && ((int)uVar13 >> bVar8 - 1 & 1U) != 0;
      in_OF = bVar8 != 1 & in_OF;
      bVar16 = (uVar10 & 0x1f) != 0;
      param_1 = param_1 - 2;
      if (param_1 != 0 && ((!bVar16 & in_ZF) != 0 || bVar16 && unaff_EBX == 0)) {
        uVar5 = (ushort)(byte)((char)uVar7 + (char)(uVar7 >> 8) * -0x14);
        uVar7 = CONCAT22((short)(uVar7 >> 0x10),uVar5);
        in_SF = 0;
        in_ZF = uVar5 == 0;
        uVar13 = unaff_EBX;
      }
      else {
        puVar2 = (uint *)((int)unaff_EDI + -0x20bb3e03);
        uVar13 = (uint)(byte)uVar15;
        uVar7 = *puVar2 - param_1;
        uVar15 = *puVar2 < param_1 || uVar7 < uVar13;
        in_OF = SBORROW4(*puVar2,param_1) != SBORROW4(uVar7,uVar13);
        *puVar2 = uVar7 - uVar13;
        in_SF = (int)*puVar2 < 0;
        in_ZF = *puVar2 == 0;
        iVar11 = unaff_ESI * 8;
        *(undefined4 *)(&stack0x38ab19b1 + iVar11) = in_XMM4_Da;
        *(undefined4 *)(&stack0x38ab19b5 + iVar11) = in_XMM4_Db;
        *(undefined4 *)(&stack0x38ab19b9 + iVar11) = in_XMM4_Dc;
        *(undefined4 *)(&stack0x38ab19bd + iVar11) = in_XMM4_Dd;
        uVar17 = func_0x0b8f8518();
        iVar11 = (int)((ulonglong)uVar17 >> 0x20);
        in_EAX = (int)uVar17;
        uVar17 = (undefined8)in_ST4;
        if (!(bool)in_ZF) goto code_r0x00500f8d;
        param_1 = extraout_ECX;
        in_ST0 = extraout_ST0 * extraout_ST1;
        if ((bool)uVar15 || (bool)in_ZF) {
          in_ST0 = in_ST5;
        }
LAB_00500f14_1:
        uVar4 = in((short)iVar11);
        uVar7 = CONCAT31((int3)((uint)in_EAX >> 8),uVar4);
        uVar13 = unaff_EBX;
      }
    }
    if (!(bool)uVar15 && !(bool)in_ZF) {
      *(short *)(CONCAT31((int3)(uVar10 >> 8),0xec) + -0x34) =
           (short)ROUND(in_ST0 + (float10)*(short *)(iVar11 + 0x3470600c));
      *(undefined4 *)(uVar7 - 4) = 0xda66ee21;
      *(undefined2 *)(unaff_EBP + 0x36b414bd) = *(undefined2 *)(unaff_EBP + 0x36b414bd);
code_r0x00500f8d:
      pcVar3 = (code *)swi(0x6a);
      (*pcVar3)();
      in(extraout_DX);
      psadbw(uVar17,*(undefined8 *)(unaff_EBP + -0x3281f188));
                    /* WARNING: Bad instruction - Truncating control flow here */
      halt_baddata();
    }
  }
                    /* WARNING: Bad instruction - Truncating control flow here */
  halt_baddata();
}


