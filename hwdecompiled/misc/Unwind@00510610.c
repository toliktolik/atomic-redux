/*
 * Function: Unwind@00510610
 * Address: 00510610
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


/* WARNING: Control flow encountered bad instruction data */
/* WARNING: Instruction at (ram,0x00510661) overlaps instruction at (ram,0x00510660)
    */

float10 __fastcall Unwind_00510610(undefined1 *param_1,undefined4 param_2)

{
  char cVar1;
  code *pcVar2;
  undefined1 uVar3;
  undefined4 in_EAX;
  undefined4 unaff_EBX;
  undefined4 *puVar5;
  int unaff_EBP;
  undefined4 *unaff_ESI;
  undefined1 *puVar6;
  undefined1 *unaff_EDI;
  bool in_PF;
  float10 in_ST0;
  float10 fVar7;
  undefined4 *in_stack_00000001;
  undefined4 *puVar4;
  
  uVar3 = in((short)param_2);
  puVar4 = (undefined4 *)CONCAT31((int3)((uint)in_EAX >> 8),uVar3);
  if (in_PF) {
    puVar5 = (undefined4 *)&stack0xfffffffc;
    cVar1 = '\x10';
    do {
      puVar4 = puVar4 + -1;
      puVar5 = puVar5 + -1;
      *puVar5 = *puVar4;
      cVar1 = cVar1 + -1;
    } while ('\0' < cVar1);
    *unaff_EDI = (char)unaff_EBP;
    return (float10)*(float *)(unaff_EBP + 0x5a6f3769) - in_ST0;
  }
  if (&stack0x00000000 == (undefined1 *)0xffffffff) {
    puVar6 = (undefined1 *)*(undefined6 *)(unaff_EBP + -0x10e711cb);
    if (param_1 <= unaff_EDI) {
      pcVar2 = (code *)swi(0x15);
      (*pcVar2)();
                    /* WARNING: Bad instruction - Truncating control flow here */
      halt_baddata();
    }
    func_0x98609d29();
    *(undefined1 *)((int)in_stack_00000001 + 1) = *puVar6;
    pcVar2 = (code *)swi(1);
    fVar7 = (float10)(*pcVar2)(puVar6 + 1);
    return fVar7;
  }
  *in_stack_00000001 = *unaff_ESI;
  *(char *)(unaff_ESI + -0x146c4a73) = (char)((uint)unaff_EBX >> 8);
  LOCK();
  *(int *)(CONCAT22((short)((uint)param_2 >> 0x10),
                    CONCAT11(((byte)((uint)param_2 >> 8) | 0x52) & (byte)param_2,(byte)param_2)) +
          0x7c739aee) = unaff_EBP;
  UNLOCK();
                    /* WARNING: Bad instruction - Truncating control flow here */
  halt_baddata();
}


