/*
 * Function: Unwind@00511550
 * Address: 00511550
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


/* WARNING: Control flow encountered bad instruction data */
/* WARNING: Instruction at (ram,0x00511551) overlaps instruction at (ram,0x00511550)
    */
/* WARNING: Unable to track spacebase fully for stack */
/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void __fastcall Unwind_00511550(undefined4 param_1,undefined4 param_2)

{
  byte *pbVar1;
  int iVar2;
  char cVar3;
  uint in_EAX;
  uint uVar4;
  int iVar5;
  int *piVar6;
  int unaff_EBX;
  undefined1 *puVar7;
  int unaff_EBP;
  undefined4 *unaff_ESI;
  undefined2 in_CS;
  byte in_AF;
  
  piVar6 = (int *)CONCAT31((int3)((uint)param_2 >> 8),0x30);
  *unaff_ESI = *unaff_ESI;
  uVar4 = in_EAX | 0x31;
  iVar5 = CONCAT22((short)((uint)param_1 >> 0x10),
                   CONCAT11((char)(in_EAX >> 8) + '3',(byte)param_1 & (byte)unaff_EBX));
  iVar2 = *piVar6;
  *piVar6 = *piVar6 << 0xc;
  if (SCARRY4((int)&stack0x00000000,1)) {
    puVar7 = *(undefined1 **)(unaff_EBX + -0x4ddb3276);
    goto Unwind_00511550_1;
  }
  if (*(int *)CONCAT22((short)((uint)unaff_EBX >> 0x10),CONCAT11(2,-(iVar2 << 0xb < 0))) <
      (int)uVar4) {
    do {
                    /* WARNING: Do nothing block with infinite loop */
    } while( true );
  }
  while( true ) {
    pbVar1 = (byte *)(unaff_EBP + 0x55f3a648);
    *pbVar1 = *pbVar1 ^ (byte)((uint)iVar5 >> 8);
    puVar7 = &DAT_e1bf5949;
    _DAT_e1bf5949 = CONCAT22(DAT_e1bf5949_2,in_CS);
    in_AF = 9 < ((byte)uVar4 & 0xf) | in_AF;
    cVar3 = (char)(uVar4 >> 8);
    uVar4 = CONCAT31((int3)cVar3,(byte)uVar4 + in_AF * '\x06') & 0xffffff0f;
    uVar4 = CONCAT22((short)(uVar4 >> 0x10),CONCAT11(cVar3 + in_AF,(char)uVar4));
    if (!(bool)in_AF && *pbVar1 != 0) {
      _DAT_e1bf5945 = 10;
                    /* WARNING: Bad instruction - Truncating control flow here */
      halt_baddata();
    }
Unwind_00511550_1:
    *(byte *)(uVar4 - 0x49) = *(byte *)(uVar4 - 0x49) ^ (byte)((uint)iVar5 >> 8);
    iVar5 = iVar5 + -1;
    if (iVar5 == 0 || uVar4 == 0x6c1c913) break;
    *(int *)(puVar7 + -4) = unaff_EBP;
  }
                    /* WARNING: Bad instruction - Truncating control flow here */
  halt_baddata();
}


