/*
 * Function: Exception_LogError
 * Address: 004929b0
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


void __thiscall
Exception_LogError(void *this,int *param_1,uint *param_2,uint *param_3,int *param_4,uint *param_5,
                  int param_6)

{
  undefined4 uVar1;
  int *piVar2;
  int *piVar3;
  int iVar4;
  void *this_00;
  int iVar5;
  uint extraout_EDX;
  uint extraout_EDX_00;
  uint extraout_EDX_01;
  uint uVar6;
  undefined4 unaff_EBX;
  int unaff_ESI;
  uint unaff_EDI;
  undefined4 *puVar7;
  ulonglong uVar8;
  int *piVar9;
  undefined1 *puVar10;
  byte *in_stack_ffffff78;
  int local_24;
  int local_20;
  int local_1c;
  int local_18;
  uint *local_14;
  uint *local_10;
  int local_c;
  int local_8;
  
                    /* WARNING: Load size is inaccurate */
  (**(code **)(*this + 0x50))();
  uVar1 = Texture_IsReady((int)this);
  if ((char)uVar1 == '\0') {
    if ((((*(char *)((int)this + 0x56) == '\0') && (*(char *)((int)this + 0x32) == '\0')) &&
        ((*(char *)((int)this + 0x31) == '\0' || (*(char *)((int)this + 0x52) != '\0')))) &&
       (((iVar5 = *(int *)((int)this + 0x48), *(char *)(iVar5 + 0x38) == '\0' ||
         (this == *(void **)(iVar5 + 0xce0))) || (this == *(void **)(iVar5 + 0xcdc))))) {
      if (param_6 == 0) {
                    /* WARNING: Load size is inaccurate */
        (**(code **)(*this + 0x84))(param_1,param_2,param_3,param_4,param_5);
        uVar6 = extraout_EDX_01;
      }
      else {
        uVar6 = extraout_EDX;
        if (param_6 == 1) {
                    /* WARNING: Load size is inaccurate */
          (**(code **)(*this + 0x88))(param_1,param_2,param_3,param_4,param_5);
          System_HandleShutdown2((int)this,extraout_EDX_00);
          return;
        }
      }
      System_HandleShutdown2((int)this,uVar6);
      return;
    }
    Graphics_DrawImageWithMode
              (this,(undefined1 *)param_1,param_2,param_3,param_4,(int *)param_5,param_6);
    return;
  }
  uVar8 = Memory_ValidateHeap(this_00,(undefined1 *)param_1,0,0x566184,
                              &Sexy::DDImage::RTTI_Type_Descriptor,0,unaff_EDI,unaff_ESI,unaff_EBX,
                              in_stack_ffffff78);
  piVar2 = (int *)uVar8;
  if (((piVar2 == (int *)0x0) || (piVar2[0x13] == 0)) ||
     (((*(int *)(*(int *)(*(int *)((int)this + 0x48) + 0x30) + 0x54) != 0 ||
       ((param_6 != 0 ||
        (uVar1 = SexyWidget_ProcessTexture((int *)param_5,&DAT_005a2378), (char)uVar1 == '\0')))) ||
      (*(char *)((int)piVar2 + 0x32) != '\0')))) {
    Exception_HandleCritical
              (*(void **)(*(int *)((int)this + 0x48) + 0x30),param_1,(float)(int)param_2,
               (float)(int)param_3,param_4,param_5,param_6,'\0');
    return;
  }
  if (0 < *(int *)((int)this + 0x58)) {
    (**(code **)(**(int **)((int)this + 0x4c) + 0x80))(*(int **)((int)this + 0x4c),0);
  }
  puVar7 = (undefined4 *)&stack0xffffff78;
  for (iVar5 = 0x19; iVar5 != 0; iVar5 = iVar5 + -1) {
    *puVar7 = 0;
    puVar7 = puVar7 + 1;
  }
  param_5 = (uint *)0x1000000;
  if (*(char *)((int)piVar2 + 0x31) != '\0') {
    param_5 = (uint *)0x1008000;
  }
  local_14 = param_2;
  local_c = (int)param_2 + param_4[2];
  local_10 = param_3;
  local_8 = (int)param_3 + param_4[3];
  local_24 = *param_4;
  local_20 = param_4[1];
  local_1c = local_24 + param_4[2];
  local_18 = local_20 + param_4[3];
  piVar3 = (int *)SexyWidget_EnsureTexture((int *)this);
  puVar10 = &stack0xffffff78;
  iVar5 = *piVar3;
  piVar9 = &local_24;
  iVar4 = SexyWidget_EnsureTexture(piVar2);
  (**(code **)(iVar5 + 0x14))(piVar3,&local_14,iVar4,piVar9,param_5,puVar10);
  if (*(int *)((int)this + 0x58) < 1) {
    return;
  }
  (**(code **)(**(int **)((int)this + 0x4c) + 100))
            (*(int **)((int)this + 0x4c),0,(int)this + 0x5c,1,0);
  return;
}


