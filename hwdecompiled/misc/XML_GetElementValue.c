/*
 * Function: XML_GetElementValue
 * Address: 0044e0e0
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


uint __thiscall XML_GetElementValue(void *this,char *param_1,uint param_2,uint param_3)

{
  uint uVar1;
  uint uVar2;
  char *pcVar3;
  char *pcVar4;
  char *pcVar5;
  char *pcVar6;
  bool bVar7;
  
  if (param_3 == 0) {
    if (*(uint *)((int)this + 0x14) <= param_2) {
      return *(uint *)((int)this + 0x14);
    }
  }
  else {
    if (param_3 <= *(uint *)((int)this + 0x14)) {
      uVar2 = *(uint *)((int)this + 0x14) - param_3;
      if (param_2 < uVar2) {
        uVar2 = param_2;
      }
      uVar1 = *(uint *)((int)this + 0x18);
      pcVar5 = (char *)((int)this + 4);
      pcVar3 = pcVar5;
      if (0xf < uVar1) {
        pcVar3 = *(char **)pcVar5;
      }
      pcVar3 = pcVar3 + uVar2;
      do {
        if (*pcVar3 == *param_1) {
          bVar7 = true;
          uVar2 = param_3;
          pcVar4 = pcVar3;
          pcVar6 = param_1;
          do {
            if (uVar2 == 0) break;
            uVar2 = uVar2 - 1;
            bVar7 = *pcVar4 == *pcVar6;
            pcVar4 = pcVar4 + 1;
            pcVar6 = pcVar6 + 1;
          } while (bVar7);
          if (bVar7) {
            if (0xf < uVar1) {
              pcVar5 = *(char **)pcVar5;
            }
            return (int)pcVar3 - (int)pcVar5;
          }
        }
        pcVar4 = pcVar5;
        if (0xf < uVar1) {
          pcVar4 = *(char **)pcVar5;
        }
        if (pcVar3 == pcVar4) break;
        pcVar3 = pcVar3 + -1;
      } while( true );
    }
    param_2 = 0xffffffff;
  }
  return param_2;
}


