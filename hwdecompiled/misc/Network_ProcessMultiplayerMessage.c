/*
 * Function: Network_ProcessMultiplayerMessage
 * Address: 004a6830
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


void __fastcall Network_ProcessMultiplayerMessage(int param_1)

{
  undefined4 uVar1;
  bool bVar2;
  uint uVar3;
  uint extraout_EDX;
  uint extraout_EDX_00;
  undefined8 uVar4;
  _String_base local_48 [28];
  undefined1 local_2c [28];
  void *local_10;
  undefined *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &DAT_005159e0;
  local_10 = ExceptionList;
  if (DAT_0056da10 != 0) {
    if (*(char *)(DAT_0056da10 + 0x491) == '\0') {
      if ((*(char *)(DAT_0056da10 + 0x490) != '\0') &&
         (*(int *)(param_1 + 0xf4) != *(int *)(param_1 + 0xf8))) {
        ExceptionList = &local_10;
        Threading_TerminateThread(DAT_0056da10);
        BitStream_WriteBits((void *)(DAT_0056da10 + 0x4cc),0,1);
        BitStream_WriteBits((void *)(DAT_0056da10 + 0x4cc),0x11,5);
        BitStream_WriteLong((void *)(DAT_0056da10 + 0x4cc),*(undefined4 *)(param_1 + 4));
        BitStream_WriteByte((void *)(DAT_0056da10 + 0x4cc),*(byte *)(param_1 + 0xf4));
        if (*(int *)(param_1 + 0xf4) == 2) {
          Level_InitializeDictastroika(local_2c,"");
          local_8 = 1;
          BitStream_WriteString((void *)(DAT_0056da10 + 0x4cc),(int)local_2c);
          String_Destructor((int)local_2c,extraout_EDX_00);
        }
        else {
          BitStream_WriteString((void *)(DAT_0056da10 + 0x4cc),param_1 + 0xd4);
        }
        *(undefined4 *)(param_1 + 0xf8) = *(undefined4 *)(param_1 + 0xf4);
      }
    }
    else {
      ExceptionList = &local_10;
      bVar2 = Threading_WaitForThread(DAT_0056da10);
      if (((bVar2) && (*(char *)(DAT_0056da10 + 0x4fd) == '\0')) &&
         (*(int *)(DAT_0056da10 + 0x500) == 0x11)) {
        uVar1 = *(undefined4 *)(DAT_0056da10 + 0x4e4);
        uVar3 = Array_Initialize(DAT_0056da10 + 0x4cc);
        if (uVar3 == *(uint *)(param_1 + 4)) {
          uVar3 = String_ToLowerCase(DAT_0056da10 + 0x4cc);
          *(uint *)(param_1 + 0xf4) = uVar3 & 0xff;
          uVar4 = Image_FlipHorizontal((void *)(DAT_0056da10 + 0x4cc),local_48);
          local_8 = 0;
          Level_InitializeZamblamia
                    ((_String_base *)(param_1 + 0xd4),(uint)((ulonglong)uVar4 >> 0x20),
                     (_String_base *)uVar4);
          String_Destructor((int)local_48,extraout_EDX);
          *(undefined4 *)(param_1 + 0xf8) = *(undefined4 *)(param_1 + 0xf4);
          *(undefined1 *)(DAT_0056da10 + 0x4fc) = 1;
          ExceptionList = local_10;
          return;
        }
        *(undefined4 *)(DAT_0056da10 + 0x4e4) = uVar1;
        ExceptionList = local_10;
        return;
      }
    }
  }
  ExceptionList = local_10;
  return;
}


