/*
 * Function: Input_SetCursorVisible
 * Address: 004a2690
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


void Input_SetCursorVisible(void)

{
  double dVar1;
  int *in_EAX;
  int *piVar2;
  uint uVar3;
  int iVar4;
  int iVar5;
  int local_3c [2];
  undefined4 local_34;
  undefined4 local_30;
  undefined4 local_2c;
  undefined4 local_28;
  undefined4 local_1c;
  undefined4 local_18;
  undefined4 local_14;
  undefined4 local_10;
  undefined4 local_c;
  int iStack_8;
  
  local_3c[0] = *in_EAX;
  local_10 = 0;
  local_14 = 0;
  local_18 = 0;
  local_1c = 0;
  local_28 = 0;
  local_2c = 0;
  local_30 = 0;
  local_34 = 0;
  if ((char)in_EAX[4] == '\0') {
    Array_AddElement(0x5a386c,(char)local_3c,&iStack_8,local_3c);
    if (iStack_8 != DAT_005a3870) {
      piVar2 = (int *)(iStack_8 + 0x38);
      *piVar2 = *piVar2 + -1;
      if (*piVar2 == 0) {
        uVar3 = in_EAX[2] - *(uint *)(iStack_8 + 0x18);
        iVar5 = (in_EAX[3] - *(int *)(iStack_8 + 0x1c)) -
                (uint)((uint)in_EAX[2] < *(uint *)(iStack_8 + 0x18));
        dVar1 = (double)CONCAT44(iVar5,uVar3);
        *(uint *)(iStack_8 + 0x24) =
             *(int *)(iStack_8 + 0x24) + iVar5 + (uint)CARRY4(*(uint *)(iStack_8 + 0x20),uVar3);
        *(uint *)(iStack_8 + 0x20) = *(uint *)(iStack_8 + 0x20) + uVar3;
        if (*(double *)(iStack_8 + 0x30) < dVar1) {
          *(double *)(iStack_8 + 0x30) = dVar1;
          return;
        }
      }
    }
  }
  else {
    piVar2 = (int *)Music_SetPosition(&DAT_005a386c,&local_c,local_3c);
    iVar5 = *piVar2;
    *(int *)(iVar5 + 0x3c) = *(int *)(iVar5 + 0x3c) + 1;
    iVar4 = *(int *)(iVar5 + 0x38) + 1;
    *(int *)(iVar5 + 0x38) = iVar4;
    if (iVar4 == 1) {
      *(int *)(iVar5 + 0x18) = in_EAX[2];
      *(int *)(iVar5 + 0x1c) = in_EAX[3];
      return;
    }
  }
  return;
}


