/*
 * Function: TextureManager_GetCacheSize
 * Address: 004badd0
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


void __cdecl TextureManager_GetCacheSize(int *param_1,int *param_2)

{
  undefined1 *puVar1;
  uint uVar2;
  uint uVar3;
  int iVar4;
  undefined4 *puVar5;
  int *piVar6;
  
  uVar2 = (uint)param_2[4] >> 3 & 0x3f;
  puVar1 = (undefined1 *)(uVar2 + 0x18 + (int)param_2);
  iVar4 = -uVar2;
  uVar2 = iVar4 + 0x3f;
  *puVar1 = 0x80;
  puVar5 = (undefined4 *)(puVar1 + 1);
  if (uVar2 < 8) {
    for (uVar3 = uVar2 >> 2; uVar3 != 0; uVar3 = uVar3 - 1) {
      *puVar5 = 0;
      puVar5 = puVar5 + 1;
    }
    for (uVar2 = uVar2 & 3; uVar2 != 0; uVar2 = uVar2 - 1) {
      *(undefined1 *)puVar5 = 0;
      puVar5 = (undefined4 *)((int)puVar5 + 1);
    }
    Texture_Compare(param_2,param_2 + 6);
    piVar6 = param_2 + 6;
    for (iVar4 = 0xe; iVar4 != 0; iVar4 = iVar4 + -1) {
      *piVar6 = 0;
      piVar6 = piVar6 + 1;
    }
  }
  else {
    uVar3 = iVar4 + 0x37;
    for (uVar2 = uVar3 >> 2; uVar2 != 0; uVar2 = uVar2 - 1) {
      *puVar5 = 0;
      puVar5 = puVar5 + 1;
    }
    for (uVar3 = uVar3 & 3; uVar3 != 0; uVar3 = uVar3 - 1) {
      *(undefined1 *)puVar5 = 0;
      puVar5 = (undefined4 *)((int)puVar5 + 1);
    }
  }
  param_2[0x14] = param_2[4];
  param_2[0x15] = param_2[5];
  Texture_Compare(param_2,param_2 + 6);
  *param_1 = *param_2;
  param_1[1] = param_2[1];
  param_1[2] = param_2[2];
  param_1[3] = param_2[3];
  *param_2 = 0;
  return;
}


