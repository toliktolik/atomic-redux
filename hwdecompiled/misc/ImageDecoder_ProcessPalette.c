/*
 * Function: ImageDecoder_ProcessPalette
 * Address: 004cd970
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void __fastcall
ImageDecoder_ProcessPalette
          (undefined4 param_1,byte *param_2,byte *param_3,double param_4,double param_5,
          double param_6,double param_7,double param_8,double param_9,double param_10,
          double param_11)

{
  byte *extraout_ECX;
  byte *extraout_ECX_00;
  byte *pbVar1;
  byte *extraout_EDX;
  byte *extraout_EDX_00;
  ulonglong uVar2;
  uint unaff_retaddr;
  char *pcVar3;
  undefined4 *in_stack_ffffffd8;
  undefined4 *in_stack_ffffffdc;
  undefined1 local_20 [4];
  undefined1 local_1c [4];
  undefined1 local_18 [4];
  undefined1 local_14 [4];
  undefined1 local_10 [4];
  undefined1 local_c [4];
  uint local_8;
  
  local_8 = DAT_00569f5c ^ unaff_retaddr;
  pbVar1 = param_3;
  if ((((param_4 < _DAT_0052a0c0 != (NAN(param_4) || NAN(_DAT_0052a0c0))) ||
       (_DAT_0052cd40 < param_4)) ||
      (param_5 < _DAT_0052a0c0 != (NAN(param_5) || NAN(_DAT_0052a0c0)))) ||
     ((_DAT_0052cd40 < param_5 || (_DAT_0052a0f0 < param_4 + param_5)))) {
    pcVar3 = "Invalid cHRM white point specified";
  }
  else {
    uVar2 = Math_FloatToUInt64();
    Renderer_BeginScene(&stack0xffffffd8,(int)uVar2);
    uVar2 = Math_FloatToUInt64();
    Renderer_BeginScene(&stack0xffffffdc,(int)uVar2);
    if (((param_6 < _DAT_0052a0c0 != (NAN(param_6) || NAN(_DAT_0052a0c0))) ||
        (_DAT_0052cd40 < param_6)) ||
       ((param_7 < _DAT_0052a0c0 != (NAN(param_7) || NAN(_DAT_0052a0c0)) ||
        ((_DAT_0052cd40 < param_7 || (_DAT_0052a0f0 < param_6 + param_7)))))) {
      pcVar3 = "Invalid cHRM red point specified";
      pbVar1 = extraout_ECX;
      param_2 = extraout_EDX;
    }
    else {
      uVar2 = Math_FloatToUInt64();
      Renderer_BeginScene(local_20,(int)uVar2);
      uVar2 = Math_FloatToUInt64();
      Renderer_BeginScene(local_1c,(int)uVar2);
      if ((((param_8 < _DAT_0052a0c0 != (NAN(param_8) || NAN(_DAT_0052a0c0))) ||
           (_DAT_0052cd40 < param_8)) ||
          (param_9 < _DAT_0052a0c0 != (NAN(param_9) || NAN(_DAT_0052a0c0)))) ||
         ((_DAT_0052cd40 < param_9 || (_DAT_0052a0f0 < param_8 + param_9)))) {
        pcVar3 = "Invalid cHRM green point specified";
        pbVar1 = extraout_ECX_00;
        param_2 = param_3;
      }
      else {
        uVar2 = Math_FloatToUInt64();
        Renderer_BeginScene(local_18,(int)uVar2);
        uVar2 = Math_FloatToUInt64();
        Renderer_BeginScene(local_14,(int)uVar2);
        if (((param_10 < _DAT_0052a0c0 == (NAN(param_10) || NAN(_DAT_0052a0c0))) &&
            (param_10 <= _DAT_0052cd40)) &&
           ((param_11 < _DAT_0052a0c0 == (NAN(param_11) || NAN(_DAT_0052a0c0)) &&
            ((param_11 <= _DAT_0052cd40 && (param_10 + param_11 <= _DAT_0052a0f0)))))) {
          uVar2 = Math_FloatToUInt64();
          Renderer_BeginScene(local_10,(int)uVar2);
          uVar2 = Math_FloatToUInt64();
          Renderer_BeginScene(local_c,(int)uVar2);
          ImageDecoder_ProcessHeader((uint)param_3,(byte *)&DAT_00567d04,&stack0xffffffd8,0x20);
          Exception_SetMessage
                    ((void *)(local_8 ^ unaff_retaddr),in_stack_ffffffd8,in_stack_ffffffdc);
          return;
        }
        pcVar3 = "Invalid cHRM blue point specified";
        param_2 = extraout_EDX_00;
      }
    }
  }
  CPU_Instruction21(pbVar1,param_2,(uint)param_3,pcVar3);
  Exception_SetMessage((void *)(local_8 ^ unaff_retaddr),in_stack_ffffffd8,in_stack_ffffffdc);
  return;
}


