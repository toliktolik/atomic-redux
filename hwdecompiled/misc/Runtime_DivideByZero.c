/*
 * Function: Runtime_DivideByZero
 * Address: 00504400
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


/* WARNING: Control flow encountered bad instruction data */
/* WARNING: Instruction at (ram,0x00504444) overlaps instruction at (ram,0x00504443)
    */
/* WARNING: Removing unreachable block (ram,0x00504373) */
/* WARNING: Removing unreachable block (ram,0x00504426) */
/* WARNING: Removing unreachable block (ram,0x00504487) */
/* WARNING: Removing unreachable block (ram,0x005043fa) */
/* WARNING: Removing unreachable block (ram,0x0050442e) */
/* WARNING: Removing unreachable block (ram,0x00504432) */
/* WARNING: Removing unreachable block (ram,0x00504451) */
/* WARNING: Removing unreachable block (ram,0x0050444f) */
/* WARNING: Removing unreachable block (ram,0x00504447) */
/* WARNING: Removing unreachable block (ram,0x0050444c) */
/* WARNING: Removing unreachable block (ram,0x00504453) */
/* WARNING: Removing unreachable block (ram,0x005044aa) */
/* WARNING: Removing unreachable block (ram,0x00504463) */
/* WARNING: Removing unreachable block (ram,0x00504444) */
/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void __fastcall Runtime_DivideByZero(uint param_1,uint *param_2)

{
  char *pcVar1;
  undefined1 uVar2;
  code *pcVar3;
  uint in_EAX;
  undefined4 uVar4;
  uint uVar5;
  undefined2 uVar6;
  uint unaff_EBX;
  int unaff_EBP;
  byte *unaff_ESI;
  byte *pbVar7;
  undefined4 *unaff_EDI;
  uint *puVar8;
  undefined2 in_SS;
  bool bVar9;
  uint unaff_retaddr;
  uint auStack_3c [12];
  undefined1 uStack_c;
  undefined1 uStack_b;
  undefined4 *puStack_8;
  undefined2 uStack_4;
  undefined2 uStack_2;
  
  while( true ) {
    uVar5 = param_1 - 1;
    uVar6 = SUB42(param_2,0);
    if (uVar5 == 0) {
      *(undefined4 *)unaff_ESI = *(undefined4 *)unaff_ESI;
      bVar9 = (unaff_retaddr & 0x400) != 0;
      _uStack_4 = CONCAT22(uStack_2,(short)unaff_ESI);
      puStack_8 = unaff_EDI;
      *unaff_ESI = *unaff_ESI - (char)param_2;
      out(0xc4,in_EAX);
      pbVar7 = unaff_ESI + (uint)bVar9 * -8 + 4;
      out(*(undefined4 *)unaff_ESI,uVar6);
      if ((in_EAX & 0xd3) == 0) {
                    /* WARNING: Bad instruction - Truncating control flow here */
        halt_baddata();
      }
      *unaff_EDI = *(undefined4 *)pbVar7;
      uStack_c = (undefined1)in_SS;
      uStack_b = (undefined1)((ushort)in_SS >> 8);
      out(uVar6,(char)in_EAX);
      uVar4 = CONCAT22((short)(in_EAX + 0x75cd7b44 >> 0x10),
                       CONCAT11(0x45,(char)(in_EAX + 0x75cd7b44)));
      puVar8 = (uint *)((int)unaff_EDI + (uint)bVar9 * -8 + 3);
      out(0x58,uVar4);
      uVar5 = 0x97fe;
      _DAT_89179395 = _DAT_89179395 ^ unaff_EBX;
      unaff_ESI = pbVar7 + (uint)bVar9 * -8 + 4 + (uint)bVar9 * -2 + 1;
      in_EAX = CONCAT31((int3)((uint)uVar4 >> 8),pbVar7[(uint)bVar9 * -8 + 4]);
      unaff_EDI = (undefined4 *)((int)unaff_EDI + (uint)bVar9 * -8 + (uint)bVar9 * -8 + 7);
      *puVar8 = in_EAX;
    }
    else {
      unaff_EBX = unaff_EBX + 1;
    }
    puVar8 = auStack_3c + unaff_EBX * 2;
    *puVar8 = *puVar8 | uVar5;
    unaff_retaddr = uVar5 - 1;
    if (unaff_retaddr != 0 && *puVar8 != 0) break;
    pcVar1 = (char *)((int)unaff_EDI + -0x75);
    *pcVar1 = *pcVar1 - (char)unaff_EBX;
    if (uVar5 != 2) {
      in(0x8d);
      if (*pcVar1 < '\0') {
        *(uint **)((int)param_2 + 0x4fcde0da) = param_2;
        uVar2 = in(uVar6);
        *(undefined1 *)((int)unaff_EDI + -2) = uVar2;
        *unaff_ESI = *unaff_ESI | 0x7b;
        LOCK();
        *(byte **)(unaff_EBP + -0x3e632992) = unaff_ESI;
        UNLOCK();
        pcVar3 = (code *)swi(1);
        (*pcVar3)();
        return;
      }
                    /* WARNING: Bad instruction - Truncating control flow here */
      halt_baddata();
    }
    in_EAX = CONCAT31((int3)(in_EAX >> 8),uRamf15fd79b);
    param_1 = 0;
    unaff_EDI = (undefined4 *)((int)unaff_EDI + -1);
  }
  *unaff_EDI = (int)(CONCAT44(param_2,in_EAX) / (ulonglong)*(uint *)(unaff_EBP + -0xa5f00));
                    /* WARNING: Do nothing block with infinite loop */
  do {
  } while( true );
}


