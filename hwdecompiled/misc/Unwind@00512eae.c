/*
 * Function: Unwind@00512eae
 * Address: 00512eae
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


/* WARNING: Instruction at (ram,0x00512eee) overlaps instruction at (ram,0x00512eec)
    */
/* WARNING: Control flow encountered bad instruction data */
/* WARNING: Unable to track spacebase fully for stack */
/* WARNING: Removing unreachable block (ram,0x00512fc2) */
/* WARNING: Removing unreachable block (ram,0x00512fc6) */
/* WARNING: Removing unreachable block (ram,0x00512fc8) */
/* WARNING: Removing unreachable block (ram,0x00512fd3) */
/* WARNING: Removing unreachable block (ram,0x00512fd7) */
/* WARNING: Removing unreachable block (ram,0x00512fcb) */
/* WARNING: Removing unreachable block (ram,0x00512ff9) */
/* WARNING: Removing unreachable block (ram,0x00512ffa) */
/* WARNING: Removing unreachable block (ram,0x00512ffb) */
/* WARNING: Removing unreachable block (ram,0x0051300c) */
/* WARNING: Removing unreachable block (ram,0x00512fb4) */
/* WARNING: Removing unreachable block (ram,0x00512fe9) */
/* WARNING: Removing unreachable block (ram,0x00512fea) */
/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

undefined1 * __fastcall Unwind_00512eae(undefined4 param_1,int param_2)

{
  uint *puVar1;
  int *piVar2;
  char *pcVar3;
  int iVar4;
  undefined4 uVar5;
  int iVar6;
  longlong lVar7;
  code *pcVar8;
  byte bVar9;
  undefined1 uVar10;
  undefined2 uVar11;
  char *in_EAX;
  undefined1 *puVar12;
  uint uVar13;
  undefined1 *puVar14;
  undefined4 extraout_ECX;
  uint uVar16;
  int extraout_EDX;
  int *unaff_EBX;
  int unaff_EBP;
  uint unaff_ESI;
  undefined4 *unaff_EDI;
  undefined4 *puVar17;
  undefined2 in_CS;
  char in_CF;
  bool bVar18;
  float10 extraout_ST0;
  undefined1 uStack_9;
  byte bStack_8;
  undefined1 uStack_7;
  undefined2 uStack_6;
  uint uStack_4;
  undefined3 uVar15;
  
  do {
    uStack_4 = unaff_ESI;
    uVar11 = (undefined2)((uint)in_EAX >> 0x10);
    bVar9 = (byte)in_EAX;
    in_EAX = (char *)CONCAT22(uVar11,CONCAT11(0xfd,bVar9));
    param_2 = CONCAT31((int3)((uint)param_2 >> 8),(char)param_2 + -3 + in_CF);
    *(char *)(param_2 + -0x1b95e7a) = *(char *)(param_2 + -0x1b95e7a) + -0x45;
    puVar17 = unaff_EDI + 1;
    _DAT_b47af302 = in_EAX;
    *in_EAX = *in_EAX - (char)unaff_EBX;
    unaff_ESI = uStack_4 + 4 | 0x45241cd7;
    if ((in_EAX[0x7b161771] & bVar9) == 0) {
      lVar7 = (longlong)*unaff_EBX * 0x5d;
      if ((int)lVar7 != lVar7) {
        *(byte *)(unaff_EBP + 0x2b9b0b67) = *(byte *)(unaff_EBP + 0x2b9b0b67) & 0x21;
        goto code_r0x00512f0f;
      }
      uVar15 = (undefined3)((uint)in_EAX >> 8);
      puVar12 = (undefined1 *)CONCAT31(uVar15,0xdd);
      puVar14 = (undefined1 *)(unaff_EBP + 0x5c + (int)lVar7);
      *puVar14 = 0;
      if ((POPCOUNT(*puVar14) & 1U) == 0) {
        bVar18 = puVar12 < &DAT_14091534;
        if ((int)puVar12 < 0x14091534) {
          uVar10 = in(0xf8);
          puVar12 = (undefined1 *)CONCAT31(uVar15,uVar10);
          puVar17 = (undefined4 *)((int)puVar17 + (-(uint)bVar18 - uStack_4));
        }
        puVar14 = puVar12 + -0x8e6071c;
        piVar2 = (int *)(uStack_4 + 0x65e6be2a);
        iVar6 = *piVar2;
        iVar4 = *piVar2;
        *piVar2 = (iVar4 + 0x7b5733fa) - (uint)((undefined1 *)0x8e6071b < puVar12);
        if ((SBORROW4(iVar6,-0x7b5733fa) !=
            SBORROW4(iVar4 + 0x7b5733fa,(uint)((undefined1 *)0x8e6071b < puVar12))) == *piVar2 < 0)
        {
          return puVar14;
        }
        LOCK();
        iVar6 = puVar17[-0xc091316];
        puVar17[-0xc091316] = puVar17;
        UNLOCK();
        pcVar3 = (char *)(iVar6 + 0x470434e3);
        *pcVar3 = (*pcVar3 + -0x5c) -
                  (0xb5767d37 < (CONCAT31((int3)((uint)puVar14 >> 8),(char)puVar14 + '\'') ^ 0x13));
        do {
                    /* WARNING: Do nothing block with infinite loop */
        } while( true );
      }
      uVar5 = in((short)lVar7);
      *puVar17 = uVar5;
      puVar1 = (uint *)((int)unaff_EBX + 0x644b7643);
      *puVar1 = *puVar1 >> 4 | *puVar1 << 0x1c;
      goto code_r0x00512f08;
    }
    uStack_7 = 0xfd;
    puVar1 = (uint *)(unaff_ESI + 0xb0892f48);
    *puVar1 = *puVar1 >> 1;
    puVar1 = (uint *)((int)unaff_EDI + 0x7b69d3b9);
    in_CF = 0x62d075df < *puVar1;
    unaff_EDI = puVar17;
    bStack_8 = bVar9;
    uStack_6 = uVar11;
  } while (!SCARRY4(*puVar1,-0x62d075e0));
  uRamcca4f6e7 = (undefined1)(CONCAT11(in_CF,uRamcca4f6e7) >> 1);
code_r0x00512f08:
  pcVar8 = (code *)swi(0xe2);
  (*pcVar8)();
code_r0x00512f0f:
  do {
    uStack_9 = (undefined1)in_CS;
    bStack_8 = (byte)((ushort)in_CS >> 8);
    in_CS = 0xf2fd;
    uVar11 = func_0x55551f31();
    bVar9 = *(byte *)(extraout_EDX + -0x2725cacd);
    *(int *)(unaff_EBP + 3) = *(int *)(unaff_EBP + 3) - unaff_EBP;
    *(longlong *)(unaff_EBP + -0x53) = (longlong)extraout_ST0;
    *(byte *)(unaff_EBP + 0x2b9b0b67) = *(byte *)(unaff_EBP + 0x2b9b0b67) & (byte)extraout_ECX;
    uVar16 = CONCAT22((short)((uint)extraout_ECX >> 0x10),CONCAT11(0x66,(byte)extraout_ECX));
    puVar1 = (uint *)(uVar16 + 0x53);
    *puVar1 = *puVar1 ^ (uint)&bStack_8;
    uVar13 = CONCAT31((int3)(char)((byte)((ushort)uVar11 >> 8) | bVar9),(char)uVar11) | 0x7ff17bae;
    bVar18 = -1 < (int)(uVar16 & *(uint *)(CONCAT13(uStack_9,0x512f) + 0xd));
    if (bVar18) {
      if (!bVar18) {
        pcVar8 = (code *)swi(1);
        puVar14 = (undefined1 *)(*pcVar8)();
        return puVar14;
      }
      bStack_8 = (byte)in_CS;
      uStack_7 = (undefined1)((ushort)in_CS >> 8);
      puVar14 = (undefined1 *)func_0xbaa29bee();
      out(0x68,(char)puVar14);
      return puVar14;
    }
    iVar6 = uVar13 + 0x7a5ed65c;
  } while ((SCARRY4(uVar13,0x7a5ed65c) != SCARRY4(iVar6,0)) != iVar6 < 0);
  pcVar8 = (code *)swi(3);
  puVar14 = (undefined1 *)(*pcVar8)();
  return puVar14;
}


