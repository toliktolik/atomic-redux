/*
 * Function: Database_CloseResultSet
 * Address: 00450c20
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


void __thiscall Database_CloseResultSet(void *this,int param_1)

{
  char cVar1;
  int iVar2;
  tagMSG local_24;
  int local_8;
  
  local_8 = 0;
                    /* WARNING: Load size is inaccurate */
  if ((param_1 == -1) || (local_8 = (**(code **)(*this + 0xfc))(param_1), local_8 != 0)) {
    cVar1 = *(char *)((int)this + 0x2fd);
    while (cVar1 == '\0') {
      iVar2 = PeekMessageA(&local_24,(HWND)0x0,0,0,1);
      while ((iVar2 != 0 && (*(char *)((int)this + 0x2fd) == '\0'))) {
        TranslateMessage(&local_24);
        DispatchMessageA(&local_24);
        iVar2 = PeekMessageA(&local_24,(HWND)0x0,0,0,1);
      }
      Threading_SuspendThread((int *)this);
      Locale_TransformText((int *)this);
      if ((local_8 != 0) && (*(int *)(local_8 + 0x108) != -1)) {
        return;
      }
      if (*(char *)((int)this + 0x2fd) != '\0') {
        return;
      }
                    /* WARNING: Load size is inaccurate */
      (**(code **)(*this + 0x1c))(1);
      cVar1 = *(char *)((int)this + 0x2fd);
    }
  }
  return;
}


