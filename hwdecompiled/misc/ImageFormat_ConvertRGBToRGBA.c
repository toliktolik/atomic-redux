/*
 * Function: ImageFormat_ConvertRGBToRGBA
 * Address: 004bc660
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


undefined4 __fastcall ImageFormat_ConvertRGBToRGBA(int param_1,uint param_2,int *param_3)

{
  int *piVar1;
  int *piVar2;
  void *this;
  int extraout_ECX;
  int iVar3;
  uint extraout_EDX;
  uint extraout_EDX_00;
  uint uVar4;
  uint extraout_EDX_01;
  uint extraout_EDX_02;
  int iVar5;
  int iVar6;
  
  piVar2 = param_3;
  iVar6 = 0;
  if (param_3 != (int *)0x0) {
    CPU_ProcessData14(param_1,param_2,param_3 + 0x2e);
    CPU_ProcessData18(param_3 + 0x1a,extraout_EDX,param_3 + 0x1a);
    CPU_CleanupContext(this,(undefined4 *)param_3[0x18]);
    if ((param_3[0xc] != 0) && (piVar1 = param_3 + 7, *piVar1 != 0)) {
      param_3 = (int *)0x0;
      iVar3 = extraout_ECX;
      if (0 < *piVar1) {
        iVar5 = 0;
        uVar4 = extraout_EDX_00;
        do {
          CPU_ProcessData4(iVar3,uVar4,(undefined4 *)(piVar2[0xc] + iVar6));
          CPU_ProcessData2(piVar2[0xd] + iVar5,extraout_EDX_01,(int *)(piVar2[0xd] + iVar5));
          iVar3 = piVar2[7];
          param_3 = (int *)((int)param_3 + 1);
          iVar6 = iVar6 + 0x20;
          iVar5 = iVar5 + 0x10;
          uVar4 = extraout_EDX_02;
        } while ((int)param_3 < iVar3);
      }
                    /* WARNING: Subroutine does not return */
      System_ShutdownHandler(iVar3,piVar2[0xc]);
    }
    if (param_3[9] != 0) {
                    /* WARNING: Subroutine does not return */
      System_ShutdownHandler(extraout_ECX,extraout_EDX_00);
    }
    if (param_3[0xb] != 0) {
                    /* WARNING: Subroutine does not return */
      System_ShutdownHandler(extraout_ECX,extraout_EDX_00);
    }
    if (param_3[10] != 0) {
                    /* WARNING: Subroutine does not return */
      System_ShutdownHandler(extraout_ECX,extraout_EDX_00);
    }
    if (param_3[8] != 0) {
                    /* WARNING: Subroutine does not return */
      System_ShutdownHandler(extraout_ECX,extraout_EDX_00);
    }
    CPU_ResetCompleteState((void *)param_3[6],(undefined4 *)param_3[6]);
    if (*param_3 != 0) {
      (*(code *)param_3[0x48])(*param_3);
    }
    for (iVar6 = 0x4a; iVar6 != 0; iVar6 = iVar6 + -1) {
      *param_3 = 0;
      param_3 = param_3 + 1;
    }
  }
  return 0;
}


