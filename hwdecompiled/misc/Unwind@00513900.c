/*
 * Function: Unwind@00513900
 * Address: 00513900
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


/* WARNING: Control flow encountered bad instruction data */

undefined4 __fastcall Unwind_00513900(int param_1,undefined4 param_2)

{
  byte *pbVar1;
  int *piVar2;
  undefined1 uVar3;
  byte bVar4;
  float10 fVar5;
  short in_AX;
  undefined4 uVar6;
  int iVar7;
  byte bVar8;
  short *psVar9;
  int unaff_EBP;
  int unaff_ESI;
  byte *unaff_EDI;
  bool in_CF;
  unkbyte10 in_ST0;
  
  if (in_CF) {
    *unaff_EDI = (byte)in_AX & 0x37;
    uVar6 = in(0x46);
    return uVar6;
  }
  LOCK();
  uVar3 = *(undefined1 *)(unaff_EBP + -0x78);
  *(undefined1 *)(unaff_EBP + -0x78) = (char)param_2;
  psVar9 = (short *)CONCAT31((int3)((uint)param_2 >> 8),uVar3);
  UNLOCK();
  fVar5 = (float10)fcos(in_ST0);
  fsin(in_ST0);
  *psVar9 = (short)ROUND(fVar5);
  iVar7 = CONCAT22((ushort)(in_AX >> 0xf) >> 1 | (ushort)(((uint)in_CF << 0x1f) >> 0x10),0x7a0a);
  pbVar1 = (byte *)(param_1 + -0x4b362f33);
  bVar4 = *pbVar1;
  bVar8 = (byte)((uint)param_1 >> 8);
  *pbVar1 = *pbVar1 + bVar8;
  piVar2 = (int *)(iVar7 + 0x5ccdd29a);
  *piVar2 = (*piVar2 - iVar7) - (uint)CARRY1(bVar4,bVar8);
  *(int *)(unaff_ESI + -1) = *(int *)(unaff_ESI + -1) + (int)psVar9;
                    /* WARNING: Bad instruction - Truncating control flow here */
  halt_baddata();
}


