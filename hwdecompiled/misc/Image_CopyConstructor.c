/*
 * Function: Image_CopyConstructor
 * Address: 0049db90
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


void __cdecl
Image_CopyConstructor(_String_base *param_1,_String_base *param_2,_String_base *param_3)

{
  undefined1 uVar1;
  char *pcVar2;
  _String_base *p_Var3;
  uint uVar4;
  int extraout_ECX;
  int extraout_ECX_00;
  undefined4 extraout_ECX_01;
  undefined4 extraout_ECX_02;
  int extraout_ECX_03;
  undefined4 *extraout_ECX_04;
  undefined4 extraout_ECX_05;
  undefined4 extraout_ECX_06;
  undefined4 *extraout_ECX_07;
  undefined4 *extraout_ECX_08;
  undefined4 *puVar5;
  int extraout_ECX_09;
  uint extraout_EDX;
  undefined4 *extraout_EDX_00;
  char *pcVar6;
  uint extraout_EDX_01;
  undefined4 *extraout_EDX_02;
  uint extraout_EDX_03;
  undefined4 *extraout_EDX_04;
  uint extraout_EDX_05;
  uint extraout_EDX_06;
  uint extraout_EDX_07;
  undefined4 *extraout_EDX_08;
  uint extraout_EDX_09;
  uint extraout_EDX_10;
  undefined4 *extraout_EDX_11;
  undefined4 *puVar7;
  undefined4 *puVar8;
  uint unaff_retaddr;
  undefined4 *in_stack_ffffff90;
  undefined4 *in_stack_ffffff94;
  undefined4 *puVar9;
  uint local_58;
  _String_base local_54 [4];
  uint local_50;
  undefined4 local_40;
  uint local_3c;
  _String_base local_38 [4];
  uint local_34;
  undefined4 local_24;
  uint local_20;
  undefined4 local_1c;
  char local_18 [4];
  uint local_14;
  void *local_10;
  undefined4 uStack_c;
  undefined4 local_8;
  
  uStack_c = 0x515750;
  local_10 = ExceptionList;
  local_14 = DAT_00569f5c ^ unaff_retaddr;
  local_1c = 0;
  local_20 = 0xf;
  local_24 = 0;
  local_34 = local_34 & 0xffffff00;
  local_8 = 0;
  ExceptionList = &local_10;
  p_Var3 = GameMenu_ProcessRegistrationScreen(param_3,local_54,0,7);
  local_8._0_1_ = 1;
  pcVar2 = "http://";
  do {
    pcVar6 = pcVar2;
    pcVar2 = pcVar6 + 1;
  } while (*pcVar6 != '\0');
  uVar4 = String_Compare(p_Var3,0,*(uint *)(p_Var3 + 0x14),(_String_base *)&DAT_00534474,
                         (uint)(pcVar6 + -0x534474));
  local_8._0_1_ = 0;
  if (0xf < local_3c) {
                    /* WARNING: Subroutine does not return */
    System_ShutdownHandler(extraout_ECX,local_50);
  }
  if (uVar4 == 0) {
    PowerUp_ProcessThunderstrike(local_38,extraout_EDX,param_3,0,0xffffffff);
    puVar7 = extraout_EDX_00;
    puVar9 = in_stack_ffffff94;
    goto LAB_0049de2c;
  }
  p_Var3 = GameMenu_ProcessRegistrationScreen(param_3,local_54,0,1);
  local_8._0_1_ = 2;
  pcVar2 = "/";
  do {
    pcVar6 = pcVar2;
    pcVar2 = pcVar6 + 1;
  } while (*pcVar6 != '\0');
  uVar4 = String_Compare(p_Var3,0,*(uint *)(p_Var3 + 0x14),(_String_base *)&DAT_00534470,
                         (uint)(pcVar6 + -0x534470));
  local_8._0_1_ = 0;
  uVar1 = (undefined1)local_8;
  local_8._0_1_ = 0;
  if (0xf < local_3c) {
                    /* WARNING: Subroutine does not return */
    System_ShutdownHandler(extraout_ECX_00,local_50);
  }
  local_18[0] = '/';
  if (uVar4 == 0) {
    uVar4 = UI_Widget_ResetTransform(param_2,local_18,7,1);
    if (uVar4 != 0xffffffff) {
      p_Var3 = GameMenu_ProcessRegistrationScreen(param_2,(_String_base *)&stack0xffffff90,0,uVar4);
      local_8._0_1_ = 3;
      p_Var3 = Background_ProcessBackgroundLayer
                         (extraout_ECX_02,(uint)local_54,local_54,p_Var3,(int)param_3);
      local_8._0_1_ = 4;
      PowerUp_ProcessThunderstrike(local_38,extraout_EDX_01,p_Var3,0,0xffffffff);
      if (0xf < local_3c) {
                    /* WARNING: Subroutine does not return */
        System_ShutdownHandler(extraout_ECX_03,(uint)extraout_EDX_02);
      }
      local_3c = 0xf;
      local_40 = 0;
      local_50 = local_50 & 0xffffff00;
      local_8._0_1_ = 0;
      puVar8 = extraout_EDX_02;
      puVar7 = extraout_EDX_02;
      puVar9 = in_stack_ffffff94;
      if (local_58 < 0x10) goto LAB_0049de2c;
      goto LAB_0049de24;
    }
    p_Var3 = Background_ProcessBackgroundLayer
                       (extraout_ECX_01,(uint)&stack0xffffff90,(_String_base *)&stack0xffffff90,
                        param_2,(int)param_3);
    local_8 = CONCAT31(local_8._1_3_,5);
    PowerUp_ProcessThunderstrike(local_38,extraout_EDX_03,p_Var3,0,0xffffffff);
    puVar5 = extraout_ECX_04;
    puVar7 = extraout_EDX_04;
LAB_0049de17:
    puVar8 = puVar7;
    puVar9 = in_stack_ffffff94;
  }
  else {
    local_8._0_1_ = uVar1;
    uVar4 = XML_GetElementValue(param_2,local_18,0xffffffff,1);
    if ((int)uVar4 < 7) {
      p_Var3 = Intel_DisplayPopulationData
                         (extraout_ECX_05,extraout_EDX_05,(_String_base *)&stack0xffffff90,param_2,
                          (_String_base *)&DAT_00534470);
      local_8._0_1_ = 8;
      p_Var3 = Background_ProcessBackgroundLayer
                         (local_54,extraout_EDX_09,local_54,p_Var3,(int)param_3);
      local_8 = CONCAT31(local_8._1_3_,9);
      PowerUp_ProcessThunderstrike(local_38,extraout_EDX_10,p_Var3,0,0xffffffff);
      if (0xf < local_3c) {
                    /* WARNING: Subroutine does not return */
        System_ShutdownHandler((int)extraout_ECX_08,local_50);
      }
      local_3c = 0xf;
      local_40 = 0;
      local_50 = local_50 & 0xffffff00;
      puVar5 = extraout_ECX_08;
      puVar7 = extraout_EDX_11;
      goto LAB_0049de17;
    }
    p_Var3 = GameMenu_ProcessRegistrationScreen
                       (param_2,(_String_base *)&stack0xffffff90,0,uVar4 + 1);
    local_8._0_1_ = 6;
    p_Var3 = Background_ProcessBackgroundLayer
                       (extraout_ECX_06,extraout_EDX_06,local_54,p_Var3,(int)param_3);
    local_8._0_1_ = 7;
    PowerUp_ProcessThunderstrike(local_38,extraout_EDX_07,p_Var3,0,0xffffffff);
    if (0xf < local_3c) {
                    /* WARNING: Subroutine does not return */
      System_ShutdownHandler(local_50,(uint)extraout_EDX_08);
    }
    local_3c = 0xf;
    local_40 = 0;
    local_50 = local_50 & 0xffffff00;
    puVar5 = extraout_ECX_07;
    puVar7 = extraout_EDX_08;
    puVar8 = in_stack_ffffff94;
    puVar9 = in_stack_ffffff94;
  }
  in_stack_ffffff94 = puVar5;
  local_8._0_1_ = 0;
  if (0xf < local_58) {
LAB_0049de24:
    local_8._0_1_ = 0;
                    /* WARNING: Subroutine does not return */
    System_ShutdownHandler((int)in_stack_ffffff94,(uint)puVar8);
  }
LAB_0049de2c:
  *(undefined4 *)(param_1 + 0x18) = 0xf;
  *(undefined4 *)(param_1 + 0x14) = 0;
  param_1[4] = (_String_base)0x0;
  PowerUp_ProcessThunderstrike(param_1,(uint)puVar7,local_38,0,0xffffffff);
  if (0xf < local_20) {
                    /* WARNING: Subroutine does not return */
    System_ShutdownHandler(extraout_ECX_09,local_34);
  }
  ExceptionList = local_10;
  Exception_SetMessage((void *)(local_14 ^ unaff_retaddr),in_stack_ffffff90,puVar9);
  return;
}


