/*
 * Function: Unwind@00514c30
 * Address: 00514c30
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


/* WARNING: Control flow encountered bad instruction data */
/* WARNING: Instruction at (ram,0x00514dd2) overlaps instruction at (ram,0x00514dce)
    */
/* WARNING: Unable to track spacebase fully for stack */
/* WARNING: Removing unreachable block (ram,0x00514d0a) */
/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void __fastcall Unwind_00514c30(char *param_1,byte *param_2)

{
  char *pcVar1;
  undefined1 uVar2;
  undefined1 *puVar3;
  byte bVar4;
  code *pcVar5;
  undefined6 uVar6;
  byte bVar7;
  ushort uVar8;
  int *piVar9;
  char *in_EAX;
  int iVar10;
  uint uVar11;
  uint uVar12;
  undefined1 *puVar13;
  char cVar15;
  uint *extraout_ECX;
  int extraout_ECX_00;
  int extraout_ECX_01;
  int extraout_ECX_02;
  undefined2 uVar16;
  byte *extraout_EDX;
  undefined2 *puVar17;
  byte *unaff_EBX;
  undefined4 *puVar18;
  undefined4 *puVar19;
  undefined1 *puVar20;
  byte *unaff_EBP;
  code *pcVar21;
  code **ppcVar22;
  byte *unaff_ESI;
  byte *pbVar23;
  byte *pbVar24;
  byte *unaff_EDI;
  byte *pbVar25;
  byte *pbVar26;
  uint *puVar27;
  uint *puVar28;
  undefined2 in_ES;
  undefined2 uVar29;
  undefined2 in_CS;
  undefined2 in_SS;
  undefined2 in_DS;
  int in_GS_OFFSET;
  bool in_CF;
  byte bVar30;
  byte in_AF;
  bool bVar31;
  bool in_ZF;
  bool bVar32;
  bool bVar33;
  byte bVar34;
  bool bVar35;
  undefined2 in_FPUControlWord;
  undefined2 in_FPUStatusWord;
  undefined2 in_FPUTagWord;
  undefined2 in_FPULastInstructionOpcode;
  undefined4 in_FPUDataPointer;
  undefined4 in_FPUInstructionPointer;
  float10 in_ST0;
  float10 in_ST1;
  unkbyte10 in_ST2;
  unkbyte10 in_ST3;
  unkbyte10 in_ST4;
  unkbyte10 in_ST5;
  unkbyte10 in_ST6;
  unkbyte10 in_ST7;
  undefined4 in_XMM1_Da;
  undefined4 in_XMM1_Db;
  undefined4 in_XMM1_Dc;
  undefined4 in_XMM1_Dd;
  undefined8 uVar36;
  undefined1 auStack_5f2b [24282];
  byte abStack_51 [21];
  undefined1 *puStack_3c;
  undefined4 uStack_38;
  code *pcStack_34;
  byte *pbStack_30;
  byte *pbStack_28;
  byte *pbStack_24;
  undefined4 *puStack_20;
  undefined1 *puStack_1c;
  byte *pbStack_18;
  byte *pbStack_14;
  char *pcStack_10;
  char *pcStack_c;
  byte bStack_8;
  byte bStack_7;
  undefined2 uStack_6;
  byte abStack_4 [2];
  undefined2 uStack_2;
  undefined3 uVar14;
  
  bVar34 = 0;
  if (in_CF || in_ZF) {
    param_1 = (char *)CONCAT31((int3)((uint)param_1 >> 8),
                               ((char)param_1 -
                               *(char *)((int)unaff_EBP + in_GS_OFFSET + -0x48eaa3d6)) - in_CF);
    goto code_r0x00514c0a;
  }
  abStack_4[0] = (byte)in_ES;
  abStack_4[1] = (byte)((ushort)in_ES >> 8);
  uVar29 = CONCAT11((char)in_EAX,(char)param_2);
  param_2 = (byte *)CONCAT22((short)((uint)param_2 >> 0x10),uVar29);
  pbVar24 = unaff_EDI + 4;
  in_EAX = (char *)in(0xb4);
  pbVar23 = (byte *)((int)unaff_EBP + 0x32);
  *pbVar23 = *pbVar23 ^ (byte)in_EAX;
  unaff_EBP = &DAT_222b10a5;
  if ((char)*pbVar23 < '\x01') {
    unaff_EBX[0x35] = unaff_EBX[0x35] + 0x25;
    unaff_EBX = (byte *)CONCAT22((short)((uint)unaff_EBX >> 0x10),CONCAT11(0x2a,(char)unaff_EBX));
    pbVar25 = &DAT_e2a336b4;
    pbVar23 = unaff_EDI + 0x62;
    bVar7 = (byte)((uint)param_1 >> 8);
    bVar30 = CARRY1(bVar7,*pbVar23);
    bVar35 = SCARRY1(bVar7,*pbVar23);
    cVar15 = bVar7 + *pbVar23;
    param_1 = (char *)CONCAT22((short)((uint)param_1 >> 0x10),CONCAT11(cVar15,(char)param_1));
    bVar33 = cVar15 < '\0';
    bVar31 = cVar15 == '\0';
    bVar32 = (POPCOUNT(cVar15) & 1U) == 0;
    in_ST1 = in_ST0;
    goto code_r0x00514c77;
  }
  iVar10 = in(uVar29);
  *(uint *)(unaff_ESI + -0x43) = *(uint *)(unaff_ESI + -0x43) & (uint)unaff_EBX;
  _DAT_222b1081 = _DAT_222b1081 - (int)param_2;
  bVar32 = _DAT_222b1081 != 0;
  *(short *)(iVar10 + 0x13) = (short)in_ST0;
  *(undefined2 *)unaff_EBX = in_FPUControlWord;
  *(undefined2 *)(unaff_EBX + 4) = in_FPUStatusWord;
  *(undefined2 *)(unaff_EBX + 8) = in_FPUTagWord;
  *(undefined4 *)(unaff_EBX + 0x14) = in_FPUDataPointer;
  *(undefined4 *)(unaff_EBX + 0xc) = in_FPUInstructionPointer;
  *(undefined2 *)(unaff_EBX + 0x12) = in_FPULastInstructionOpcode;
  *(float10 *)(unaff_EBX + 0x1c) = in_ST1;
  *(unkbyte10 *)(unaff_EBX + 0x26) = in_ST2;
  *(unkbyte10 *)(unaff_EBX + 0x30) = in_ST3;
  *(unkbyte10 *)(unaff_EBX + 0x3a) = in_ST4;
  *(unkbyte10 *)(unaff_EBX + 0x44) = in_ST5;
  *(unkbyte10 *)(unaff_EBX + 0x4e) = in_ST6;
  *(unkbyte10 *)(unaff_EBX + 0x58) = in_ST7;
  *(unkbyte10 *)(unaff_EBX + 0x62) = in_ST7;
  if (bVar32) {
    *pbVar24 = (byte)iVar10 | 0xa8;
    bStack_8 = 0xcb;
    bStack_7 = 0x4c;
    uStack_6 = 0x51;
    func_0xa0ecf380();
                    /* WARNING: Bad instruction - Truncating control flow here */
    halt_baddata();
  }
  bVar30 = 0;
  bVar7 = (byte)iVar10 | DAT_29fd8e66;
  in_EAX = (char *)CONCAT31((int3)((uint)iVar10 >> 8),bVar7);
  bVar32 = (POPCOUNT(bVar7) & 1U) == 0;
  puVar18 = (undefined4 *)unaff_EBP;
LAB_00514c5a:
  if (bVar32) {
    puVar27 = (uint *)(in_EAX + 0x5b25e658);
    uVar11 = *puVar27;
    uVar12 = *puVar27;
    *puVar27 = (uint)(abStack_4 + uVar12 + bVar30);
    *in_EAX = *in_EAX + -0x42 +
              (CARRY4(uVar11,(uint)abStack_4) || CARRY4((uint)(abStack_4 + uVar12),(uint)bVar30));
    param_2 = (byte *)(*(int *)(param_1 + 0x12) * -0x32);
    pbVar23 = &bStack_8;
    unaff_EBP = &bStack_8;
    bStack_8 = (byte)puVar18;
    bStack_7 = (byte)((uint)puVar18 >> 8);
    uStack_6 = (undefined2)((uint)puVar18 >> 0x10);
    cVar15 = '\f';
    do {
      puVar18 = puVar18 + -1;
      pbVar23 = (byte *)((int)pbVar23 + -4);
      *(undefined4 *)pbVar23 = *puVar18;
      cVar15 = cVar15 + -1;
    } while ('\0' < cVar15);
    puStack_3c = &bStack_8;
    unaff_EBX = (byte *)CONCAT31((int3)((uint)unaff_EBX >> 8),
                                 (char)unaff_EBX - abStack_51[(int)param_2]);
    unaff_EDI = pbVar24;
    in_ST0 = in_ST1;
code_r0x00514c0a:
    abStack_4[0] = (byte)in_EAX;
    abStack_4[1] = (byte)((uint)in_EAX >> 8);
    uStack_2 = (undefined2)((uint)in_EAX >> 0x10);
    param_1 = (char *)CONCAT22((short)((uint)param_1 >> 0x10),CONCAT11(0x38,(char)param_1));
    bVar30 = false;
    bVar35 = false;
    uVar11 = (uint)in_EAX & 0xc9;
    in_EAX = (char *)((uint)in_EAX & 0xffffffc9);
    bVar33 = (char)(abStack_4[0] & 0xc9) < '\0';
    bVar31 = uVar11 == 0;
    bVar32 = (POPCOUNT(abStack_4[0] & 0xc9) & 1U) == 0;
    pbVar25 = unaff_ESI;
    pbVar24 = unaff_EDI;
    in_ST1 = in_ST0;
    do {
      unaff_ESI = pbVar25;
      if (bVar32) goto code_r0x00514c19;
      param_1 = param_1 + -1;
      if (param_1 == (char *)0x0) {
        out(*(undefined4 *)pbVar25,(short)param_2);
        pbVar25 = (byte *)CONCAT22(uStack_2,CONCAT11(abStack_4[1],abStack_4[0]));
      }
code_r0x00514c77:
      unaff_ESI = pbVar25 + (uint)bVar34 * -2 + 1;
      out(*pbVar25,(short)param_2);
      bStack_8 = (byte)in_DS;
      bStack_7 = (byte)((ushort)in_DS >> 8);
      pcStack_c = in_EAX;
      pcStack_10 = param_1;
      pbStack_14 = param_2;
      pbStack_18 = unaff_EBX;
      puStack_1c = &bStack_8;
      puStack_20 = (undefined4 *)unaff_EBP;
      pbStack_24 = unaff_ESI;
      pbStack_28 = pbVar24;
      pbVar25 = unaff_ESI;
    } while (!bVar31 && bVar35 == bVar33);
    pbStack_30 = pbVar24;
    uVar11 = (uint)in_EAX & 0x27f02f34;
    bVar32 = (POPCOUNT((uint)in_EAX & 0x34) & 1U) == 0;
    *(short *)((int)unaff_EBP + 0x12) = (short)ROUND(in_ST1);
    bVar30 = 9 < ((byte)uVar11 & 0xf) | in_AF;
    uVar12 = CONCAT31((int3)(uVar11 >> 8),(byte)uVar11 + bVar30 * '\x06') & 0xffffff0f;
    in_EAX = (char *)CONCAT22((short)(uVar12 >> 0x10),
                              CONCAT11((char)(uVar11 >> 8) + bVar30,(char)uVar12));
    puVar18 = (undefined4 *)unaff_EBP;
    in_AF = bVar30;
    if (uVar11 == 0) goto LAB_00514c5a;
    puVar18 = (undefined4 *)((uint)unaff_EBP | (uint)in_EAX);
  }
  else {
    unaff_ESI = (byte *)*(undefined6 *)(param_2 + 0x7b);
    in_EAX = param_1;
    bVar30 = in_AF;
  }
  uVar6 = *(undefined6 *)(in_EAX + 0x1b5c9807);
  uVar29 = (undefined2)((uint6)uVar6 >> 0x20);
  out(0xec,in_EAX);
  pbVar23 = unaff_ESI + 0x325f871d;
  bVar7 = *pbVar23;
  *pbVar23 = *pbVar23 - (char)param_2;
  pbVar23 = unaff_ESI + (uint)bVar34 * -2 + 1;
  out(*unaff_ESI,(short)param_2);
  pcVar21 = (code *)swi(4);
  if (SBORROW1(bVar7,(char)param_2)) {
    (*pcVar21)();
    param_2 = extraout_EDX;
  }
  pcVar21 = (code *)*puVar18;
  pbStack_30 = (byte *)CONCAT22(pbStack_30._2_2_,in_CS);
  pcStack_34 = Unwind_00514d1b;
  uVar36 = (*(code *)(param_2 + 0x1d))();
  pbVar25 = pbVar24 + (uint)bVar34 * -2 + 1;
  bVar7 = (byte)uVar36;
  if (SBORROW1(bVar7,*pbVar24)) {
    uVar11 = CONCAT22((short)((uint6)uVar6 >> 0x10),
                      CONCAT11((char)((uint6)uVar6 >> 8) + *(char *)((ulonglong)uVar36 >> 0x20),
                               (char)uVar6));
    pbVar26 = pbVar25 + (uint)bVar34 * -2 + 1 + (uint)bVar34 * -8 + 4;
    *(int *)(pbVar25 + (uint)bVar34 * -2 + 1) = *(int *)pbVar23;
    pbVar24 = (byte *)(uVar11 - 0x2e);
    *pbVar24 = *pbVar24 << 1 | *pbVar24 >> 7;
    bVar4 = *pbVar24;
    cVar15 = *(char *)((int)uVar36 + -0x2a0e4518);
    *extraout_ECX = *extraout_ECX ^ uVar11;
    pcStack_34 = (code *)CONCAT22(pcStack_34._2_2_,in_SS);
    bVar7 = 0xf < (byte)(bVar7 + cVar15 + ((bVar4 & 1) != 0));
    *pbVar26 = *pbVar26 - 1;
    ffree(in_ST7);
    uStack_38 = 0x514d44;
    uVar36 = func_0x11b54bd3();
    puVar17 = (undefined2 *)((ulonglong)uVar36 >> 0x20);
    uVar11 = (uint)bVar7;
    pbVar24 = pbVar23 + (uint)bVar34 * -8 + 0x29f53f96;
    pbVar25 = pbVar24 + uVar11;
    uVar16 = (undefined2)((ulonglong)uVar36 >> 0x20);
    if ((SCARRY4((int)(pbVar23 + (uint)bVar34 * -8 + 3),0x29f53f93) != SCARRY4((int)pbVar24,uVar11))
        != (int)pbVar25 < 0) {
      bVar30 = 9 < ((byte)uVar36 & 0xf) | bVar30;
      bVar7 = (byte)uVar36 + bVar30 * -6;
      *(uint *)(puVar17 + -0x3fbcdc63) =
           *(uint *)(puVar17 + -0x3fbcdc63) ^
           CONCAT31((int3)((ulonglong)uVar36 >> 8),
                    bVar7 + (0x9f < bVar7 |
                            ((byte *)0xd60ac06c < pbVar23 + (uint)bVar34 * -8 + 3 ||
                            CARRY4((uint)pbVar24,uVar11)) | bVar30 * (bVar7 < 6)) * -0x60 +
                    (char)((ulonglong)uVar36 >> 8) * '~' + 'P') & 0xffff00ff;
      _DAT_a21d64f1 = in(uVar16);
                    /* WARNING: Bad instruction - Truncating control flow here */
      halt_baddata();
    }
    pbVar23 = (byte *)((int)puVar17 + 0x1b);
    bVar30 = (byte)extraout_ECX_00 & 7;
    *pbVar23 = *pbVar23 << bVar30 | *pbVar23 >> 8 - bVar30;
    out(0xfe,(int)uVar36);
    if (*pbVar25 >= *pbVar26) {
      out(uVar16,(char)*(undefined4 *)(pbVar25 + (uint)bVar34 * -2 + 2));
      *(uint *)(pbVar25 +
               (int)&pbStack_30 +
               (uint)(*pbVar25 < *pbVar26) + (uint)bVar34 * -8 + (uint)bVar34 * -2 + 2) =
           *(uint *)(pbVar25 +
                    (int)&pbStack_30 +
                    (uint)(*pbVar25 < *pbVar26) + (uint)bVar34 * -8 + (uint)bVar34 * -2 + 2) ^
           (uint)&pcStack_34;
                    /* WARNING: Bad instruction - Truncating control flow here */
      halt_baddata();
    }
    if (extraout_ECX_00 == 0) {
      bVar30 = in(uVar16);
      pbVar26[(uint)bVar34 * -2 + 1] = bVar30;
      halt_baddata();
    }
  }
  else {
    bVar30 = 9 < (bVar7 & 0xf) | bVar30;
    ppcVar22 = &pcStack_34;
    pcVar5 = (code *)swi(0x43);
    pcStack_34 = pcVar21;
    uVar36 = (*pcVar5)();
    puVar17 = (undefined2 *)((ulonglong)uVar36 >> 0x20);
    puVar27 = (uint *)((int)pbVar25 * 0x200000);
    puVar18 = (undefined4 *)*(undefined6 *)(extraout_ECX_01 + 0x14d442a4 + (int)pbVar25 * 0x800000);
    uVar11 = (uint)((int)pbVar25 * 0x100000 < 0);
    puVar13 = &stack0xa5aa28c2 + uVar11;
    iVar10 = *(int *)uVar36;
    puVar20 = (undefined1 *)(iVar10 + -4);
    *(undefined2 *)(iVar10 + -4) = uVar29;
    if (auStack_5f2b < (undefined1 *)0x5a557813 && !CARRY4((uint)&stack0xa5aa28c2,uVar11)) {
      if ((int)((uint)puVar18 & (uint)puVar27) < 1) {
        bVar34 = 0;
        iVar10 = extraout_ECX_01;
        puVar19 = puVar18;
      }
      else {
        bVar32 = *(uint *)(extraout_ECX_01 + 0x19) < 0x6383ea3e;
        puVar20 = (undefined1 *)(iVar10 + -8);
        *(undefined4 *)(iVar10 + -8) = 0x514db1;
        uVar36 = func_0x8f4910b7();
        puVar17 = (undefined2 *)((ulonglong)uVar36 >> 0x20);
        if (bVar32) {
          puVar19 = (undefined4 *)(puVar20 + -4);
          *(undefined4 **)(puVar20 + -4) = puVar18;
          cVar15 = '\x1d';
          do {
            puVar18 = puVar18 + -1;
            puVar19 = puVar19 + -1;
            *puVar19 = *puVar18;
            cVar15 = cVar15 + -1;
          } while ('\0' < cVar15);
          *(undefined1 **)(puVar20 + -0x7c) = puVar20 + -4;
                    /* WARNING: Bad instruction - Truncating control flow here */
          halt_baddata();
        }
        *(uint *)pbVar23 = (*(int *)pbVar23 - (int)pbVar23) - (uint)bVar32;
        bVar30 = 9 < ((byte)uVar36 & 0xf) | bVar30;
        uVar14 = (undefined3)((ulonglong)uVar36 >> 8);
        bVar7 = (byte)uVar36 + bVar30 * '\x06';
        puVar19 = (undefined4 *)
                  (puVar13 +
                  (-(uint)(CONCAT31(uVar14,bVar7 + (0x90 < (bVar7 & 0xf0) |
                                                   puVar18 < *(undefined4 **)
                                                              (puVar17 + (int)puVar13 * 4) |
                                                   bVar30 * (0xf9 < bVar7)) * '`') < 0xb79e35cb) -
                  *(int *)(pbVar23 + 0xf)));
        puVar13 = (undefined1 *)CONCAT31(uVar14,uRamf0a18cd1);
        puVar28 = puVar27 + (uint)bVar34 * -2 + 1;
        puVar3 = (undefined1 *)*puVar27;
        iVar10 = extraout_ECX_02;
        do {
          iVar10 = iVar10 + -1;
          ppcVar22 = (code **)puVar18;
          puVar27 = puVar28;
        } while (iVar10 != 0 && puVar13 == puVar3);
      }
      *(undefined4 *)((int)ppcVar22 + -0x3f3251b) = in_XMM1_Da;
      *(undefined4 *)((int)ppcVar22 + -0x3f32517) = in_XMM1_Db;
      *(undefined4 *)((int)ppcVar22 + -0x3f32513) = in_XMM1_Dc;
      *(undefined4 *)((int)ppcVar22 + -0x3f3250f) = in_XMM1_Dd;
      *(uint *)(puVar20 + -4) = (uint)puVar13 | 0xee99e10d;
      *(int *)(puVar20 + -8) = iVar10;
      *(undefined2 **)(puVar20 + -0xc) = puVar17;
      *(undefined4 **)(puVar20 + -0x10) = puVar19;
      *(undefined1 **)(puVar20 + -0x14) = puVar20;
      *(int *)(puVar20 + -0x18) = (int)ppcVar22 + 1;
      *(byte **)(puVar20 + -0x1c) = pbVar23;
      *(uint **)(puVar20 + -0x20) = puVar27;
      while (iVar10 != 0) {
        iVar10 = iVar10 + -1;
        uVar2 = in((short)puVar17);
        *(undefined1 *)puVar27 = uVar2;
        puVar27 = (uint *)((int)puVar27 + (uint)bVar34 * -2 + 1);
      }
                    /* WARNING: Bad instruction - Truncating control flow here */
      halt_baddata();
    }
  }
  *puVar17 = uVar29;
                    /* WARNING: Bad instruction - Truncating control flow here */
  halt_baddata();
code_r0x00514c19:
  for (; pbVar23 = param_2, bVar31 || bVar35 != bVar33;
      bVar31 = !bVar31 && uVar11 == 0 || bVar31 && *pcVar1 == '\0') {
    while( true ) {
      pbVar25 = unaff_ESI + -1;
      bVar30 = (byte)in_EAX;
      uStack_6 = (undefined2)((uint)in_EAX >> 0x10);
      uVar14 = (undefined3)(CONCAT22(uStack_6,CONCAT11(bVar30 / 0x66,bVar30)) >> 8);
      uVar8 = (ushort)CONCAT31(uVar14,bVar30 % 0x66);
      if (uVar8 == 0) break;
      iVar10 = in(0x5a);
      if ((POPCOUNT(uVar8 & 0xff) & 1U) != 0) {
                    /* WARNING: Bad instruction - Truncating control flow here */
        halt_baddata();
      }
      pbVar26 = pbVar24 + (uint)bVar34 * -2 + 1;
      *pbVar24 = *pbVar25;
      puVar27 = (uint *)(pbVar23 + -0x15);
      uVar11 = *puVar27;
      *puVar27 = (int)*puVar27 >> 1;
      uVar12 = *puVar27;
      bStack_8 = (byte)pbVar23;
      uStack_6 = (undefined2)((uint)pbVar23 >> 0x10);
      pbVar24 = pbVar26 + (uint)bVar34 * -2 + 1;
      *pbVar26 = unaff_ESI[(uint)bVar34 * -2];
      bVar34 = 1;
      if ((POPCOUNT(uVar12 & 0xff) & 1U) != 0) {
        DAT_28bdda20 = DAT_28bdda20 & bStack_8;
        pcRamf775c62f = param_1;
                    /* WARNING: Bad instruction - Truncating control flow here */
        halt_baddata();
      }
      LOCK();
      bVar30 = *pbVar23;
      *pbVar23 = (byte)((uint)param_1 >> 8);
      param_1 = (char *)CONCAT22((short)((uint)param_1 >> 0x10),CONCAT11(bVar30,(byte)param_1));
      UNLOCK();
      unaff_EBX = pbVar23 + -1;
      in_EAX = (char *)((iVar10 + 0x762820d6) - (uint)((uVar11 & 1) != 0));
      unaff_ESI = (byte *)0x9cea6bd8;
      *(int *)(param_1 + 0x4108dc58) = *(int *)(param_1 + 0x4108dc58) + 0x5f;
      pbVar23 = (byte *)CONCAT22(uStack_6,CONCAT11(0x6d,bStack_8));
    }
    bStack_8 = 0x26;
    bStack_7 = bVar30 / 0x66;
    param_2 = pbVar24 + (uint)bVar34 * -8 + 4;
    *(uint *)pbVar24 = CONCAT31(uVar14,0x26);
    in_EAX = (char *)(CONCAT31((int3)(CONCAT22(uStack_6,0x9026) >> 8),0x26) | 0x25);
    *(uint *)(unaff_EBX + -0xf) = *(uint *)(unaff_EBX + -0xf) | (uint)in_EAX;
    pcStack_c = in_EAX;
    pcStack_10 = param_1;
    pbStack_14 = pbVar23;
    pbStack_18 = unaff_EBX;
    puStack_1c = &bStack_8;
    puStack_20 = (undefined4 *)unaff_EBP;
    abStack_4[0] = (byte)pbVar25;
    abStack_4[1] = (byte)((uint)pbVar25 >> 8);
    uStack_2 = (undefined2)((uint)pbVar25 >> 0x10);
    pbStack_28 = param_2;
    uVar11 = (int)param_2 - (int)unaff_EBX;
    bVar32 = (POPCOUNT(uVar11 & 0xff) & 1U) == 0;
    if (bVar32) {
      pcVar21 = (code *)swi(0x53);
      (*pcVar21)();
                    /* WARNING: Bad instruction - Truncating control flow here */
      halt_baddata();
    }
    pcVar1 = (char *)((int)unaff_EBP + 0x7bc92438);
    bVar7 = (byte)param_1 & 0x1f;
    cVar15 = *pcVar1;
    *pcVar1 = *pcVar1 << bVar7;
    bVar31 = ((uint)param_1 & 0x1f) != 0;
    bVar30 = !bVar31 && param_2 < unaff_EBX || bVar31 && (char)(cVar15 << bVar7 - 1) < '\0';
    bVar35 = bVar7 != 1 && SBORROW4((int)param_2,(int)unaff_EBX) ||
             bVar7 == 1 && (bool)bVar30 != *pcVar1 < '\0';
    bVar31 = ((uint)param_1 & 0x1f) != 0;
    bVar33 = !bVar31 && (int)uVar11 < 0 || bVar31 && *pcVar1 < '\0';
    bVar32 = !bVar31 && bVar32 || bVar31 && (POPCOUNT(*pcVar1) & 1U) == 0;
    unaff_ESI = pbVar25;
    pbVar24 = param_2;
  }
  puVar18 = (undefined4 *)unaff_EBP;
  if (bVar35) {
    piVar9 = (int *)CONCAT22((short)((uint)in_EAX >> 0x10),CONCAT11(0xa3,(char)in_EAX));
    if (!bVar31 && bVar35 == bVar33) {
      *piVar9 = *piVar9 >> 1;
      return;
    }
    *(int *)(pbVar24 + -0x2a) = *(int *)(pbVar24 + -0x2a) - (int)param_1;
                    /* WARNING: Bad instruction - Truncating control flow here */
    halt_baddata();
  }
  goto LAB_00514c5a;
}


