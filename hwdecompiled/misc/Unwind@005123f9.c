/*
 * Function: Unwind@005123f9
 * Address: 005123f9
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


/* WARNING: Control flow encountered bad instruction data */
/* WARNING: Instruction at (ram,0x00512423) overlaps instruction at (ram,0x0051241f)
    */
/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void __fastcall Unwind_005123f9(char *param_1,int param_2,char *param_3)

{
  char cVar1;
  char *pcVar2;
  longlong lVar3;
  char cVar4;
  char *pcVar5;
  int iVar6;
  int unaff_ESI;
  char *unaff_EDI;
  char *pcVar7;
  bool bVar8;
  byte in_AF;
  bool in_ZF;
  byte bVar9;
  float10 in_ST0;
  float10 in_ST1;
  float10 in_ST2;
  float10 in_ST3;
  float10 in_ST4;
  float10 in_ST5;
  float10 in_ST6;
  float10 in_ST7;
  char *unaff_retaddr;
  
  bVar9 = 0;
  pcVar7 = param_3;
  if (!in_ZF) {
    *(uint *)(param_1 + -0x1a023b7c) = ~*(uint *)(param_1 + -0x1a023b7c);
    unaff_EDI[0x26] = -unaff_EDI[0x26];
  }
  while( true ) {
    while( true ) {
      do {
        param_3 = pcVar7;
        *(char *)(param_2 + 0x7f78397f) = *(char *)(param_2 + 0x7f78397f) + '\x01';
        pcVar7 = unaff_EDI + (uint)bVar9 * -2 + 1;
        unaff_ESI = unaff_ESI + 1 + (uint)bVar9 * -2;
        out(0x53,_DAT_2389614e);
        bVar8 = param_1 < (char *)0xf63421f2;
        pcVar5 = param_1 + 0x9cbde0e;
        pcVar2 = param_1 + 0x5f681c90;
        iVar6 = (int)pcVar2 - (uint)bVar8;
        in_AF = 9 < ((byte)iVar6 & 0xf) | in_AF;
        cVar4 = in(0xc0);
        param_1 = param_3;
        unaff_EDI = pcVar7;
      } while ((SBORROW4((int)pcVar5,-0x559c3e82) != SBORROW4((int)pcVar2,(uint)bVar8)) == iVar6 < 0
              );
      *(double *)(unaff_ESI + 0x6b) = (double)in_ST0;
      lVar3 = (longlong)
              *(int *)(CONCAT22((short)((uint)param_3 >> 0x10),CONCAT11(9,(char)param_3)) +
                       0x60bb9be4 + (int)pcVar7 * 4) * -0x4e;
      pcVar5 = (char *)lVar3;
      pcVar2 = (char *)(unaff_ESI + -0x68);
      cVar1 = *pcVar2;
      *pcVar2 = *pcVar2 + '\x01';
      in_ST0 = in_ST1;
      in_ST1 = in_ST2;
      in_ST2 = in_ST3;
      in_ST3 = in_ST4;
      in_ST4 = in_ST5;
      in_ST5 = in_ST6;
      in_ST6 = in_ST7;
      if ((int)pcVar5 != lVar3) break;
      bVar9 = 1;
      in(0xf6);
      param_1 = pcVar7;
      unaff_EDI = unaff_retaddr;
    }
    param_2 = CONCAT22((short)((uint)param_2 >> 0x10),CONCAT11(0x13,(char)param_2));
    if (*pcVar2 == '\0' || SCARRY1(cVar1,'\x01') != *pcVar2 < '\0') break;
    *pcVar5 = cVar4 + '?' + in_AF;
    param_1 = pcVar7;
    unaff_EDI = pcVar5 + (uint)bVar9 * -2 + 1;
  }
                    /* WARNING: Bad instruction - Truncating control flow here */
  halt_baddata();
}


