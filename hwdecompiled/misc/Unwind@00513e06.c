/*
 * Function: Unwind@00513e06
 * Address: 00513e06
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


/* WARNING: Control flow encountered bad instruction data */

uint __fastcall Unwind_00513e06(int *param_1,int param_2)

{
  uint *puVar1;
  byte *pbVar2;
  byte bVar3;
  int iVar4;
  byte bVar6;
  uint in_EAX;
  byte bVar7;
  int unaff_EBX;
  uint unaff_EBP;
  uint *unaff_ESI;
  int unaff_EDI;
  byte in_CF;
  bool in_ZF;
  char in_SF;
  char in_OF;
  float10 in_ST0;
  undefined4 unaff_retaddr;
  int iVar5;
  
  bVar6 = (byte)in_EAX;
  if (in_OF == in_SF) {
    iVar4 = *param_1;
    iVar5 = *param_1;
    *param_1 = iVar5 + param_2 + (uint)in_CF;
    if (SCARRY4(iVar4,param_2) == SCARRY4(iVar5 + param_2,(uint)in_CF)) {
      in_EAX = (uint)(byte)(bVar6 + *(char *)((int)(param_1 + 0x153f5968) + (int)unaff_ESI));
    }
    *(char *)param_1 = (char)*param_1 - (char)unaff_EBX;
    return CONCAT31((int3)((uint)unaff_retaddr >> 8),
                    (char)unaff_retaddr + -0x3b + (0x61 < (byte)in_EAX));
  }
  if (in_ZF) {
    *unaff_ESI = *unaff_ESI ^ unaff_EBP;
    out(0xfb,bVar6);
    pbVar2 = (byte *)((int)param_1 * 3 + 0x15014b35);
    bVar7 = (byte)((uint)(param_2 + -1) >> 8);
    *pbVar2 = *pbVar2 & bVar7;
    bVar3 = *pbVar2;
    *(short *)(in_EAX + 0xdd8decdd) = (short)ROUND(in_ST0);
    if (-1 < (char)bVar3) {
      out(0xf7,in_EAX);
      in((short)(param_2 + -1) + -1);
                    /* WARNING: Bad instruction - Truncating control flow here */
      halt_baddata();
    }
    *(int *)(unaff_EDI + -0x6a) = *(int *)(unaff_EDI + -0x6a) + 1;
    puVar1 = (uint *)(CONCAT22((short)((uint)param_1 >> 0x10),CONCAT11(0x61,(char)param_1)) +
                     0x5ac8ad85);
    *puVar1 = *puVar1 >> 1 | (uint)((*puVar1 & 1) != 0) << 0x1f;
    in_EAX = CONCAT31((int3)(CONCAT22((short)(in_EAX >> 0x10),CONCAT11(bVar6 / 0x92,bVar6)) >> 8),
                      *(undefined1 *)(unaff_EBX + (uint)(bVar6 % 0x92)));
    pbVar2 = (byte *)(unaff_EBX + -0x24);
    bVar6 = *pbVar2;
    *pbVar2 = *pbVar2 - bVar7;
    *(int *)(in_EAX + 0x35) = (*(int *)(in_EAX + 0x35) + 0x77) - (uint)(bVar6 < bVar7);
  }
  return in_EAX;
}


