/*
 * Function: CPU_ProcessData4
 * Address: 004c6340
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


void __fastcall CPU_ProcessData4(int param_1,uint param_2,undefined4 *param_3)

{
  int extraout_ECX;
  int extraout_ECX_00;
  int extraout_ECX_01;
  int iVar1;
  int iVar2;
  uint extraout_EDX;
  uint extraout_EDX_00;
  uint extraout_EDX_01;
  uint extraout_EDX_02;
  uint extraout_EDX_03;
  int *piVar3;
  undefined4 *puVar4;
  int iVar5;
  int local_8;
  
  iVar2 = param_3[7];
  if (iVar2 == 0) {
    for (iVar2 = 8; iVar2 != 0; iVar2 = iVar2 + -1) {
      *param_3 = 0;
      param_3 = param_3 + 1;
    }
    return;
  }
  iVar5 = 0;
  if (0 < *(int *)(iVar2 + 8)) {
    piVar3 = (int *)(iVar2 + 0x20);
    do {
      if (*piVar3 != 0) {
                    /* WARNING: Subroutine does not return */
        System_ShutdownHandler(param_1,param_2);
      }
      iVar5 = iVar5 + 1;
      piVar3 = piVar3 + 1;
    } while (iVar5 < *(int *)(iVar2 + 8));
  }
  iVar5 = 0;
  if (0 < *(int *)(iVar2 + 0xc)) {
    puVar4 = (undefined4 *)(iVar2 + 0x220);
    do {
      (**(code **)((&PTR_PTR_Process_WaitForExit_005682c8)[puVar4[-0x40]] + 8))(*puVar4);
      iVar5 = iVar5 + 1;
      puVar4 = puVar4 + 1;
      param_1 = extraout_ECX;
      param_2 = extraout_EDX;
    } while (iVar5 < *(int *)(iVar2 + 0xc));
  }
  iVar5 = 0;
  if (0 < *(int *)(iVar2 + 0x14)) {
    puVar4 = (undefined4 *)(iVar2 + 0x520);
    do {
      (**(code **)((&PTR_PTR_Graphics_Clear_005682b4)[puVar4[-0x40]] + 8))(*puVar4);
      iVar5 = iVar5 + 1;
      puVar4 = puVar4 + 1;
      param_1 = extraout_ECX_00;
      param_2 = extraout_EDX_00;
    } while (iVar5 < *(int *)(iVar2 + 0x14));
  }
  iVar5 = 0;
  if (0 < *(int *)(iVar2 + 0x18)) {
    puVar4 = (undefined4 *)(iVar2 + 0x720);
    do {
      (**(code **)((&PTR_PTR_Service_Stop_005682bc)[puVar4[-0x40]] + 8))(*puVar4);
      iVar5 = iVar5 + 1;
      puVar4 = puVar4 + 1;
      param_1 = extraout_ECX_01;
      param_2 = extraout_EDX_01;
    } while (iVar5 < *(int *)(iVar2 + 0x18));
  }
  iVar5 = 0;
  if (0 < *(int *)(iVar2 + 0x1c)) {
    local_8 = 0;
    puVar4 = (undefined4 *)(iVar2 + 0x820);
    do {
      if ((undefined4 *)*puVar4 != (undefined4 *)0x0) {
        JPEG_WriteHeader(param_1,param_2,(undefined4 *)*puVar4);
        param_2 = extraout_EDX_02;
      }
      if (*(int *)(iVar2 + 0xc20) != 0) {
        iVar1 = local_8 + *(int *)(iVar2 + 0xc20);
        Memory_CleanupStructure(iVar1,param_2,(undefined4 *)iVar1);
        param_2 = extraout_EDX_03;
      }
      iVar5 = iVar5 + 1;
      param_1 = local_8 + 0x34;
      puVar4 = puVar4 + 1;
      local_8 = param_1;
    } while (iVar5 < *(int *)(iVar2 + 0x1c));
  }
  if (*(int *)(iVar2 + 0xc20) != 0) {
                    /* WARNING: Subroutine does not return */
    System_ShutdownHandler(param_1,param_2);
  }
                    /* WARNING: Subroutine does not return */
  System_ShutdownHandler(param_1,param_2);
}


