/*
 * Function: Unwind@00515120
 * Address: 00515120
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


/* WARNING: Control flow encountered bad instruction data */

void __fastcall Unwind_00515120(int param_1,undefined2 param_2)

{
  undefined1 uVar1;
  byte bVar2;
  byte bVar3;
  char cVar7;
  uint uVar4;
  int iVar5;
  uint *puVar6;
  int iVar8;
  uint unaff_EBX;
  int unaff_EBP;
  uint unaff_ESI;
  undefined1 *unaff_EDI;
  byte in_AF;
  
  uVar4 = in(param_2);
  while( true ) {
    iVar5 = uVar4 + 0x7f98f0a4;
    unaff_ESI = (unaff_ESI - 1) + iVar5 + (uint)(uVar4 < 0x80670f5c);
    bVar2 = 9 < ((byte)iVar5 & 0xf) | in_AF;
    cVar7 = (char)((uint)iVar5 >> 8) + bVar2;
    iVar8 = param_1 + -1;
    if (iVar8 == 0 || unaff_ESI != 0) {
      uVar1 = in(param_2);
      *unaff_EDI = uVar1;
                    /* WARNING: Bad instruction - Truncating control flow here */
      halt_baddata();
    }
    uVar1 = in(param_2);
    *unaff_EDI = uVar1;
    bVar3 = in(param_2);
    in_AF = 9 < (bVar3 & 0xf) | bVar2;
    uVar4 = CONCAT31(CONCAT21((short)((uint)iVar5 >> 0x10),cVar7),bVar3 + in_AF * '\x06') &
            0xffffff0f;
    uVar4 = CONCAT22((short)(uVar4 >> 0x10),CONCAT11(cVar7 + in_AF,(char)uVar4));
    *(int *)(unaff_EBX + unaff_ESI) = *(int *)(unaff_EBX + unaff_ESI) + unaff_EBP;
    if (unaff_EBP + -1 == 0 || unaff_EBP < 1) break;
    param_1._0_1_ = (byte)iVar8;
    param_1._1_1_ = (byte)((uint)iVar8 >> 8);
    param_1._2_2_ = (undefined2)((uint)iVar8 >> 0x10);
    param_1._1_1_ = param_1._1_1_ >> ((byte)param_1 & 0x1f);
    param_1._0_2_ = CONCAT11(param_1._1_1_,(byte)param_1);
    param_1 = CONCAT22(param_1._2_2_,(undefined2)param_1);
    unaff_EBP = unaff_EBP + -1;
    unaff_EDI = unaff_EDI + 1;
  }
  puVar6 = (uint *)CONCAT31((int3)((unaff_ESI & unaff_EBX) >> 8),
                            *(char *)(unaff_EBX + (unaff_ESI & unaff_EBX & 0xff)) + '\x18');
  *puVar6 = *puVar6 & unaff_EBX;
                    /* WARNING: Bad instruction - Truncating control flow here */
  halt_baddata();
}


