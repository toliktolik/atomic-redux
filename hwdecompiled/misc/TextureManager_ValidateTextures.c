/*
 * Function: TextureManager_ValidateTextures
 * Address: 004bb220
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


void * __thiscall TextureManager_ValidateTextures(void *this,void *param_1,void *param_2)

{
  ushort uVar1;
  short sVar2;
  int iVar3;
  int extraout_ECX;
  byte extraout_DL;
  short extraout_DX;
  uint extraout_EDX;
  int extraout_EDX_00;
  uint extraout_EDX_01;
  int extraout_EDX_02;
  uint extraout_EDX_03;
  int iVar4;
  undefined4 local_40;
  byte local_3c;
  undefined4 local_2c [5];
  uint local_18;
  uint local_14;
  void *local_10;
  undefined4 uStack_c;
  uint local_8;
  
  local_8 = 0xffffffff;
  uStack_c = 0x5172b0;
  local_10 = ExceptionList;
  local_18 = 0;
  ExceptionList = &local_10;
  Texture_CopyToBuffer(&local_40);
  local_14 = extraout_EDX;
  local_8 = extraout_EDX;
  iVar3 = Graphics_SetTransform((int)param_2);
  if (0 < iVar3) {
    do {
      uVar1 = Texture_SetTarget(param_2,local_14);
      local_18 = (uint)uVar1;
      Texture_CopyToBuffer(local_2c);
      local_8 = CONCAT31(local_8._1_3_,1);
      iVar4 = 0;
      iVar3 = Graphics_SetTransform((int)this);
      if (0 < iVar3) {
        do {
          sVar2 = Texture_SetTarget(this,iVar4);
          Texture_GetInternalFormat(local_2c,iVar4 + local_14,sVar2 * (short)local_18 + extraout_DX)
          ;
          iVar4 = iVar4 + 1;
          iVar3 = Graphics_SetTransform((int)this);
        } while (iVar4 < iVar3);
        if (extraout_EDX_00 != 0) {
          iVar3 = extraout_EDX_00;
          iVar4 = Graphics_SetTransform(extraout_ECX);
          Texture_GetInternalFormat(local_2c,iVar4 + local_14,(short)iVar3);
        }
      }
      TextureManager_PreloadTextures(&local_40,local_2c);
      local_8 = local_8 & 0xffffff00;
      Texture_Constructor(local_2c,extraout_EDX_01);
      local_14 = local_14 + 1;
      iVar3 = Graphics_SetTransform((int)param_2);
    } while (extraout_EDX_02 < iVar3);
  }
  Texture_SetID((int)param_2);
  local_3c = Texture_SetID((int)this);
  local_3c = extraout_DL ^ local_3c;
  TextureManager_Shutdown(param_1,(int)&local_40);
  Texture_Constructor(&local_40,extraout_EDX_03);
  ExceptionList = local_10;
  return param_1;
}


