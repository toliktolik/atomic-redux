/*
 * Function: IntroScreen_Constructor
 * Address: 00421410
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


undefined4 * __thiscall IntroScreen_Constructor(void *this,undefined4 param_1,undefined4 *param_2)

{
  char *pcVar1;
  void *pvVar2;
  undefined4 *puVar3;
  char *pcVar4;
  undefined1 local_24 [16];
  void *local_14;
  void *local_10;
  undefined *puStack_c;
  int local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &DAT_00510f6e;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  local_14 = this;
  GameEngine_Constructor(this,param_1,1);
  *(undefined ***)((int)this + 0x368) = &PTR_Algorithm_IterSwap_0052d3e0;
  *(undefined4 *)((int)this + 0x5c) = param_1;
  local_8 = 0;
  *(undefined ***)this = &PTR_GameOverScreen_DestructorWrapper_0052d408;
  *(undefined4 *)((int)this + 0x58) = &PTR_EmptyFunction_NoOp_0052d3e8;
  *(undefined ***)((int)this + 0x368) = &PTR_IntroScreen_DestructorWrapper_0052d3e4;
  puVar3 = (undefined4 *)((int)this + 0x58);
  if (param_2 != (undefined4 *)0x0) {
    puVar3 = param_2;
  }
  pvVar2 = operator_new(0x108);
  local_8._0_1_ = 1;
  if (pvVar2 == (void *)0x0) {
    puVar3 = (undefined4 *)0x0;
  }
  else {
    puVar3 = UIButton_Constructor(pvVar2,*(int *)((int)this + 0x5c),(uint)puVar3,0x3f);
  }
  local_8._0_1_ = 0;
  *(undefined4 **)((int)this + 0x36c) = puVar3;
  puVar3 = (undefined4 *)SexyWidget_ApplyMatrix(local_24,0x20,0x80,0x40);
  UIButton_SetColor(*(void **)((int)this + 0x36c),puVar3);
  pcVar1 = "OK";
  do {
    pcVar4 = pcVar1;
    pcVar1 = pcVar4 + 1;
  } while (*pcVar4 != '\0');
  String_Assign((void *)(*(int *)((int)this + 0x36c) + 0x5c),(_String_base *)&DAT_0052d4f8,
                (uint)(pcVar4 + -0x52d4f8));
  pvVar2 = operator_new(0x8c);
  local_8._0_1_ = 2;
  if (pvVar2 == (void *)0x0) {
    puVar3 = (undefined4 *)0x0;
  }
  else {
    puVar3 = SexyWidget_RenderFrame
                       (pvVar2,*(undefined4 *)(*(int *)(*(int *)((int)this + 0x5c) + 0x740) + 8),
                        *(undefined4 *)(*(int *)(*(int *)((int)this + 0x5c) + 0x73c) + 8),0,
                        (int)this + 0x368);
  }
  *(undefined4 **)((int)this + 0x370) = puVar3;
  local_8 = (uint)local_8._1_3_ << 8;
  *(byte *)(puVar3 + 0x18) =
       *(byte *)(*(int *)(*(int *)((int)this + 0x5c) + 0xb40) * 0x60 + 0x42 +
                *(int *)(*(int *)((int)this + 0x5c) + 0x148c)) & 1;
  *(undefined4 *)((int)this + 0x90) = 0;
  *(undefined4 *)((int)this + 0x94) = 0;
  *(undefined4 *)((int)this + 0x98) = 400;
  *(undefined4 *)((int)this + 0x188) = 0;
  *(undefined4 *)((int)this + 0x18c) = 0;
  *(undefined4 *)((int)this + 0x1ac) = 1;
  *(undefined4 *)((int)this + 0x60) = 0x140;
  *(undefined4 *)((int)this + 100) = 0x104;
  *(undefined4 *)((int)this + 0x374) = 0;
  *(undefined4 *)((int)this + 0x378) = 0;
  *(undefined4 *)((int)this + 0x380) = 0;
  *(undefined4 *)((int)this + 900) = 0;
  *(undefined4 *)((int)this + 0x80) = 0;
  *(undefined4 *)((int)this + 0x38c) = 0;
  *(undefined4 *)((int)this + 0x390) = 0;
  *(undefined4 *)((int)this + 0x394) = 0;
  *(undefined4 *)((int)this + 0x388) = 0;
  UI_ValidateWidgetLayout(this,0,0,0x280,0x1e0);
  (**(code **)(**(int **)((int)this + 0x36c) + 0x34))(500,0x1bf,0x78,0x1e);
  (**(code **)(**(int **)((int)this + 0x370) + 0x34))(0x14,0x1c0,0x1e,0x1e);
  ExceptionList = local_10;
  return (undefined4 *)this;
}


