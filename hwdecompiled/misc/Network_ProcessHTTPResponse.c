/*
 * Function: Network_ProcessHTTPResponse
 * Address: 004a3dc0
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


void __fastcall Network_ProcessHTTPResponse(void *param_1,undefined4 param_2)

{
  char cVar1;
  int iVar2;
  undefined2 uVar3;
  int iVar4;
  undefined4 uVar5;
  uint uVar6;
  _String_base *p_Var7;
  uint uVar8;
  char *pcVar9;
  undefined4 extraout_ECX;
  int extraout_ECX_00;
  int extraout_ECX_01;
  int extraout_ECX_02;
  int extraout_ECX_03;
  int extraout_ECX_04;
  int extraout_ECX_05;
  int extraout_ECX_06;
  int extraout_ECX_07;
  int extraout_ECX_08;
  int extraout_ECX_09;
  int extraout_ECX_10;
  int extraout_ECX_11;
  int extraout_ECX_12;
  undefined4 *****pppppuVar10;
  int extraout_ECX_13;
  int extraout_ECX_14;
  int extraout_ECX_15;
  int extraout_ECX_16;
  int extraout_ECX_17;
  int extraout_ECX_18;
  int extraout_ECX_19;
  int extraout_ECX_20;
  int extraout_ECX_21;
  undefined4 extraout_EDX;
  uint extraout_EDX_00;
  uint extraout_EDX_01;
  uint extraout_EDX_02;
  uint extraout_EDX_03;
  uint extraout_EDX_04;
  uint extraout_EDX_05;
  uint extraout_EDX_06;
  uint extraout_EDX_07;
  uint extraout_EDX_08;
  uint extraout_EDX_09;
  uint extraout_EDX_10;
  uint extraout_EDX_11;
  uint extraout_EDX_12;
  uint extraout_EDX_13;
  uint extraout_EDX_14;
  uint extraout_EDX_15;
  uint extraout_EDX_16;
  uint extraout_EDX_17;
  uint extraout_EDX_18;
  uint extraout_EDX_19;
  undefined1 *puVar11;
  char *pcVar12;
  bool bVar13;
  undefined8 uVar14;
  uint unaff_retaddr;
  undefined4 in_stack_fffffbdc;
  char *in_stack_fffffbe0;
  undefined4 *puVar15;
  undefined4 *in_stack_fffffbfc;
  _String_base local_240 [260];
  _String_base local_13c [28];
  _String_base local_120 [4];
  uint local_11c;
  undefined4 local_10c;
  uint local_108;
  _String_base local_104 [4];
  uint local_100;
  undefined4 local_f0;
  uint local_ec;
  _String_base local_e8 [4];
  uint local_e4;
  undefined4 local_d4;
  uint local_d0;
  _String_base local_cc [4];
  uint local_c8;
  undefined4 local_b8;
  uint local_b4;
  _String_base local_b0 [4];
  uint local_ac;
  undefined4 local_9c;
  uint local_98;
  undefined4 local_94;
  void *local_90;
  undefined4 local_8c;
  int local_88;
  undefined4 local_84;
  undefined4 local_80;
  _String_base local_7c [4];
  uint local_78;
  uint local_68;
  uint local_64;
  undefined1 local_60 [4];
  undefined4 ****local_5c [4];
  int local_4c;
  uint local_48;
  undefined1 *local_44;
  _String_base local_40 [4];
  undefined4 ****local_3c [4];
  uint local_2c;
  uint local_28;
  undefined1 *local_24;
  uint local_20;
  uint local_1c;
  undefined1 local_17;
  char local_16;
  char local_15;
  uint local_14;
  void *local_10;
  undefined *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &DAT_00515ae2;
  local_10 = ExceptionList;
  local_14 = DAT_00569f5c ^ unaff_retaddr;
  ExceptionList = &local_10;
  local_90 = param_1;
  Debug_GetRegisterEBP(param_1,param_2);
  iVar4 = Debug_GetRegisterEDI(extraout_ECX,extraout_EDX);
  *(int *)((int)param_1 + 8) = iVar4;
  if (iVar4 == 0) {
    Scoring_AddPoints(param_1,6);
  }
  local_94 = 1;
  Debug_GetRegisterESI((int)&local_94,*(undefined4 *)((int)param_1 + 8));
  uVar6 = extraout_EDX_00;
  if (*(char *)((int)param_1 + 0xf2) == '\0') {
    in_stack_fffffbfc = (undefined4 *)0x4a3e72;
    iVar4 = Debug_GetRegisterEDX(extraout_ECX_00);
    if (iVar4 == -1) {
      if (*(uint *)((int)param_1 + 0xb0) < 0x10) {
        in_stack_fffffbfc = (undefined4 *)((int)param_1 + 0x9c);
      }
      else {
        in_stack_fffffbfc = *(undefined4 **)((int)param_1 + 0x9c);
      }
      iVar4 = Debug_GetRegisterECX(extraout_ECX_01);
      if ((iVar4 == 0) || (iVar4 = *(int *)**(undefined4 **)(iVar4 + 0xc), iVar4 == -1)) {
        Scoring_AddPoints(param_1,7);
        uVar6 = extraout_EDX_01;
        goto LAB_004a45be;
      }
    }
    local_84 = 0;
    local_80 = 0;
    local_8c = 2;
    local_88 = iVar4;
    uVar3 = func_0x0050f1f0();
    local_8c = CONCAT22(uVar3,(undefined2)local_8c);
    uVar14 = func_0x0050f1ea();
    uVar6 = (uint)((ulonglong)uVar14 >> 0x20);
    iVar4 = extraout_ECX_02;
    if ((int)uVar14 != 0) {
      iVar4 = func_0x0050f1e4();
      if (iVar4 != 0x2733) {
        Scoring_AddPoints(param_1,8);
      }
      uVar5 = Scoring_GetCurrentScore(param_1,'\0','\x01');
      iVar4 = extraout_ECX_03;
      uVar6 = extraout_EDX_02;
      if ((char)uVar5 == '\0') {
        Scoring_AddPoints(param_1,8);
        iVar4 = extraout_ECX_04;
        uVar6 = extraout_EDX_03;
      }
    }
    iVar2 = *(int *)((int)param_1 + 0x20);
    while ((iVar2 != 0 && (*(char *)((int)param_1 + 0xf2) == '\0'))) {
      Scoring_GetCurrentScore(param_1,'\0','\x01');
      uVar6 = func_0x0050f1de();
      if ((int)uVar6 < 1) {
        func_0x0050f1e4();
        Scoring_AddPoints(param_1,9);
        iVar4 = extraout_ECX_06;
        uVar6 = extraout_EDX_06;
      }
      else {
        p_Var7 = GameMenu_ProcessRegistrationScreen
                           ((_String_base *)((int)param_1 + 0xc),local_7c,uVar6,0xffffffff);
        local_8 = 0;
        PowerUp_ProcessThunderstrike
                  ((_String_base *)((int)param_1 + 0xc),extraout_EDX_04,p_Var7,0,0xffffffff);
        local_8 = 0xffffffff;
        if (0xf < local_64) {
                    /* WARNING: Subroutine does not return */
          System_ShutdownHandler(extraout_ECX_05,local_78);
        }
        local_64 = 0xf;
        local_68 = 0;
        local_78 = local_78 & 0xffffff00;
        iVar4 = extraout_ECX_05;
        uVar6 = extraout_EDX_05;
      }
      iVar2 = *(int *)((int)param_1 + 0x20);
    }
    local_15 = '\0';
    local_16 = '\0';
    puVar11 = (undefined1 *)0x0;
    local_44 = (undefined1 *)0x0;
    local_1c = 0;
    local_20 = 0;
    local_48 = 0xf;
    local_4c = 0;
    local_5c[0] = (undefined4 ****)((uint)local_5c[0] & 0xffffff00);
    local_8 = 1;
    if (*(char *)((int)param_1 + 0xf2) == '\0') {
      do {
        if (local_44 == puVar11) {
          Scoring_GetCurrentScore(param_1,'\x01','\0');
          iVar4 = func_0x0050f1d8();
          if (iVar4 < 1) {
            func_0x0050f1e4();
            iVar4 = extraout_ECX_20;
            uVar6 = extraout_EDX_18;
            break;
          }
          pppppuVar10 = (undefined4 *****)local_5c[0];
          if (local_48 < 0x10) {
            pppppuVar10 = local_5c;
          }
          Image_GetPitch(local_60,(int)pppppuVar10 + local_4c,(int)pppppuVar10 + local_4c,local_240,
                         local_240 + iVar4);
          local_240[iVar4] = (_String_base)0x0;
          iVar4 = extraout_ECX_07;
          uVar6 = extraout_EDX_07;
        }
        local_44 = puVar11;
        if (local_16 == '\0') {
          pcVar9 = "\r\n";
          do {
            pcVar12 = pcVar9;
            pcVar9 = pcVar12 + 1;
          } while (*pcVar12 != '\0');
          uVar8 = UI_Widget_ResetTransform
                            (local_60,"\r\n",(uint)puVar11,(uint)(pcVar12 + -0x531704));
          iVar4 = extraout_ECX_08;
          uVar6 = extraout_EDX_08;
          if (uVar8 != 0xffffffff) {
            GameMenu_ProcessRegistrationScreen(local_60,local_40,(uint)puVar11,uVar8 - (int)puVar11)
            ;
            local_24 = (undefined1 *)(uVar8 + 2);
            local_8._0_1_ = 2;
            p_Var7 = GameMenu_ProcessRegistrationScreen(local_40,local_b0,0,7);
            local_8._0_1_ = 3;
            pcVar9 = "HTTP/1.";
            do {
              pcVar12 = pcVar9;
              pcVar9 = pcVar12 + 1;
            } while (*pcVar12 != '\0');
            uVar6 = String_Compare(p_Var7,0,*(uint *)(p_Var7 + 0x14),(_String_base *)&DAT_00535988,
                                   (uint)(pcVar12 + -0x535988));
            local_8._0_1_ = 2;
            if (0xf < local_98) {
                    /* WARNING: Subroutine does not return */
              System_ShutdownHandler(extraout_ECX_09,local_ac);
            }
            local_98 = 0xf;
            local_9c = 0;
            local_ac = local_ac & 0xffffff00;
            if (uVar6 == 0) {
              GameMenu_ProcessRegistrationScreen(local_40,local_7c,9,3);
              local_8 = CONCAT31(local_8._1_3_,4);
              pcVar9 = "404";
              do {
                pcVar12 = pcVar9;
                pcVar9 = pcVar12 + 1;
              } while (*pcVar12 != '\0');
              uVar6 = String_Compare(local_7c,0,local_68,(_String_base *)&DAT_00535984,
                                     (uint)(pcVar12 + -0x535984));
              if (uVar6 == 0) {
                uVar5 = 3;
LAB_004a41c2:
                Scoring_AddPoints(param_1,uVar5);
                iVar4 = extraout_ECX_11;
                uVar6 = extraout_EDX_10;
              }
              else {
                pcVar9 = "200";
                do {
                  pcVar12 = pcVar9;
                  pcVar9 = pcVar12 + 1;
                } while (*pcVar12 != '\0');
                uVar8 = String_Compare(local_7c,0,local_68,(_String_base *)&DAT_00535980,
                                       (uint)(pcVar12 + -0x535980));
                iVar4 = extraout_ECX_10;
                uVar6 = extraout_EDX_09;
                if (uVar8 != 0) {
                  uVar5 = 4;
                  goto LAB_004a41c2;
                }
              }
              local_8._0_1_ = 2;
              if (0xf < local_64) {
                    /* WARNING: Subroutine does not return */
                System_ShutdownHandler(iVar4,uVar6);
              }
              local_64 = 0xf;
              local_68 = 0;
              local_78 = local_78 & 0xffffff00;
            }
            local_8._0_1_ = 2;
            pcVar9 = "Transfer-Encoding: chunked";
            do {
              pcVar12 = pcVar9;
              pcVar9 = pcVar12 + 1;
            } while (*pcVar12 != '\0');
            uVar6 = String_Compare(local_40,0,local_2c,(_String_base *)"Transfer-Encoding: chunked",
                                   (uint)(pcVar12 + -0x535964));
            if (uVar6 == 0) {
              local_15 = '\x01';
            }
            pcVar9 = "Transfer-Encoding: ";
            do {
              cVar1 = *pcVar9;
              pcVar9 = pcVar9 + 1;
            } while (cVar1 != '\0');
            iVar4 = Assembly_EmptyFunction();
            if (iVar4 == 0) {
              pcVar9 = "Transfer-Encoding: ";
              do {
                pcVar12 = pcVar9;
                pcVar9 = pcVar12 + 1;
              } while (*pcVar12 != '\0');
              pppppuVar10 = (undefined4 *****)local_3c[0];
              if (local_28 < 0x10) {
                pppppuVar10 = local_3c;
              }
              iVar4 = 9;
              bVar13 = true;
              pcVar9 = (char *)((int)pppppuVar10 + (int)(pcVar12 + -0x535950));
              pcVar12 = "identity";
              do {
                if (iVar4 == 0) break;
                iVar4 = iVar4 + -1;
                bVar13 = *pcVar9 == *pcVar12;
                pcVar9 = pcVar9 + 1;
                pcVar12 = pcVar12 + 1;
              } while (bVar13);
              if (!bVar13) {
                local_15 = '\x01';
              }
            }
            pcVar9 = "Content-Length: ";
            do {
              cVar1 = *pcVar9;
              pcVar9 = pcVar9 + 1;
            } while (cVar1 != '\0');
            uVar14 = Assembly_EmptyFunction();
            uVar6 = (uint)((ulonglong)uVar14 >> 0x20);
            iVar4 = extraout_ECX_12;
            if ((int)uVar14 == 0) {
              pcVar9 = "Content-Length: ";
              do {
                pcVar12 = pcVar9;
                pcVar9 = pcVar12 + 1;
              } while (*pcVar12 != '\0');
              pppppuVar10 = (undefined4 *****)local_3c[0];
              if (local_28 < 0x10) {
                pppppuVar10 = local_3c;
              }
              local_20 = _atol((char *)((int)pppppuVar10 + (int)(pcVar12 + -0x535930)));
              iVar4 = extraout_ECX_13;
              uVar6 = extraout_EDX_11;
            }
            if (local_2c == 0) {
              local_16 = '\x01';
            }
            local_8 = CONCAT31(local_8._1_3_,1);
            if (0xf < local_28) {
                    /* WARNING: Subroutine does not return */
              System_ShutdownHandler(iVar4,uVar6);
            }
            local_28 = 0xf;
            local_2c = 0;
            local_3c[0] = (undefined4 ****)((uint)local_3c[0] & 0xffffff00);
            puVar11 = local_24;
            param_1 = local_90;
          }
        }
        else if (local_15 == '\0') {
          uVar6 = local_4c - (int)puVar11;
          if ((int)local_20 < 1) {
            p_Var7 = GameMenu_ProcessRegistrationScreen(local_60,local_cc,(uint)puVar11,uVar6);
            local_8._0_1_ = 9;
            Enemy_UpdateAI((void *)((int)param_1 + 0xd4),(int)p_Var7,0,0xffffffff);
            local_8 = CONCAT31(local_8._1_3_,1);
            if (0xf < local_b4) {
                    /* WARNING: Subroutine does not return */
              System_ShutdownHandler(extraout_ECX_19,local_c8);
            }
            local_b4 = 0xf;
            local_b8 = 0;
            local_c8 = local_c8 & 0xffffff00;
            puVar11 = puVar11 + uVar6;
            iVar4 = extraout_ECX_19;
            uVar6 = extraout_EDX_17;
          }
          else {
            if ((int)local_20 < (int)uVar6) {
              uVar6 = local_20;
            }
            p_Var7 = GameMenu_ProcessRegistrationScreen(local_60,local_104,(uint)puVar11,uVar6);
            local_8._0_1_ = 8;
            Enemy_UpdateAI((void *)((int)param_1 + 0xd4),(int)p_Var7,0,0xffffffff);
            local_8 = CONCAT31(local_8._1_3_,1);
            if (0xf < local_ec) {
                    /* WARNING: Subroutine does not return */
              System_ShutdownHandler(extraout_ECX_18,extraout_EDX_16);
            }
            puVar11 = puVar11 + uVar6;
            local_20 = local_20 - uVar6;
            local_ec = 0xf;
            local_f0 = 0;
            local_100 = local_100 & 0xffffff00;
            iVar4 = extraout_ECX_18;
            uVar6 = extraout_EDX_16;
            if (local_20 == 0) break;
          }
        }
        else {
          if (local_1c == 0) {
            pcVar9 = "\r\n";
            do {
              pcVar12 = pcVar9;
              pcVar9 = pcVar12 + 1;
            } while (*pcVar12 != '\0');
            uVar8 = UI_Widget_ResetTransform
                              (local_60,"\r\n",(uint)puVar11,(uint)(pcVar12 + -0x531704));
            iVar4 = extraout_ECX_14;
            uVar6 = extraout_EDX_12;
            if (uVar8 == 0xffffffff) goto LAB_004a458e;
            GameMenu_ProcessRegistrationScreen
                      (local_60,local_13c,(uint)puVar11,uVar8 - (int)puVar11);
            local_8._0_1_ = 5;
            p_Var7 = Sound_LoadFromFile(local_e8,local_13c);
            local_24 = &stack0xfffffbdc;
            local_8._0_1_ = 6;
            Survival_LoadConfiguration
                      ((_String_base *)&stack0xfffffbdc,(_String_base *)&DAT_0053592c,(int)p_Var7);
            uVar6 = String_Length(in_stack_fffffbdc,in_stack_fffffbe0);
            local_17 = (char)uVar6 == '\0';
            local_8 = CONCAT31(local_8._1_3_,5);
            if (0xf < local_d0) {
                    /* WARNING: Subroutine does not return */
              System_ShutdownHandler(extraout_ECX_15,local_e4);
            }
            local_d0 = 0xf;
            local_d4 = 0;
            local_e4 = local_e4 & 0xffffff00;
            if (((bool)local_17) || (local_1c == 0)) {
              String_Destructor((int)local_13c,extraout_EDX_13);
              iVar4 = extraout_ECX_21;
              uVar6 = extraout_EDX_19;
              break;
            }
            puVar11 = (undefined1 *)(uVar8 + 2);
            local_8 = CONCAT31(local_8._1_3_,1);
            String_Destructor((int)local_13c,extraout_EDX_13);
            iVar4 = extraout_ECX_16;
            uVar6 = extraout_EDX_14;
          }
          uVar8 = local_4c - (int)puVar11;
          if ((int)local_1c < local_4c - (int)puVar11) {
            uVar8 = local_1c;
          }
          if (0 < (int)uVar8) {
            p_Var7 = GameMenu_ProcessRegistrationScreen(local_60,local_120,(uint)puVar11,uVar8);
            local_8._0_1_ = 7;
            Enemy_UpdateAI((void *)((int)param_1 + 0xd4),(int)p_Var7,0,0xffffffff);
            local_8 = CONCAT31(local_8._1_3_,1);
            if (0xf < local_108) {
                    /* WARNING: Subroutine does not return */
              System_ShutdownHandler(local_11c,extraout_EDX_15);
            }
            puVar11 = puVar11 + uVar8;
            local_1c = local_1c - uVar8;
            local_108 = 0xf;
            local_10c = 0;
            local_11c = local_11c & 0xffffff00;
            iVar4 = extraout_ECX_17;
            uVar6 = extraout_EDX_15;
            if (local_1c == 0) {
              puVar11 = puVar11 + 2;
            }
          }
        }
LAB_004a458e:
      } while (*(char *)((int)param_1 + 0xf2) == '\0');
      if (0xf < local_48) {
                    /* WARNING: Subroutine does not return */
        System_ShutdownHandler(iVar4,uVar6);
      }
    }
  }
LAB_004a45be:
  puVar15 = *(undefined4 **)((int)param_1 + 8);
  Debug_GetRegisterEBX((uint)puVar15,uVar6);
  *(undefined4 *)((int)param_1 + 8) = 0;
  func_0x0050f1cc();
  if (*(char *)((int)param_1 + 0xf3) == '\0') {
    if (*(int *)((int)param_1 + 0xf4) == 2) {
      *(undefined4 *)((int)param_1 + 0xf4) = 0;
    }
  }
  else {
    Scoring_AddPoints(param_1,5);
  }
  *(undefined1 *)((int)param_1 + 0xf1) = 0;
  *(undefined1 *)((int)param_1 + 0xf0) = 0;
  ExceptionList = local_10;
  Exception_SetMessage((void *)(local_14 ^ unaff_retaddr),puVar15,in_stack_fffffbfc);
  return;
}


