/*
 * Function: ZLIB_GZRead
 * Address: 004cbc80
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


char __cdecl ZLIB_GZRead(int param_1)

{
  undefined2 uVar1;
  int iVar2;
  bool bVar3;
  int *in_EAX;
  ushort *puVar4;
  int iVar5;
  int *piVar6;
  
  iVar2 = in_EAX[param_1 + 0x12];
  if (iVar2 == 0) {
    *(undefined4 *)(*in_EAX + 0x14) = 0x34;
    *(int *)(*in_EAX + 0x18) = param_1;
    (**(code **)*in_EAX)();
  }
  bVar3 = false;
  puVar4 = (ushort *)(iVar2 + 4);
  iVar5 = 8;
  do {
    if (0xff < puVar4[-2]) {
      bVar3 = true;
    }
    if (0xff < puVar4[-1]) {
      bVar3 = true;
    }
    if (0xff < *puVar4) {
      bVar3 = true;
    }
    if (0xff < puVar4[1]) {
      bVar3 = true;
    }
    if (0xff < puVar4[2]) {
      bVar3 = true;
    }
    if (0xff < puVar4[3]) {
      bVar3 = true;
    }
    if (0xff < puVar4[4]) {
      bVar3 = true;
    }
    if (0xff < puVar4[5]) {
      bVar3 = true;
    }
    puVar4 = puVar4 + 8;
    iVar5 = iVar5 + -1;
  } while (iVar5 != 0);
  if (*(char *)(iVar2 + 0x80) == '\0') {
    ZLIB_GZDOpen(0xdb);
    ZLIB_GZSetParams();
    ZLIB_GZOpen(bVar3 * '\x10' + (char)param_1);
    piVar6 = &DAT_00542c30;
    do {
      uVar1 = *(undefined2 *)(iVar2 + *piVar6 * 2);
      if (bVar3) {
        ZLIB_GZOpen((char)((ushort)uVar1 >> 8));
      }
      ZLIB_GZOpen((char)uVar1);
      piVar6 = piVar6 + 1;
    } while ((int)piVar6 < 0x542d30);
    *(undefined1 *)(iVar2 + 0x80) = 1;
  }
  return bVar3;
}


