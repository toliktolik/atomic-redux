/*
 * Function: TreeMap_InsertOrFind
 * Address: 004a3810
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


void __thiscall TreeMap_InsertOrFind(void *this,undefined4 *param_1,uint *param_2)

{
  uint *puVar1;
  bool bVar2;
  uint *puVar3;
  uint *puVar4;
  undefined4 *puVar5;
  uint *puVar6;
  char local_8;
  
  puVar3 = param_2;
  puVar1 = *(uint **)((int)this + 4);
  bVar2 = true;
  local_8 = '\x01';
  puVar6 = puVar1;
  if (*(char *)((int)puVar1[1] + 0x31) == '\0') {
    puVar4 = (uint *)puVar1[1];
    do {
      puVar6 = puVar4;
      if ((*param_2 < puVar6[3]) || ((*param_2 <= puVar6[3] && (param_2[1] < puVar6[4])))) {
        puVar4 = (uint *)*puVar6;
        bVar2 = true;
        local_8 = '\x01';
      }
      else {
        puVar4 = (uint *)puVar6[2];
        bVar2 = false;
        local_8 = '\0';
      }
    } while (*(char *)((int)puVar4 + 0x31) == '\0');
  }
  param_2 = puVar6;
  if (bVar2) {
    if (puVar6 == (uint *)*puVar1) {
      local_8 = '\x01';
      goto LAB_004a3867;
    }
    Math_CalculateDistance((int *)&param_2);
  }
  if ((*puVar3 <= param_2[3]) && ((*puVar3 < param_2[3] || (puVar3[1] <= param_2[4])))) {
    *param_1 = param_2;
    *(undefined1 *)(param_1 + 1) = 0;
    return;
  }
LAB_004a3867:
  puVar5 = (undefined4 *)RedBlackTree_InsertWithRebalance(this,&param_2,local_8,puVar6,puVar3);
  *param_1 = *puVar5;
  *(undefined1 *)(param_1 + 1) = 1;
  return;
}


