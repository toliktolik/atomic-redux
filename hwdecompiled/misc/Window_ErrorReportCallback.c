/*
 * Function: Window_ErrorReportCallback
 * Address: 004ac730
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


void __thiscall
Window_ErrorReportCallback(void *this,HWND param_1,UINT param_2,WPARAM param_3,int param_4)

{
  _String_base _Var1;
  uint uVar2;
  _String_base *p_Var3;
  undefined4 extraout_ECX;
  undefined4 extraout_EDX;
  undefined4 *unaff_EBP;
  undefined4 *unaff_retaddr;
  _String_base local_2008 [8164];
  undefined4 uStack_24;
  
  System_LoadLibrary(this);
  uVar2 = (uint)DAT_00569f5c ^ (uint)unaff_retaddr;
  if (param_2 == 0x10) {
    DAT_005a3818 = 1;
    Exception_SetMessage(DAT_00569f5c,unaff_EBP,unaff_retaddr);
    return;
  }
  if (param_2 == 0x111) {
    if (param_4 == DAT_005a37e8) {
      ShowWindow(param_1,0);
      GetWindowTextA(DAT_005a37f0,(LPSTR)local_2008,0x2000);
      p_Var3 = local_2008;
      do {
        _Var1 = *p_Var3;
        p_Var3 = p_Var3 + 1;
      } while (_Var1 != (_String_base)0x0);
      String_Assign(&DAT_00567638,local_2008,(int)p_Var3 - (int)(local_2008 + 1));
      Window_CreateProgressDialog();
      Memory_ReallocateBlock(extraout_ECX,extraout_EDX);
      uStack_24 = 0x4ac7de;
      DefWindowProcA(param_1,0x111,param_3,param_4);
      Exception_SetMessage((void *)(uVar2 ^ (uint)unaff_retaddr),unaff_EBP,unaff_retaddr);
      return;
    }
    if (param_4 == DAT_005a37ec) {
      DAT_005a3818 = 1;
    }
  }
  uStack_24 = 0x4ac80e;
  DefWindowProcA(param_1,param_2,param_3,param_4);
  Exception_SetMessage((void *)(uVar2 ^ (uint)unaff_retaddr),unaff_EBP,unaff_retaddr);
  return;
}


