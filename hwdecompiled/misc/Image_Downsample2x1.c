/*
 * Function: Image_Downsample2x1
 * Address: 004d9630
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


void __cdecl Image_Downsample2x1(int param_1,int param_2,undefined4 *param_3,int param_4)

{
  int iVar1;
  byte *pbVar2;
  undefined1 *puVar3;
  int iVar4;
  uint uVar5;
  undefined4 *local_c;
  int local_8;
  
  iVar1 = *(int *)(param_2 + 0x1c);
  Image_FillPixelBoundaries
            ((void *)(iVar1 * 0x10),(int)param_3,*(int *)(param_1 + 0xdc),*(int *)(param_1 + 0x1c));
  local_8 = 0;
  if (0 < *(int *)(param_2 + 0xc)) {
    local_c = param_3;
    do {
      puVar3 = *(undefined1 **)((param_4 - (int)param_3) + (int)local_c);
      pbVar2 = (byte *)*local_c;
      uVar5 = 0;
      for (iVar4 = iVar1 << 3; iVar4 != 0; iVar4 = iVar4 + -1) {
        *puVar3 = (char)((int)((uint)*pbVar2 + uVar5 + pbVar2[1]) >> 1);
        puVar3 = puVar3 + 1;
        uVar5 = uVar5 ^ 1;
        pbVar2 = pbVar2 + 2;
      }
      local_8 = local_8 + 1;
      local_c = local_c + 1;
    } while (local_8 < *(int *)(param_2 + 0xc));
  }
  return;
}


