/*
 * Function: Settings_ProcessResolutionOptions
 * Address: 00426e60
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


undefined4 * __thiscall Settings_ProcessResolutionOptions(void *this,int param_1)

{
  int iVar1;
  undefined4 uVar2;
  int iVar3;
  void *this_00;
  int *piVar4;
  int iVar5;
  int iVar6;
  ulonglong uVar7;
  void *local_10;
  undefined4 uStack_c;
  int local_8;
  
  local_8 = 0xffffffff;
  uStack_c = 0x511433;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  SexyWidget_Constructor((undefined4 *)this);
  *(undefined ***)((int)this + 0x58) = &PTR_EmptyFunction_NoOp_0053127c;
  *(undefined ***)this = &PTR_Settings_ProcessDifficultyOptions_0052e488;
  *(undefined ***)((int)this + 0x58) = &PTR_EmptyFunction_NoOp_0052e468;
  *(int *)((int)this + 0x5c) = param_1;
  *(undefined4 *)((int)this + 0x98) = *(undefined4 *)(param_1 + 0x920);
  *(undefined4 *)((int)this + 0x60) = 0;
  *(undefined4 *)((int)this + 100) = 0;
  local_8 = 0;
  uVar7 = Math_FloatToUInt64();
  iVar5 = (int)uVar7;
  *(int *)((int)this + 0x68) = iVar5;
  *(undefined4 *)((int)this + 0x6c) = 0;
  if (iVar5 == 100) {
    *(int *)((int)this + 0x70) = (*(int *)(param_1 + 0x960) + 1) * 10000;
  }
  else if (iVar5 < 0x5f) {
    if (iVar5 < 0x5a) {
      *(undefined4 *)((int)this + 0x70) = 0;
    }
    else {
      *(int *)((int)this + 0x70) = (*(int *)(param_1 + 0x960) + 1) * 1000;
    }
  }
  else {
    *(int *)((int)this + 0x70) = (*(int *)(param_1 + 0x960) + 1) * 5000;
  }
  *(undefined4 *)((int)this + 0x74) = 0;
  if (*(int *)(*(int *)((int)this + 0x98) + 0x340) == 0) {
    iVar5 = (*(int *)(param_1 + 0x960) + 1) * 5000;
  }
  else {
    iVar5 = 0;
  }
  *(int *)((int)this + 0x78) = iVar5;
  *(undefined4 *)((int)this + 0x7c) = 0;
  if (*(int *)(param_1 + 0x964) == 2) {
    iVar3 = (*(int *)(param_1 + 0x960) + 1) * 5000;
  }
  else {
    iVar3 = 0;
  }
  *(int *)((int)this + 0x80) = iVar3;
  *(undefined4 *)((int)this + 0x84) = 0;
  *(int *)((int)this + 0x88) = 2 - *(int *)(param_1 + 0x964);
  *(undefined4 *)((int)this + 0x90) = *(undefined4 *)(param_1 + 0x95c);
  *(int *)(param_1 + 0x95c) = *(int *)(param_1 + 0x95c) + iVar3 + iVar5 + *(int *)((int)this + 0x70)
  ;
  this_00 = operator_new(0x108);
  local_8._0_1_ = 1;
  if (this_00 == (void *)0x0) {
    piVar4 = (int *)0x0;
  }
  else {
    piVar4 = SexyWidget_ApplyEffects(this_00,0,0,(int)this + 0x58);
  }
  *(int **)((int)this + 0x94) = piVar4;
  local_8 = (uint)local_8._1_3_ << 8;
  piVar4[0x20] = *(int *)(*(int *)(*(int *)((int)this + 0x5c) + 0x8a0) + 8);
  iVar5 = *(int *)((int)this + 0x94);
  *(undefined4 *)(iVar5 + 0xa0) = 0x87;
  *(undefined4 *)(iVar5 + 0xa4) = 0;
  *(undefined4 *)(iVar5 + 0xa8) = 0x82;
  *(undefined4 *)(iVar5 + 0xac) = 0x28;
  iVar5 = *(int *)((int)this + 0x94);
  *(undefined4 *)(iVar5 + 0xb0) = 0x10e;
  *(undefined4 *)(iVar5 + 0xb4) = 0;
  *(undefined4 *)(iVar5 + 0xb8) = 0x87;
  *(undefined4 *)(iVar5 + 0xbc) = 0x2d;
  iVar5 = *(int *)((int)this + 0x94);
  *(undefined4 *)(iVar5 + 0xe0) = 0x9999999a;
  *(undefined4 *)(iVar5 + 0xe4) = 0x3fa99999;
  iVar5 = *(int *)((int)this + 0x94);
  *(undefined4 *)(iVar5 + 0xe8) = 0x9999999a;
  *(undefined4 *)(iVar5 + 0xec) = 0x3fa99999;
  (**(code **)(**(int **)(*(int *)((int)this + 0x5c) + 0x330) + 8))(4,0x49,0);
  System_GetSystemTime(*(void **)((int)this + 0x5c),0,0);
  iVar5 = *(int *)((int)this + 0x98);
  uVar7 = Math_FloatToUInt64();
  iVar3 = (int)uVar7;
  if (iVar3 == 100) {
    iVar3 = (*(int *)(*(int *)((int)this + 0x5c) + 0x960) + 1) * 10000;
  }
  else if (iVar3 < 0x5f) {
    if (iVar3 < 0x5a) {
      iVar3 = 0;
    }
    else {
      iVar3 = (*(int *)(*(int *)((int)this + 0x5c) + 0x960) + 1) * 1000;
    }
  }
  else {
    iVar3 = (*(int *)(*(int *)((int)this + 0x5c) + 0x960) + 1) * 5000;
  }
  if (*(int *)(iVar5 + 0x340) == 0) {
    iVar5 = (*(int *)(*(int *)((int)this + 0x5c) + 0x960) + 1) * 5000;
  }
  else {
    iVar5 = 0;
  }
  iVar1 = *(int *)((int)this + 0x5c);
  if (*(int *)(iVar1 + 0x964) == 2) {
    iVar6 = (*(int *)(iVar1 + 0x960) + 1) * 5000;
  }
  else {
    iVar6 = 0;
  }
  iVar3 = iVar6 + iVar5 + iVar3;
  *(int *)(iVar1 + 0x95c) = *(int *)(iVar1 + 0x95c) + iVar3;
  iVar5 = *(int *)(*(int *)((int)this + 0x5c) + 0x960);
  if (iVar5 < 0x12) {
    *(int *)(*(int *)((int)this + 0x5c) + 0x960) = iVar5 + 1;
  }
  uVar2 = *(undefined4 *)(*(int *)((int)this + 0x5c) + 0x964);
  *(undefined4 *)(*(int *)((int)this + 0x5c) + 0x964) = 3;
  GameEngine_ProcessGameLogic(*(int *)((int)this + 0x5c));
  *(undefined2 *)
   (*(int *)(*(int *)((int)this + 0x5c) + 0xb40) * 0x60 + 0x40 +
   *(int *)(*(int *)((int)this + 0x5c) + 0x148c)) =
       *(undefined2 *)(*(int *)((int)this + 0x98) + 0x1a8);
  UserDataSystem_SaveUserProfiles(*(void **)((int)this + 0x5c));
  *(undefined4 *)(*(int *)((int)this + 0x5c) + 0x964) = uVar2;
  *(int *)(*(int *)((int)this + 0x5c) + 0x95c) =
       *(int *)(*(int *)((int)this + 0x5c) + 0x95c) - iVar3;
  if (iVar5 < 0x12) {
    piVar4 = (int *)(*(int *)((int)this + 0x5c) + 0x960);
    *piVar4 = *piVar4 + -1;
  }
  UI_ValidateWidgetLayout(this,0,0,0x280,0x1e0);
  (**(code **)(**(int **)((int)this + 0x94) + 0x34))(0x1ef,0x1a4,0x87,0x2d);
  ExceptionList = local_10;
  return (undefined4 *)this;
}


