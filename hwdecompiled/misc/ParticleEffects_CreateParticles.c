/*
 * Function: ParticleEffects_CreateParticles
 * Address: 0042b900
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void __thiscall
ParticleEffects_CreateParticles
          (int param_1,int param_2,int param_3,int param_4,int param_5,int param_6,double param_7,
          double param_8,int param_9,double param_10,int param_11,int param_12,int param_13,
          int param_14,int param_15,undefined1 param_16,int param_17)

{
  undefined4 uVar1;
  double dVar2;
  int *piVar3;
  undefined4 *puVar4;
  int iVar5;
  float10 fVar6;
  ulonglong uVar7;
  double local_10;
  
  if (0 < param_9) {
    do {
      piVar3 = (int *)operator_new(0x50);
      puVar4 = (undefined4 *)operator_new(0xc);
      uVar1 = *(undefined4 *)(param_1 + 0xc);
      puVar4[1] = 0;
      puVar4[2] = uVar1;
      dVar2 = _DAT_0052a0c0;
      *(undefined4 **)(*(int *)(param_1 + 0xc) + 4) = puVar4;
      *puVar4 = piVar3;
      *(undefined4 **)(param_1 + 0xc) = puVar4;
      *(int *)(param_1 + 0x10) = *(int *)(param_1 + 0x10) + 1;
      *piVar3 = param_2;
      piVar3[4] = param_5;
      piVar3[2] = param_3;
      piVar3[3] = param_4;
      piVar3[5] = param_6;
      local_10 = 0.0;
      if (dVar2 < param_10) {
        iVar5 = Collision_HandleEnemyHit();
        uVar7 = Math_FloatToUInt64();
        local_10 = (double)(iVar5 % (int)uVar7) * _DAT_0052c538;
      }
      iVar5 = Collision_HandleEnemyHit();
      fVar6 = (float10)fcos((float10)(iVar5 % 0xe10) * (float10)_DAT_0052ed68);
      *(double *)(piVar3 + 6) = (double)(fVar6 * (float10)local_10 + (float10)param_7);
      iVar5 = Collision_HandleEnemyHit();
      piVar3[0xb] = param_12;
      *(undefined1 *)(piVar3 + 0xe) = param_16;
      piVar3[0xc] = param_13;
      piVar3[10] = param_11;
      piVar3[0xd] = param_14;
      fVar6 = (float10)fsin((float10)(iVar5 % 0xe10) * (float10)_DAT_0052ed68);
      *(double *)(piVar3 + 8) = (double)(fVar6 * (float10)local_10 + (float10)param_8);
      if (param_17 < 0) {
        piVar3[0x10] = 0;
        piVar3[0x11] = 0;
        *(double *)(piVar3 + 0x12) = (double)*(int *)(param_2 + 0x18) / (double)param_15;
      }
      else {
        piVar3[0x12] = 0;
        piVar3[0x13] = 0;
        *(double *)(piVar3 + 0x10) = (double)param_17;
      }
      param_9 = param_9 + -1;
    } while (param_9 != 0);
  }
  return;
}


