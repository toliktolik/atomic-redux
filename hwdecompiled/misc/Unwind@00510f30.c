/*
 * Function: Unwind@00510f30
 * Address: 00510f30
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


/* WARNING: Control flow encountered bad instruction data */
/* WARNING: Instruction at (ram,0x00510ee9) overlaps instruction at (ram,0x00510ee8)
    */
/* WARNING (jumptable): Unable to track spacebase fully for stack */
/* WARNING: Unable to track spacebase fully for stack */
/* WARNING: Removing unreachable block (ram,0x005112ea) */
/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

uint * __fastcall Unwind_00510f30(int param_1,int param_2,undefined1 param_3)

{
  char *pcVar1;
  longlong lVar2;
  code *pcVar3;
  undefined1 uVar4;
  ushort uVar5;
  uint uVar6;
  uint *puVar7;
  uint *in_EAX;
  int iVar8;
  undefined4 uVar9;
  short sVar12;
  uint uVar10;
  char cVar13;
  byte bVar17;
  uint *puVar14;
  uint uVar15;
  int iVar16;
  int extraout_ECX;
  uint extraout_ECX_00;
  int extraout_EDX;
  byte bVar18;
  byte bVar19;
  uint *unaff_EBX;
  uint *puVar20;
  byte *pbVar21;
  int iVar22;
  uint *puVar23;
  int *piVar24;
  int *piVar25;
  undefined4 *puVar26;
  int unaff_EBP;
  uint *unaff_ESI;
  uint *puVar27;
  undefined1 *puVar28;
  undefined4 *puVar29;
  uint *unaff_EDI;
  uint *puVar30;
  undefined4 *puVar31;
  undefined2 in_ES;
  undefined2 uVar32;
  undefined2 in_SS;
  undefined2 in_DS;
  bool in_CF;
  byte in_AF;
  bool bVar33;
  bool bVar34;
  byte bVar35;
  bool bVar36;
  undefined2 in_FPUControlWord;
  undefined2 in_FPUStatusWord;
  undefined2 in_FPUTagWord;
  undefined2 in_FPULastInstructionOpcode;
  undefined4 in_FPUDataPointer;
  undefined4 in_FPUInstructionPointer;
  undefined8 uVar37;
  int unaff_retaddr;
  undefined3 uVar11;
  
  bVar35 = 0;
  bVar36 = SCARRY4(param_1,1);
  puVar14 = (uint *)(param_1 + 1);
  bVar34 = (int)puVar14 < 0;
  bVar33 = puVar14 == (uint *)0x0;
  bVar18 = (byte)((uint)param_2 >> 8);
  puVar20 = unaff_EBX;
  puVar7 = unaff_EDI;
  if (in_CF || bVar33) {
    *(int *)((int)unaff_EBX + -0x2e5a7d4a) =
         *(int *)((int)unaff_EBX + -0x2e5a7d4a) << ((byte)puVar14 & 0x1f);
    puVar20 = (uint *)((int)unaff_EBX + -1);
    in_EAX = (uint *)CONCAT31((int3)((uint)in_EAX >> 8),DAT_cca241d1);
    if (puVar14 == (uint *)0x1 || puVar20 == (uint *)0x0) {
      return in_EAX;
    }
    *(undefined2 *)unaff_EDI = in_SS;
    puVar28 = (undefined1 *)CONCAT13(param_3,(int3)((uint)unaff_retaddr >> 8));
    puVar23 = (uint *)0x7609486e;
    unaff_ESI = (uint *)(puVar28 + 1);
    out(*puVar28,(short)param_2);
    *(byte *)unaff_ESI = (byte)puVar20;
    puVar7 = puRam7609486e;
    bVar36 = false;
    bVar17 = bVar18 | 0xb6;
    puVar14 = (uint *)CONCAT22(0xa3b8,CONCAT11(bVar17,0x79));
    bVar34 = (char)bVar17 < '\0';
    bVar33 = bVar17 == 0;
    if ((POPCOUNT(bVar17) & 1U) == 0) {
      while( true ) {
        bVar18 = 9 < ((byte)unaff_EBP & 0xf) | in_AF;
        uVar6 = CONCAT31((int3)((uint)unaff_EBP >> 8),(byte)unaff_EBP + bVar18 * '\x06') &
                0xffffff0f;
        uVar6 = CONCAT22((short)(uVar6 >> 0x10),
                         CONCAT11((char)((uint)unaff_EBP >> 8) + bVar18,(char)uVar6)) ^ 0x9d7255ef;
        param_2 = param_2 - *(int *)((int)unaff_EBX + -0x39385b85);
        uVar5 = (short)(char)uVar6 * (short)*(char *)(uVar6 + 0x70087d84);
        puVar27 = (uint *)((int)unaff_ESI - *(int *)((int)unaff_EBX + 0x2fd7f181));
        in_AF = (uVar5 & 0x1000) != 0;
        uVar6 = in((short)param_2);
        uVar32 = *(undefined2 *)((int)puVar14 + 0x5f);
        if ((uVar5 & 0x8000) != 0) {
          do {
            puVar30 = unaff_EDI;
            if (puVar14 == (uint *)0x0) goto code_r0x0051102d;
            puVar14 = (uint *)((int)puVar14 + -1);
            puVar30 = unaff_EDI + 1;
            uVar15 = *unaff_EDI;
            unaff_EDI = puVar30;
            if (uVar6 == uVar15) goto code_r0x0051102d;
          } while( true );
        }
        bVar33 = (*(byte *)((int)unaff_EBX + -0x2aab7a15) & (byte)puVar20) == 0;
        uVar11 = (undefined3)(uVar6 >> 8);
        if (puVar14 == (uint *)0x1 || bVar33) break;
        puVar14 = (uint *)((int)puVar14 + -2);
        if (puVar14 == (uint *)0x0 || !bVar33) {
          pbVar21 = (byte *)(uVar6 - 1);
          *pbVar21 = *pbVar21 | 0x41;
          out(*puVar27,(short)param_2);
          iVar16 = CONCAT22((short)((uint)puVar14 >> 0x10),CONCAT11(0xa1,(char)puVar14));
          _DAT_7609486a = CONCAT22(DAT_7609486a_2,in_ES);
          if (iVar16 == 1 || ((uint)pbVar21 & (uint)unaff_EDI) == 0) {
            LOCK();
            *(uint *)((int)in_EAX + 0x49) = _DAT_ade3a7f2 | 0x44;
            UNLOCK();
            *(undefined2 *)(iVar16 + -0x45) = in_FPUControlWord;
            *(undefined2 *)(iVar16 + -0x41) = in_FPUStatusWord;
            *(undefined2 *)(iVar16 + -0x3d) = in_FPUTagWord;
            *(undefined4 *)(iVar16 + -0x31) = in_FPUDataPointer;
            *(undefined4 *)(iVar16 + -0x39) = in_FPUInstructionPointer;
            *(undefined2 *)(iVar16 + -0x33) = in_FPULastInstructionOpcode;
            do {
                    /* WARNING: Do nothing block with infinite loop */
            } while( true );
          }
                    /* WARNING: Bad instruction - Truncating control flow here */
          halt_baddata();
        }
        unaff_ESI = (uint *)((int)puVar27 + 1);
        unaff_EBP = CONCAT22((short)(uVar6 >> 0x10),(short)in_EAX);
        in_EAX = (uint *)CONCAT22((short)((uint)in_EAX >> 0x10),
                                  (short)CONCAT31(uVar11,(char)*puVar27));
      }
      puVar23 = (uint *)0x76094872;
      param_2 = CONCAT31((int3)((uint)param_2 >> 8),0x40);
      if (bVar33) {
        *puVar20 = *puVar20 << 0x16 | *puVar20 >> 10;
        bVar33 = (*puVar20 & 1) != 0;
        puVar30 = unaff_EDI;
        goto code_r0x0051107c;
      }
      uVar15 = (uint)puRam7609486e & *(uint *)(uVar6 - 0x79);
      puVar30 = (uint *)((int)unaff_EDI + 1);
      puVar28 = (undefined1 *)((int)puVar27 + 1);
      *(char *)unaff_EDI = (char)*puVar27;
      puVar27 = (uint *)((int)puVar27 + 2);
      uVar6 = CONCAT31(uVar11,*puVar28) & 0x1f5c2dff;
      puVar14 = (uint *)CONCAT31((int3)(uVar15 >> 8),(byte)uVar15 | (byte)unaff_EDI[-0x174bdb6d]);
      puVar7 = puVar20;
      while( true ) {
        puVar23 = puVar7;
        puVar30 = puVar30 + (uint)bVar35 * -2 + 1;
code_r0x0051102d:
        puVar28 = (undefined1 *)((int)puVar27 + -1);
        *puVar14 = *puVar14 & (uint)puVar23;
        uVar15 = *puVar14;
        pcVar1 = (char *)((int)puVar14 + (int)puVar28);
        *pcVar1 = *pcVar1 << ((byte)puVar14 & 0x1f);
        bVar33 = ((uint)puVar14 & 0x1f) != 0;
        if ((bVar33 || uVar15 != 0) && (!bVar33 || *pcVar1 != '\0')) break;
        bVar33 = CARRY4((uint)puVar28,(uint)puVar28);
        puVar27 = (uint *)((int)puVar28 * 2);
        puVar7 = puVar14;
code_r0x0051107c:
        bVar18 = (byte)((uint)puVar7 >> 8);
        bVar35 = (byte)((uint)puVar20 >> 8);
        *(char *)(param_2 + 3) =
             *(char *)(param_2 + 3) + (byte)puVar20 +
             (CARRY1(bVar18,bVar35) || CARRY1(bVar18 + bVar35,bVar33));
        *(byte *)((int)puVar20 + -0x29) = *(byte *)((int)puVar20 + -0x29) | 0x31;
        puVar14 = (uint *)*puVar23;
        puVar7 = (uint *)((int *)puVar23 + 1);
        pbVar21 = (byte *)((int)puVar20 + 0x452ba48e);
        bVar18 = (byte)puVar14 & 7;
        *pbVar21 = *pbVar21 << bVar18 | *pbVar21 >> 8 - bVar18;
        if (((uint)puVar14 & 0x1f) != 0 && (*pbVar21 & 1) != 0) {
          do {
                    /* WARNING: Do nothing block with infinite loop */
          } while( true );
        }
        bVar35 = 1;
        bVar18 = (byte)puVar20 ^ (byte)param_2;
        puVar20 = (uint *)CONCAT31((int3)((uint)puVar20 >> 8),bVar18);
        if (-1 < (char)bVar18) {
          *(char *)puVar30 = (char)uVar6;
          uVar11 = (undefined3)(uVar6 >> 8);
          iVar8 = CONCAT31(uVar11,0xef);
          *puVar23 = iVar8;
          bVar33 = CARRY4((uint)puVar20,*(uint *)(iVar8 + -0x27ed69aa));
          puVar28 = (undefined1 *)((int)puVar20 + *(uint *)(iVar8 + -0x27ed69aa));
          bVar34 = puVar28 == (undefined1 *)0x0;
          iVar16 = (int)puVar14 + -1;
          bVar18 = (byte)iVar16;
          if (iVar16 == 0 || bVar34) {
            iVar8 = CONCAT31(uVar11,puVar28[0xef]);
            out((short)param_2,iVar8);
            _DAT_dc8fc793 = iVar8;
            *(undefined2 *)((int *)puVar23 + -1) = in_SS;
            *(int *)((int)puVar30 + -1) = iVar8;
            bVar35 = *(byte *)((int)in_EAX + -99);
            ((int *)puVar23)[-1] = param_2;
            pbVar21 = (byte *)CONCAT31((int3)(CONCAT22((short)((uint)iVar16 >> 0x10),
                                                       CONCAT11((byte)((uint)iVar16 >> 8) | bVar35,
                                                                bVar18)) >> 8),bVar18 + 0x42);
            piVar24 = (int *)puVar23;
            do {
              pbVar21 = (byte *)CONCAT31((int3)((uint)pbVar21 >> 8),(char)pbVar21 + -0x40);
              iVar8 = CONCAT31((int3)((uint)iVar8 >> 8),0xb9);
              *(undefined2 *)((int)piVar24 + -8) = in_SS;
              piVar24 = (int *)((int)piVar24 + -4);
            } while (iVar8 == 0);
            *pbVar21 = *pbVar21 | (byte)param_2;
            *(byte **)((int)puVar30 + -5) = pbVar21;
                    /* WARNING: Bad instruction - Truncating control flow here */
            halt_baddata();
          }
          out((short)param_2,0xef);
          *(int *)((int)puVar30 + -1) = iVar8;
          if (bVar33) {
            *(undefined2 *)((int *)puVar23 + -1) = uVar32;
            uVar32 = 0xb69c;
            piVar25 = (int *)puVar23 + -2;
            puVar23 = (uint *)((int *)puVar23 + -2);
            *piVar25 = 0x511101;
            uVar37 = func_0xf5d6dec8();
            iVar16 = extraout_ECX;
            if (!bVar33 && !bVar34) {
              bVar18 = (byte)extraout_ECX;
              cVar13 = bVar18 - puVar28[(int)puVar27 * 2 + 0x5f];
              if ((byte)puVar28[(int)puVar27 * 2 + 0x5f] <= bVar18 && cVar13 != '\0') {
                piVar24 = (int *)(CONCAT31((int3)(CONCAT22((short)((uint)extraout_ECX >> 0x10),
                                                           CONCAT11((char)((uint)extraout_ECX >> 8)
                                                                    + (char)((ulonglong)uVar37 >>
                                                                            0x28) + bVar33,bVar18))
                                                 >> 8),cVar13) + 0x9e2709b);
                *piVar24 = *piVar24 + -0x1500fcf4;
                puVar29 = (undefined4 *)puVar23[1];
                *(undefined4 *)*puVar23 = *puVar29;
                return puVar29 + -1;
              }
              return (uint *)uVar37;
            }
          }
          else {
            puVar30[-0x115a7601] = puVar30[-0x115a7601] << (bVar18 & 0x1f);
            uVar9 = in(0xce);
            uVar37 = CONCAT44(param_2,uVar9);
          }
          DAT_be6586a5 = (undefined1)uVar37;
          uVar6 = *puVar27;
          pbVar21 = (byte *)((int)puVar23 + (int)(puVar27 + -1) * 2 + 0x5f);
          bVar18 = *pbVar21;
          bVar35 = (byte)((uint)iVar16 >> 8);
          *pbVar21 = *pbVar21 + bVar35;
          if (!CARRY1(bVar18,bVar35)) {
            puVar29 = (undefined4 *)(uVar6 & 0xcf837056);
            *(uint **)((int)puVar23 + -4) = puVar23;
            *(char *)(puVar27 + -0xc) = (char)puVar27[-0xc] + (char)iVar16;
            uVar6 = *(uint *)((int)puVar23 + -4);
            *(int *)((int)puVar27 + -0x73) =
                 (int)(*(int *)((int)puVar27 + -0x73) + (int)(puVar27 + -1));
            *(undefined4 **)((int)puVar30 + -5) = puVar29;
            iVar16 = (int)((ulonglong)uVar37 >> 0x20) * 0x69;
            *(undefined2 *)puVar23 = in_DS;
            *(char *)(iVar16 + -2) = (char)iVar16;
            uVar9 = GlobalDescriptorTableRegister();
            *(undefined4 *)(puVar28 + -2) = uVar9;
            puVar7 = (uint *)((int)puVar30 + -0xd);
            uVar9 = in((short)((ulonglong)uVar37 >> 0x20));
            *(undefined4 *)((int)puVar30 + -9) = uVar9;
            *(int *)((int)puVar23 + -4) = (int)in_EAX + 1;
            *(undefined2 *)((int)puVar23 + -8) = in_SS;
            bVar19 = (byte)(puVar28 + 1);
            pbVar21 = (byte *)CONCAT22((short)((uint)(puVar28 + 1) >> 0x10),CONCAT11(0xd3,bVar19));
            uVar9 = in(0xc2d8);
            iVar16 = *(int *)((int)puVar23 + -4);
            *(char *)(uVar6 + 0x7dfaf8df) = *(char *)(uVar6 + 0x7dfaf8df) - bVar19;
            pbVar21[iVar16 * 2 + 0x55] = pbVar21[iVar16 * 2 + 0x55] + 0xae;
            bVar18 = *pbVar21;
            bVar17 = (byte)((uint)uVar9 >> 8);
            bVar35 = *pbVar21;
            sVar12 = (short)((uint)uVar9 >> 0x10);
            cVar13 = bVar17 - bVar35;
            *(int *)((int)puVar23 + -4) = iVar16;
            if (-1 < cVar13) {
              iVar16 = (int)sVar12 >> 0xf;
              if (cVar13 != '\0' && (char)bVar35 <= (char)bVar17) {
                *(char *)((int)puVar29 + 0x56) = *(char *)((int)puVar29 + 0x56) >> 1;
                    /* WARNING: Bad instruction - Truncating control flow here */
                halt_baddata();
              }
              uVar15 = CONCAT22(sVar12,CONCAT11(cVar13,(char)uVar9)) + *(int *)(pbVar21 + -0x29) +
                       (uint)(bVar17 < bVar18);
              *puVar7 = *puVar7 | 0xffffffe7;
              if (-1 < (int)*puVar7) {
                pbVar21 = (byte *)CONCAT31((int3)((uint)pbVar21 >> 8),
                                           bVar19 | *(byte *)((int)puVar23 + uVar6 + 0x2a617254));
                *(undefined2 *)((int)puVar23 + -4) = uVar32;
                *(undefined4 *)((int)puVar23 + -8) = 0xeda3dc93;
                puVar29 = (undefined4 *)((int)puVar30 + -0xe);
                *(char *)puVar7 = (char)uVar15;
                if (uVar6 != 1 && (uVar15 & 0xdc) != 0) {
                  pbVar21 = pbVar21 + 1;
                }
                puVar7 = (uint *)(uVar15 + 0x71d0f4cb);
                *(byte **)((int)puVar23 + -8) = pbVar21;
                puVar31 = (undefined4 *)((int)puVar23 + -8);
                *(undefined4 **)((int)puVar23 + -8) = puVar29;
                cVar13 = '\x13';
                do {
                  puVar29 = puVar29 + -1;
                  puVar31 = puVar31 + -1;
                  *puVar31 = *puVar29;
                  cVar13 = cVar13 + -1;
                } while ('\0' < cVar13);
                *(undefined2 **)((int)puVar23 + -0x58) = (undefined2 *)((int)puVar23 + -8);
                bVar35 = (longlong)(int)((longlong)iVar16 * 0x44) != (longlong)iVar16 * 0x44;
                *(undefined2 *)((int)puVar23 + -0xcc2b) = uVar32;
                puVar26 = (undefined4 *)((int)puVar23 + -0xcc2f);
                *(undefined4 *)((int)puVar23 + -0xcc2f) = 0x51127f;
                func_0x76848269();
                in(0xbd);
                bVar18 = (byte)extraout_ECX_00 & 0x1f;
                cVar13 = *(char *)puVar7;
                *(char *)puVar7 = *(char *)puVar7 << bVar18;
                bVar33 = (extraout_ECX_00 & 0x1f) != 0;
                *(byte **)pbVar21 =
                     pbVar21 + (uint)(byte)(!bVar33 & bVar35 |
                                           (bVar33 && (char)(cVar13 << bVar18 - 1) < '\0')) +
                               *(int *)pbVar21;
                puVar29 = (undefined4 *)*puVar26;
                puVar23 = puVar26 + 1;
                uVar6 = extraout_ECX_00;
                iVar16 = extraout_EDX;
              }
              uVar32 = (undefined2)iVar16;
              uVar10 = in(uVar32);
              puVar14 = (uint *)CONCAT31((int3)(uVar6 >> 8),0x60);
              uVar9 = in(uVar32);
              uVar15 = (uint)((uVar10 & 0x100) != 0);
              uVar6 = *puVar14;
              puVar28 = (undefined1 *)((int)puVar23 + *puVar14);
              *(undefined4 *)(puVar28 + (uVar15 - 4)) = uVar9;
              *(undefined4 *)(puVar28 + (uVar15 - 8)) = uVar9;
              *(uint **)(puVar28 + (uVar15 - 0xc)) = puVar14;
              *(int *)(puVar28 + (uVar15 - 0x10)) = iVar16;
              *(byte **)(puVar28 + (uVar15 - 0x14)) = pbVar21;
              *(undefined1 **)(puVar28 + (uVar15 - 0x18)) = puVar28 + (uVar15 - 4);
              *(uint *)(puVar28 + (uVar15 - 0x1c)) = uVar10;
              *(undefined4 **)(puVar28 + (uVar15 - 0x20)) = puVar29;
              *(uint **)(puVar28 + (uVar15 - 0x24)) = puVar7;
              puVar31 = (undefined4 *)((uint)puVar7 ^ *(uint *)((int)puVar7 + 1));
              *(uint *)(puVar28 + (uVar15 - 0x28)) =
                   CONCAT22((short)((uint)uVar9 >> 0x10),
                            CONCAT11(((int)(puVar28 + uVar15) < 0) << 7 |
                                     (puVar28 + uVar15 == (undefined1 *)0x0) << 6 |
                                     ((uVar10 & 0x1000) != 0) << 4 |
                                     ((POPCOUNT((uint)(puVar28 + uVar15) & 0xff) & 1U) == 0) << 2 |
                                     2U | (CARRY4((uint)puVar23,uVar6) ||
                                          CARRY4((uint)puVar28,uVar15)),(char)uVar9));
              pbVar21[-0x3c] = pbVar21[-0x3c] - (char)((uint)iVar16 >> 8);
              *(undefined4 *)(puVar28 + (uVar15 - 0x2c)) = 0xffffffaf;
              uVar9 = in(0xa6);
              *(char *)(iVar16 + -0x66) = *(char *)(iVar16 + -0x66) - (char)((uint)uVar9 >> 8);
              out(uVar32,(char)uVar9);
              DAT_af3c70c7 = DAT_af3c70c7 | (byte)iVar16;
              uVar9 = in((short)(iVar16 + 1));
              DAT_10984e34 = DAT_10984e34 + '\x01';
              DAT_09247a77 = (undefined1)uVar9;
              iVar16 = -*(int *)(((iVar16 + 1) - (int)puVar31) + -0x5d914a3a);
              *(undefined4 *)(puVar28 + iVar16 + uVar15 + -0x30) = 0xb5d7fe81;
              *(undefined4 **)(puVar28 + iVar16 + uVar15 + -0x34) = puVar29;
              *puVar31 = *puVar29;
                    /* WARNING: Bad instruction - Truncating control flow here */
              halt_baddata();
            }
          }
          pcVar3 = (code *)swi(3);
          puVar7 = (uint *)(*pcVar3)();
          return puVar7;
        }
      }
      *(byte *)((int)puVar14 + -0x65) = *(byte *)((int)puVar14 + -0x65) | (byte)param_2;
      pcVar3 = (code *)swi(1);
      puVar7 = (uint *)(*pcVar3)();
      return puVar7;
    }
    puVar7 = unaff_EDI + 1;
    uVar6 = in((short)param_2);
    *unaff_EDI = uVar6;
    if (bVar33) {
                    /* WARNING: Bad instruction - Truncating control flow here */
      halt_baddata();
    }
    _DAT_7609486a = 0x7609486e;
  }
  if (!bVar33 && bVar36 == bVar34) {
                    /* WARNING: Could not recover jumptable at 0x00510ef8. Too many branches */
                    /* WARNING: Treating indirect jump as call */
    puVar7 = (uint *)(**(code **)((int)puVar7 + (int)puVar14))();
    return puVar7;
  }
  uVar11 = (undefined3)((uint)puVar20 >> 8);
  puVar20 = unaff_ESI;
  if ((POPCOUNT((int)puVar14 - 1U & 0xff) & 1U) != 0) {
    iVar16 = *(int *)CONCAT31(uVar11,10);
    *(char *)(unaff_EBP + 0x7deeb4ef) = *(char *)(unaff_EBP + 0x7deeb4ef) + bVar18;
    uVar4 = in(0x29);
    uVar6 = CONCAT31((int3)((uint)puVar7 >> 8),uVar4) - 1;
    _DAT_05b7b3d6 = uVar6;
    unaff_ESI[1] = unaff_ESI[1] + iVar16 + (uint)(uVar6 < *in_EAX);
    lVar2 = (longlong)*(int *)(unaff_retaddr + 0x55d24c3 + iVar16) * 0x61;
    iVar22 = (int)lVar2;
    pbVar21 = (byte *)((int)unaff_ESI + iVar16 * 4 + -0x3582cd06);
    bVar18 = (byte)iVar16 & 7;
    *pbVar21 = *pbVar21 >> bVar18 | *pbVar21 << 8 - bVar18;
    *(int *)(iVar22 + -4) = iVar16;
    *(uint *)((int)unaff_ESI + 0x19) = CONCAT31(uVar11,0x97);
    puVar14 = (uint *)((uint)(in_EAX + 1) & *(uint *)((int)unaff_ESI + -0x31));
    in(0xd3);
    in(0xd2);
    puVar7 = (uint *)CONCAT31(CONCAT21((short)(uVar6 >> 0x10),-(iVar22 != lVar2)),DAT_7b490ab3);
    in_EAX = puVar14 + -1;
    puVar20 = unaff_ESI + -1;
    *puVar14 = *unaff_ESI;
  }
  *in_EAX = *puVar20;
  return (uint *)CONCAT22((short)((uint)puVar7 >> 0x10),
                          (ushort)(byte)((char)puVar7 + (char)((uint)puVar7 >> 8) * 'W'));
}


