/*
 * Function: Unwind@00515a60
 * Address: 00515a60
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


/* WARNING: Control flow encountered bad instruction data */
/* WARNING: Instruction at (ram,0x00515a24) overlaps instruction at (ram,0x00515a23)
    */
/* WARNING: Removing unreachable block (ram,0x00515ac0) */
/* WARNING: Removing unreachable block (ram,0x00515ac2) */
/* WARNING: Removing unreachable block (ram,0x00515a51) */
/* WARNING: Removing unreachable block (ram,0x00515a24) */
/* WARNING: Removing unreachable block (ram,0x005159d0) */
/* WARNING: Removing unreachable block (ram,0x00515a2e) */
/* WARNING: Removing unreachable block (ram,0x00515a5b) */

void __fastcall Unwind_00515a60(uint param_1,int param_2)

{
  uint *puVar1;
  undefined1 uVar2;
  undefined4 uVar3;
  char cVar4;
  undefined4 *in_EAX;
  int iVar5;
  undefined4 *puVar6;
  uint unaff_EBP;
  int *unaff_ESI;
  undefined4 *unaff_EDI;
  bool bVar7;
  byte bVar8;
  
  bVar8 = 0;
  iVar5 = *(int *)(param_2 + -0x1a4d4b60);
  puVar1 = (uint *)((int)unaff_ESI + -0x6add2dd6);
  *puVar1 = *puVar1 & (uint)in_EAX;
  bVar7 = (POPCOUNT(*puVar1 & 0xff) & 1U) == 0;
  if (bVar7) {
    iVar5 = CONCAT31(CONCAT21((short)((uint)iVar5 >> 0x10),(char)iVar5),(char)((uint)iVar5 >> 8));
    bVar7 = (POPCOUNT(((char)unaff_EBP + '2') - ((unaff_EBP & 0x100) != 0)) & 1U) == 0;
  }
  else {
    bVar8 = 1;
    param_1 = param_1 - 1;
    if (param_1 == 0) {
      *(undefined1 *)(iVar5 + -0x44d9d7fb) = *(undefined1 *)(iVar5 + -0x44d9d7fb);
                    /* WARNING: Bad instruction - Truncating control flow here */
      halt_baddata();
    }
  }
  if (bVar7) {
    uVar3 = in((short)iVar5);
    *unaff_EDI = uVar3;
    in(10);
    if ((param_1 & 0xfff) == 0) {
      out(0xb,0x3559bfe);
      puVar6 = (undefined4 *)&stack0x000043dd;
                    /* WARNING: Do nothing block with infinite loop */
      cVar4 = '\t';
      do {
        in_EAX = in_EAX + -1;
        puVar6 = puVar6 + -1;
        *puVar6 = *in_EAX;
        cVar4 = cVar4 + -1;
      } while ('\0' < cVar4);
      do {
      } while( true );
    }
    DAT_7b9169c8 = 0xfe;
    uVar2 = in((short)iVar5);
    *(undefined1 *)(unaff_EDI + (uint)bVar8 * -2 + 1) = uVar2;
  }
  *unaff_ESI = iVar5;
  in(0xa9);
                    /* WARNING: Bad instruction - Truncating control flow here */
  halt_baddata();
}


