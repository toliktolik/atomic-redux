/*
 * Function: Exception_DebugBreakpointCleanup
 * Address: 0050f02e
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


/* WARNING: Unable to track spacebase fully for stack */
/* WARNING: Removing unreachable block (ram,0x0050f023) */

void __fastcall Exception_DebugBreakpointCleanup(undefined4 param_1,int param_2)

{
  uint uVar1;
  code *pcVar2;
  char cVar3;
  byte bVar4;
  short sVar5;
  undefined4 uVar6;
  uint uVar7;
  int unaff_EBX;
  int unaff_EBP;
  uint uVar8;
  uint *unaff_EDI;
  undefined2 in_ES;
  bool in_CF;
  byte bVar9;
  bool in_ZF;
  
  if (!in_CF && !in_ZF) {
    pcVar2 = (code *)swi(1);
    (*pcVar2)();
    return;
  }
  uVar8 = unaff_EBP - 1;
  if (in_CF) {
    cVar3 = in((short)param_2);
    uVar1 = *unaff_EDI;
    *unaff_EDI = *unaff_EDI + uVar8;
    bVar9 = (byte)((uint)param_1 >> 8);
    bVar4 = bVar9 - *(byte *)(param_2 + 0x59);
    uVar7 = CONCAT22((short)((uint)param_1 >> 0x10),
                     CONCAT11(bVar4 - CARRY4(uVar1,uVar8),(char)param_1));
    bVar4 = cVar3 + 's' +
            (uVar7 < *(uint *)(param_2 + 0x2c7760b1) ||
            uVar7 - *(uint *)(param_2 + 0x2c7760b1) <
            (uint)(bVar9 < *(byte *)(param_2 + 0x59) || bVar4 < CARRY4(uVar1,uVar8)));
    bVar9 = bVar4 < 0xab;
    uVar6 = in((short)param_2);
    sVar5 = (short)uVar6;
    pcVar2 = (code *)swi(4);
    if (SBORROW1(bVar4,-0x55)) {
      sVar5 = (*pcVar2)();
    }
    in((sVar5 - (ushort)bVar9) + -0x31a8);
    pcVar2 = (code *)swi(1);
    (*pcVar2)();
    return;
  }
  out(0x5f,0xf64b0061);
  *(undefined2 *)(unaff_EBX + 0x56c50c44) = in_ES;
  return;
}


