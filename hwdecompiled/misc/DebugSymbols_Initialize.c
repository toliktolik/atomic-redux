/*
 * Function: DebugSymbols_Initialize
 * Address: 00496560
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void DebugSymbols_Initialize(void)

{
  char cVar1;
  void *this;
  undefined1 *puVar2;
  char *pcVar3;
  undefined4 *puVar4;
  undefined4 *puVar5;
  undefined4 *in_stack_fffffef0;
  undefined4 *in_stack_fffffef4;
  
  this = DAT_00569f5c;
  DAT_005a37f4 = LoadLibraryA("IMAGEHLP.DLL");
  if (DAT_005a37f4 == (HMODULE)0x0) {
    Exception_SetMessage(this,in_stack_fffffef0,in_stack_fffffef4);
    return;
  }
  DAT_005a37f8 = GetProcAddress(DAT_005a37f4,"SymInitialize");
  if (DAT_005a37f8 == (FARPROC)0x0) {
LAB_004965b1:
    Exception_SetMessage(this,in_stack_fffffef0,in_stack_fffffef4);
    return;
  }
  DAT_005a37fc = GetProcAddress(DAT_005a37f4,"SymSetOptions");
  if (DAT_005a37fc == (FARPROC)0x0) goto LAB_004965b1;
  _DAT_005a3804 = GetProcAddress(DAT_005a37f4,"SymCleanup");
  if (_DAT_005a3804 == (FARPROC)0x0) goto LAB_004965b1;
  DAT_005a3800 = GetProcAddress(DAT_005a37f4,"UnDecorateSymbolName");
  if (DAT_005a3800 == (FARPROC)0x0) goto LAB_004965b1;
  DAT_005a3808 = GetProcAddress(DAT_005a37f4,"StackWalk");
  if (DAT_005a3808 == (FARPROC)0x0) goto LAB_004965b1;
  DAT_005a380c = GetProcAddress(DAT_005a37f4,"SymFunctionTableAccess");
  if (DAT_005a380c == (FARPROC)0x0) goto LAB_004965b1;
  DAT_005a3810 = GetProcAddress(DAT_005a37f4,"SymGetModuleBase");
  if (DAT_005a3810 == (FARPROC)0x0) goto LAB_004965b1;
  DAT_005a3814 = GetProcAddress(DAT_005a37f4,"SymGetSymFromAddr");
  if (DAT_005a3814 == (FARPROC)0x0) goto LAB_004965b1;
  (*DAT_005a37fc)(4);
  GetModuleFileNameA((HMODULE)0x0,&stack0xfffffef0,0x104);
  puVar2 = (undefined1 *)Threading_SleepThread();
  if (puVar2 == (undefined1 *)0x0) {
    puVar2 = (undefined1 *)Threading_SleepThread();
    if (puVar2 == (undefined1 *)0x0) goto LAB_004966b6;
  }
  *puVar2 = 0;
LAB_004966b6:
  pcVar3 = &stack0xfffffef0;
  puVar4 = (undefined4 *)&stack0xfffffef0;
  do {
    cVar1 = *pcVar3;
    pcVar3 = pcVar3 + 1;
  } while (cVar1 != '\0');
  if (pcVar3 == &stack0xfffffef1) {
    puVar4 = (undefined4 *)0x0;
  }
  puVar5 = (undefined4 *)0x1;
  GetCurrentProcess();
  (*DAT_005a37f8)();
  Exception_SetMessage(this,puVar4,puVar5);
  return;
}


