/*
 * Function: String_ParseBool
 * Address: 004d69a0
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


undefined4 __cdecl String_ParseBool(int *param_1,int param_2)

{
  int iVar1;
  int *piVar2;
  uint uVar3;
  int iVar4;
  int iVar5;
  uint *puVar6;
  uint *puVar7;
  undefined4 local_2c;
  undefined4 local_28;
  uint local_24 [6];
  int *local_c;
  int local_8;
  
  piVar2 = param_1;
  local_2c = *(undefined4 *)param_1[6];
  local_28 = ((undefined4 *)param_1[6])[1];
  iVar5 = param_1[0x57];
  puVar6 = (uint *)(iVar5 + 0xc);
  puVar7 = local_24;
  for (iVar4 = 6; iVar4 != 0; iVar4 = iVar4 + -1) {
    *puVar7 = *puVar6;
    puVar6 = puVar6 + 1;
    puVar7 = puVar7 + 1;
  }
  local_8 = iVar5;
  local_c = param_1;
  if (((param_1[0x2f] != 0) && (*(int *)(iVar5 + 0x24) == 0)) &&
     (uVar3 = String_ParseFloat((char)*(undefined4 *)(iVar5 + 0x28)), (char)uVar3 == '\0')) {
LAB_004d6ab7:
    return uVar3 & 0xffffff00;
  }
  iVar5 = 0;
  if (0 < param_1[0x40]) {
    param_1 = param_1 + 0x41;
    do {
      iVar4 = *param_1;
      uVar3 = String_ParseInt((int)&local_2c,*(short **)(param_2 + iVar5 * 4),local_24[iVar4 + 2],
                              *(int **)(local_8 + 0x2c + *(int *)(piVar2[iVar4 + 0x3a] + 0x14) * 4),
                              *(uint **)(local_8 + 0x3c + *(int *)(piVar2[iVar4 + 0x3a] + 0x18) * 4)
                             );
      if ((char)uVar3 == '\0') goto LAB_004d6ab7;
      iVar1 = piVar2[0x40];
      local_24[iVar4 + 2] = (int)**(short **)(param_2 + iVar5 * 4);
      iVar5 = iVar5 + 1;
      param_1 = param_1 + 1;
    } while (iVar5 < iVar1);
  }
  *(undefined4 *)piVar2[6] = local_2c;
  *(undefined4 *)(piVar2[6] + 4) = local_28;
  puVar6 = local_24;
  puVar7 = (uint *)(local_8 + 0xc);
  for (iVar5 = 6; iVar5 != 0; iVar5 = iVar5 + -1) {
    *puVar7 = *puVar6;
    puVar6 = puVar6 + 1;
    puVar7 = puVar7 + 1;
  }
  if (piVar2[0x2f] != 0) {
    if (*(int *)(local_8 + 0x24) == 0) {
      *(int *)(local_8 + 0x24) = piVar2[0x2f];
      *(uint *)(local_8 + 0x28) = *(int *)(local_8 + 0x28) + 1U & 7;
    }
    *(int *)(local_8 + 0x24) = *(int *)(local_8 + 0x24) + -1;
  }
  return CONCAT31((int3)((uint)local_8 >> 8),1);
}


