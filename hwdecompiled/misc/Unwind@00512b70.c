/*
 * Function: Unwind@00512b70
 * Address: 00512b70
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


/* WARNING: Control flow encountered bad instruction data */
/* WARNING: Instruction at (ram,0x00512c05) overlaps instruction at (ram,0x00512c04)
    */
/* WARNING: Removing unreachable block (ram,0x00512c14) */
/* WARNING: Removing unreachable block (ram,0x00512bff) */
/* WARNING: Removing unreachable block (ram,0x00512c16) */
/* WARNING: Removing unreachable block (ram,0x00512b7d) */
/* WARNING: Removing unreachable block (ram,0x00512b3d) */
/* WARNING: Removing unreachable block (ram,0x00512b46) */
/* WARNING: Removing unreachable block (ram,0x00512b5d) */

void __fastcall Unwind_00512b70(int param_1,int param_2)

{
  int *piVar1;
  code *pcVar2;
  byte bVar3;
  byte bVar4;
  byte bVar5;
  uint uVar6;
  int in_EAX;
  int iVar7;
  undefined4 unaff_EBX;
  int unaff_EBP;
  uint unaff_ESI;
  undefined4 unaff_EDI;
  byte in_AF;
  float10 in_ST0;
  
  iVar7 = CONCAT31((int3)((uint)unaff_EDI >> 8),(byte)unaff_EDI & *(byte *)(unaff_EBP + 0x2a87b61d))
  ;
  swi(4);
  uVar6 = *(uint *)(param_2 + 0x20567f36 + (param_1 + -1) * 4) & unaff_ESI;
  if ((POPCOUNT(uVar6 & 0xff) & 1U) != 0) {
    if (-1 >= (int)uVar6) {
                    /* WARNING: Bad instruction - Truncating control flow here */
      halt_baddata();
    }
    if (-1 < (int)uVar6) {
      *(double *)(in_EAX + 0x17) = (double)in_ST0;
      pcVar2 = (code *)swi(1);
      (*pcVar2)();
      return;
    }
    *(double *)(iVar7 + -0x44081276) = (double)in_ST0;
    bVar5 = (byte)unaff_ESI ^ 0x2b | (byte)unaff_EBX;
    if (*(int *)(iVar7 + 0x598eaecc) != 1) {
      uRamdf59f007 = CONCAT31((int3)(unaff_ESI >> 8),bVar5);
                    /* WARNING: Bad instruction - Truncating control flow here */
                    /* WARNING: Bad instruction - Truncating control flow here */
      halt_baddata();
    }
    if (bVar5 != 0) {
                    /* WARNING: Bad instruction - Truncating control flow here */
      halt_baddata();
    }
    uVar6 = in((short)param_2);
    bVar4 = *(byte *)(CONCAT22((short)((uint)unaff_EBX >> 0x10),
                               CONCAT11((byte)((uint)unaff_EBX >> 8) ^ (byte)((uint)unaff_EDI >> 8),
                                        (byte)unaff_EBX)) + (uVar6 & 0xff));
    if (bVar5 == 0) {
      bVar3 = bVar4 - 9;
      bVar5 = 9 < (bVar3 & 0xf) | in_AF;
      bVar3 = bVar3 + bVar5 * '\x06';
      bVar5 = 0x90 < (bVar3 & 0xf0) | bVar4 < 9 | bVar5 * (0xf9 < bVar3);
      piVar1 = (int *)(CONCAT31((int3)(uVar6 >> 8),bVar3 + bVar5 * '`') + -0x12);
      *piVar1 = (*piVar1 - iVar7) - (uint)bVar5;
      return;
    }
  }
  pcVar2 = (code *)swi(3);
  (*pcVar2)();
  return;
}


