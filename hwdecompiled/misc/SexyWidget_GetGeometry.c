/*
 * Function: SexyWidget_GetGeometry
 * Address: 0046aa60
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


void __cdecl
SexyWidget_GetGeometry(int *param_1,int *param_2,char param_3,char param_4,byte param_5)

{
  bool bVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  undefined8 uVar5;
  
  if ((param_5 & 2) != 0) {
    *param_2 = 0x40;
    *param_1 = 0x40;
    return;
  }
  if (DAT_005a33b0 == '\0') {
    DAT_005a33b0 = '\x01';
    iVar3 = 1;
    iVar4 = 0;
    do {
      if (iVar3 < iVar4) {
        iVar3 = iVar3 << 1;
      }
      iVar2 = iVar3;
      if (0x40 < iVar3 - iVar4) {
        do {
          iVar2 = iVar2 >> 1;
          if (iVar4 % iVar2 < 0x40) break;
          bVar1 = SexyWidget_SetGeometry();
        } while (!bVar1);
      }
      (&DAT_005a23b0)[iVar4] = iVar2;
      iVar4 = iVar4 + 1;
    } while (iVar4 < 0x400);
  }
  iVar3 = *param_1;
  iVar4 = *param_2;
  uVar5 = CONCAT44(iVar3,iVar4);
  if (param_4 != '\0') {
    if ((param_3 == '\0') && ((param_5 & 1) == 0)) {
      iVar2 = DAT_0056df34;
      if (iVar3 < DAT_0056df34) {
        iVar2 = (&DAT_005a23b0)[iVar3];
      }
      uVar5 = CONCAT44(iVar2,DAT_0056e33c);
      if (iVar4 < DAT_0056e33c) {
        uVar5 = CONCAT44(iVar2,(&DAT_005a23b0)[iVar4]);
      }
    }
    else {
      iVar2 = DAT_0056df34;
      if (iVar3 < DAT_0056df34) {
        iVar2 = SexyWidget_ProcessGeometry(iVar3);
      }
      uVar5 = CONCAT44(iVar2,DAT_0056e33c);
      if (iVar4 < DAT_0056e33c) {
        uVar5 = SexyWidget_ProcessGeometry(iVar4);
      }
    }
  }
  iVar3 = (int)((ulonglong)uVar5 >> 0x20);
  if (iVar3 < DAT_0056e348) {
    iVar3 = DAT_0056e348;
  }
  iVar4 = (int)uVar5;
  if ((int)uVar5 < DAT_0056e344) {
    iVar4 = DAT_0056e344;
  }
  if (iVar4 < iVar3) {
    if (DAT_0056e338 * iVar4 < iVar3) {
      do {
        iVar4 = iVar4 * 2;
      } while (DAT_0056e338 * iVar4 < iVar3);
      *param_1 = iVar3;
      *param_2 = iVar4;
      return;
    }
  }
  else if (iVar3 < iVar4) {
    for (; DAT_0056e338 * iVar3 < iVar4; iVar3 = iVar3 * 2) {
    }
  }
  *param_1 = iVar3;
  *param_2 = iVar4;
  return;
}


