/*
 * Function: Math_SeedRandom
 * Address: 00498b80
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


void __fastcall Math_SeedRandom(undefined4 param_1)

{
  char cVar1;
  uint uVar2;
  int iVar3;
  HRESULT HVar4;
  int *piVar5;
  undefined4 *puVar6;
  char *pcVar7;
  int extraout_ECX;
  int *piVar8;
  uint uVar9;
  undefined2 extraout_DX;
  int *piVar10;
  undefined4 *unaff_EBP;
  char *pcVar11;
  int iVar12;
  char *pcVar13;
  char *pcVar14;
  undefined4 *unaff_retaddr;
  uint local_302c [2047];
  char cStack_102d;
  int local_102c;
  char local_1028 [4048];
  undefined4 uStack_58;
  LONG local_2c;
  int *local_28;
  int *piVar15;
  
  System_LoadLibrary(param_1);
  uVar2 = DAT_00569f5c ^ (uint)unaff_retaddr;
  iVar12 = 0;
  piVar10 = (int *)0x0;
  Math_CrossProduct(extraout_ECX,extraout_DX);
  if (*(undefined4 **)(extraout_ECX + 0x518) == (undefined4 *)0x0) {
    piVar8 = (int *)0x0;
  }
  else {
    piVar8 = (int *)**(undefined4 **)(extraout_ECX + 0x518);
  }
  if (piVar8 == *(int **)(extraout_ECX + 0x518)) goto LAB_00498e11;
  do {
    if (((char)piVar8[8] != '\0') && (piVar8[2] == 1)) {
      if ((*(char *)((int)piVar8 + 0x21) != '\0') && (piVar10 == (int *)0x0)) {
        piVar10 = piVar8 + 2;
      }
      iVar12 = iVar12 + 1;
    }
    piVar8 = (int *)*piVar8;
  } while (piVar8 != *(int **)(extraout_ECX + 0x518));
  if (piVar10 == (int *)0x0) {
    if (iVar12 < 1) goto LAB_00498e11;
    iVar3 = Collision_HandleEnemyHit();
    puVar6 = *(undefined4 **)(extraout_ECX + 0x518);
    if (puVar6 != (undefined4 *)0x0) {
      puVar6 = (undefined4 *)*puVar6;
    }
    iVar12 = iVar3 % iVar12;
    if (puVar6 == *(undefined4 **)(extraout_ECX + 0x518)) goto LAB_00498e11;
    do {
      piVar10 = puVar6 + 2;
      iVar3 = iVar12;
      if (((*(char *)(puVar6 + 8) != '\0') && (*piVar10 == 1)) && (iVar3 = iVar12 + -1, iVar12 == 0)
         ) break;
      puVar6 = (undefined4 *)*puVar6;
      iVar12 = iVar3;
    } while (puVar6 != *(undefined4 **)(extraout_ECX + 0x518));
  }
  if (*(char *)(DAT_0056da10 + 0x491) == '\0') {
    HVar4 = CoInitialize((LPVOID)0x0);
    if (-1 < HVar4) {
      piVar8 = (int *)0x0;
      local_28 = (int *)0x498c6f;
      HVar4 = CoCreateInstance((IID *)&DAT_0054cd2c,(LPUNKNOWN)0x0,0x15,(IID *)&DAT_0054cd3c,
                               (LPVOID *)&stack0xfffffff4);
      if (-1 < HVar4) {
        local_2c = 0;
        local_28 = (int *)0x0;
        AdjustWindowRect((LPRECT)&local_2c,0x82ca0000,0);
        (**(code **)(*piVar8 + 0x110))();
        (**(code **)(*piVar8 + 0xc4))();
        local_28 = piVar8;
        local_2c = 0x498cc0;
        piVar15 = local_28;
        (**(code **)(*local_28 + 0xac))();
        local_2c = 0;
        (**(code **)(*piVar15 + 0xbc))();
        (**(code **)(*piVar15 + 0x118))();
        (**(code **)(*piVar15 + 0x68))();
        (**(code **)(*piVar15 + 0x70))();
        local_1028[0] = s_file____005342b4[4];
        local_1028[1] = s_file____005342b4[5];
        local_1028[2] = s_file____005342b4[6];
        local_1028[3] = s_file____005342b4[7];
        local_102c._0_1_ = s_file____005342b4[0];
        local_102c._1_1_ = s_file____005342b4[1];
        local_102c._2_1_ = s_file____005342b4[2];
        local_102c._3_1_ = s_file____005342b4[3];
        piVar8 = &local_102c;
        do {
          piVar5 = piVar8;
          piVar8 = (int *)((int)piVar5 + 1);
        } while ((char)*piVar5 != '\0');
        Windows_RedrawWindow((int)piVar5);
        pcVar13 = &cStack_102d;
        do {
          pcVar7 = pcVar13 + 1;
          pcVar13 = pcVar13 + 1;
        } while (*pcVar7 != '\0');
        puVar6 = (undefined4 *)piVar10[4];
        *(undefined2 *)pcVar13 = DAT_0053162c;
        if (puVar6 != (undefined4 *)0x0) {
          puVar6 = (undefined4 *)*puVar6;
        }
        if ((uint)puVar6[8] < 0x10) {
          pcVar13 = (char *)(puVar6 + 3);
          pcVar7 = pcVar13;
        }
        else {
          pcVar13 = (char *)puVar6[3];
          pcVar7 = pcVar13;
        }
        do {
          cVar1 = *pcVar13;
          pcVar13 = pcVar13 + 1;
        } while (cVar1 != '\0');
        pcVar14 = &cStack_102d;
        do {
          pcVar11 = pcVar14 + 1;
          pcVar14 = pcVar14 + 1;
        } while (*pcVar11 != '\0');
        pcVar11 = pcVar7;
        for (uVar9 = (uint)((int)pcVar13 - (int)pcVar7) >> 2; uVar9 != 0; uVar9 = uVar9 - 1) {
          *(undefined4 *)pcVar14 = *(undefined4 *)pcVar11;
          pcVar11 = pcVar11 + 4;
          pcVar14 = pcVar14 + 4;
        }
        for (uVar9 = (int)pcVar13 - (int)pcVar7 & 3; uVar9 != 0; uVar9 = uVar9 - 1) {
          *pcVar14 = *pcVar11;
          pcVar11 = pcVar11 + 1;
          pcVar14 = pcVar14 + 1;
        }
        uStack_58 = 0x498dc3;
        Windows_InvalidateRect(&local_102c,local_302c,(int)local_302c);
        Ordinal_2();
        (**(code **)(*piVar15 + 0x2c))();
        Ordinal_6();
        (**(code **)(*piVar15 + 0xa4))();
        (**(code **)(*piVar15 + 8))();
      }
    }
    *(undefined1 *)((int)piVar10 + 0x19) = 0;
  }
LAB_00498e11:
  Exception_SetMessage((void *)(uVar2 ^ (uint)unaff_retaddr),unaff_EBP,unaff_retaddr);
  return;
}


