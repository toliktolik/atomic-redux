/*
 * Function: Texture_ConvertARGBTo4444
 * Address: 00476160
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


void __cdecl
Texture_ConvertARGBTo4444(ushort *param_1,int param_2,int *param_3,int param_4,int param_5)

{
  uint uVar1;
  int in_EAX;
  int iVar2;
  int iVar3;
  uint *puVar4;
  byte *pbVar5;
  int extraout_EDX;
  int extraout_EDX_00;
  ushort *puVar6;
  uint *puVar7;
  byte *pbVar8;
  int local_10;
  ushort *local_c;
  int local_8;
  
  iVar2 = param_3[10];
  if (iVar2 == 0) {
    iVar2 = SexyWidget_GetWidth((int)param_3);
    iVar3 = (**(code **)(*param_3 + 100))();
    puVar7 = (uint *)(iVar3 + (iVar2 * extraout_EDX + param_4) * 4);
    local_c = param_1;
    local_10 = in_EAX;
    if (0 < in_EAX) {
      do {
        puVar4 = puVar7;
        puVar6 = local_c;
        iVar2 = param_5;
        if (0 < param_5) {
          do {
            uVar1 = *puVar4;
            *puVar6 = (ushort)(uVar1 >> 0x10) & 0xf000 | (ushort)(uVar1 >> 0xc) & 0xf00 |
                      (ushort)(uVar1 >> 8) & 0xf0 | (ushort)(uVar1 >> 4) & 0xf;
            iVar2 = iVar2 + -1;
            puVar4 = puVar4 + 1;
            puVar6 = puVar6 + 1;
          } while (iVar2 != 0);
        }
        iVar2 = SexyWidget_GetWidth((int)param_3);
        puVar7 = puVar7 + iVar2;
        local_c = (ushort *)((int)local_c + param_2);
        local_10 = local_10 + -1;
      } while (local_10 != 0);
      return;
    }
  }
  else {
    iVar3 = SexyWidget_GetWidth((int)param_3);
    pbVar8 = (byte *)(iVar3 * extraout_EDX_00 + param_3[0xb] + param_4);
    local_c = param_1;
    local_8 = in_EAX;
    if (0 < in_EAX) {
      do {
        if (0 < param_5) {
          local_10 = param_5;
          pbVar5 = pbVar8;
          puVar6 = local_c;
          do {
            uVar1 = *(uint *)(iVar2 + (uint)*pbVar5 * 4);
            *puVar6 = (ushort)(uVar1 >> 0x10) & 0xf000 | (ushort)(uVar1 >> 0xc) & 0xf00 |
                      (ushort)(uVar1 >> 8) & 0xf0 | (ushort)(uVar1 >> 4) & 0xf;
            pbVar5 = pbVar5 + 1;
            puVar6 = puVar6 + 1;
            local_10 = local_10 + -1;
          } while (local_10 != 0);
        }
        iVar3 = SexyWidget_GetWidth((int)param_3);
        pbVar8 = pbVar8 + iVar3;
        local_c = (ushort *)((int)local_c + param_2);
        local_8 = local_8 + -1;
      } while (local_8 != 0);
    }
  }
  return;
}


