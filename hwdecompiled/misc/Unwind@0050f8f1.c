/*
 * Function: Unwind@0050f8f1
 * Address: 0050f8f1
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


/* WARNING: Control flow encountered bad instruction data */
/* WARNING: Instruction at (ram,0x0050f957) overlaps instruction at (ram,0x0050f952)
    */
/* WARNING: Unable to track spacebase fully for stack */
/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void __fastcall Unwind_0050f8f1(uint param_1,int param_2)

{
  int iVar1;
  char cVar2;
  longlong lVar3;
  code *pcVar4;
  undefined2 uVar5;
  byte bVar6;
  uint in_EAX;
  uint uVar7;
  uint *puVar8;
  undefined4 *puVar9;
  int *piVar10;
  uint uVar11;
  uint unaff_EBX;
  undefined4 *puVar12;
  undefined1 *puVar13;
  uint *puVar14;
  undefined4 *unaff_EBP;
  undefined4 *puVar15;
  undefined4 *unaff_ESI;
  undefined4 *puVar16;
  undefined4 *unaff_EDI;
  undefined2 in_ES;
  undefined2 in_CS;
  byte in_CF;
  bool bVar17;
  byte in_AF;
  bool bVar18;
  undefined2 in_FPUControlWord;
  undefined2 in_FPUStatusWord;
  undefined2 in_FPUTagWord;
  undefined2 in_FPULastInstructionOpcode;
  undefined4 in_FPUDataPointer;
  undefined4 in_FPUInstructionPointer;
  undefined2 uStack000000ad;
  uint uStack_8;
  undefined4 uStack_4;
  
  uStack_4 = *(undefined4 *)(param_2 + -0x1b);
  while( true ) {
    uVar7 = CONCAT31((int3)(in_EAX >> 8),-in_CF);
    if (param_1 == 0) {
      cRam700985c6 = cRam700985c6 - (char)(in_EAX >> 8);
      uVar11 = 0;
      uStack_8 = 0;
      puVar9 = unaff_EBP;
    }
    else {
      unaff_EBX = 0x6412b285;
      uVar11 = param_1 + 1;
      uVar7 = (uint)&uStack_4 & 0x700985c6;
      puVar9 = (undefined4 *)0x285188e8;
    }
    bVar17 = CARRY1((byte)uVar7,*(byte *)((int)unaff_ESI + -0x7e));
    uVar7 = CONCAT31((int3)(uVar7 >> 8),(byte)uVar7 + *(byte *)((int)unaff_ESI + -0x7e));
    puVar15 = unaff_ESI;
    puVar16 = unaff_EDI;
    if (!bVar17) break;
    while( true ) {
      puVar12 = (undefined4 *)&stack0x000000ad;
      piVar10 = (int *)&stack0x000000ad;
      *puVar16 = *puVar15;
      uVar7 = uVar7 ^ *(uint *)((int)puVar15 + 0x7f);
      in_EAX = CONCAT31((int3)(unaff_EBX >> 8),(byte)unaff_EBX | (byte)uVar11);
      uVar5 = uStack000000ad;
      _uStack000000ad = (undefined4 *)0x4;
      puVar15 = _uStack000000ad;
      unaff_EDI = (undefined4 *)((int)puVar16 + 3);
      unaff_ESI = (undefined4 *)0x4;
      lVar3 = (longlong)*(int *)(uVar7 + 0x21) * -0x37bcd2e0;
      bVar17 = (int)lVar3 != lVar3;
      unaff_EBP = (undefined4 *)CONCAT31((int3)((ulonglong)lVar3 >> 8),-bVar17);
      _uStack000000ad = puVar9;
      cVar2 = '\x1d';
      do {
        puVar9 = puVar9 + -1;
        puVar12 = puVar12 + -1;
        *puVar12 = *puVar9;
        cVar2 = cVar2 + -1;
      } while ('\0' < cVar2);
      uStack_4 = CONCAT22(uStack_4._2_2_,uVar5);
      uVar11 = uVar7 - 1;
      _DAT_3e20e58c = in_FPUControlWord;
      _DAT_3e20e590 = in_FPUStatusWord;
      _DAT_3e20e594 = in_FPUTagWord;
      _DAT_3e20e598 = in_FPUInstructionPointer;
      _DAT_3e20e59e = in_FPULastInstructionOpcode;
      _DAT_3e20e5a0 = in_FPUDataPointer;
      if (uVar11 == 0 || unaff_EDI != (undefined4 *)0x0) {
        *(int *)(param_2 + 0x3c77f47) =
             (int)&stack0x000000ad +
             (uint)(&stack0x000000ad < (undefined1 *)0x2b853d1) + *(int *)(param_2 + 0x3c77f47);
        bVar17 = false;
        bVar6 = (byte)((uint)param_2 >> 8) | (byte)param_2;
        param_2 = CONCAT22((short)((uint)param_2 >> 0x10),CONCAT11(bVar6,(byte)param_2));
        bVar18 = bVar6 == 0;
        goto code_r0x0050f92f;
      }
      in_AF = 9 < ((byte)&stack0x000000ad & 0xf) | in_AF;
      uVar7 = CONCAT31((int3)((uint)&stack0x000000ad >> 8),(byte)&stack0x000000ad + in_AF * '\x06')
              & 0xffffff0f;
      uVar7 = CONCAT22((short)(uVar7 >> 0x10),
                       CONCAT11((char)((uint)&stack0x000000ad >> 8) + in_AF,(char)uVar7));
      in_CF = in_AF;
      if (!bVar17) break;
      unaff_EBX = in_EAX + 1;
      puVar9 = unaff_EBP;
      puVar16 = puVar16 + 1;
    }
    while (unaff_EBX = uVar7, param_1 = uVar11 - 1, param_1 == 0 || (int)uVar11 < 1) {
      uVar7 = (uint)in_CF;
      in_CF = 0xda8fc86b < in_EAX || CARRY4(in_EAX + 0x25703794,uVar7);
      uVar7 = in_EAX + 0x25703794 + uVar7;
      uVar11 = param_1;
      in_EAX = unaff_EBX;
    }
    bVar17 = SBORROW4(param_2,1);
    param_2 = param_2 + -1;
    if (!bVar17) {
      pcVar4 = (code *)swi(3);
      (*pcVar4)();
      return;
    }
  }
  while( true ) {
    in_AF = 9 < ((byte)uVar7 & 0xf) | in_AF;
    bVar6 = (byte)uVar7 + in_AF * '\x06';
    unaff_EBP = (undefined4 *)
                ((int)puVar9 +
                (-(uint)(byte)(0x90 < (bVar6 & 0xf0) | bVar17 | in_AF * (0xf9 < bVar6)) -
                *(int *)((int)puVar9 + param_2 * 2 + 0x53)));
    unaff_ESI = (undefined4 *)((int)unaff_ESI + -1);
    *(char *)(unaff_EDI + 8) = *(char *)(unaff_EDI + 8) << 3;
    puVar8 = (uint *)(CONCAT31((int3)(uVar7 >> 8),0x25) | 0x11246af4);
    *(char *)((int)unaff_EDI + 0x7f) = *(char *)((int)unaff_EDI + 0x7f) + -0x39;
    bVar17 = CARRY4(uVar11,*puVar8);
    uVar11 = uVar11 + *puVar8;
    bVar18 = uVar11 == 0;
    piVar10 = (int *)CONCAT31((int3)((uint)puVar8 >> 8),-bVar17);
    in_EAX = unaff_EBX;
code_r0x0050f92f:
    if (bVar17 || bVar18) goto code_r0x0050f965;
    out(*unaff_ESI,(short)param_2);
    puVar13 = (undefined1 *)((uint)&uStack_8 ^ *(uint *)(param_2 + 0x632ff9f));
    unaff_EBX = CONCAT22((short)(in_EAX >> 0x10),CONCAT11(0x3f,(char)in_EAX));
    puVar9 = (undefined4 *)CONCAT31((int3)((uint)piVar10 >> 8),0xff);
    if ((int)puVar13 < 1) break;
    if (puVar13 == (undefined1 *)0x0) goto code_r0x0050f948;
    unaff_ESI = (undefined4 *)((int)unaff_ESI + 5);
    *(byte *)(param_2 + -0x7d) = *(byte *)(param_2 + -0x7d) ^ 0xc5;
    bVar17 = false;
    uVar7 = (uint)unaff_EBP & 0xffffffaf;
  }
  puVar14 = (uint *)(puVar13 + -4);
  puVar13 = puVar13 + -4;
  *puVar14 = uVar11;
  unaff_EBP = puVar9;
code_r0x0050f948:
  piVar10 = (int *)((int)unaff_EDI + 0x273f176b);
  iVar1 = *piVar10;
  *piVar10 = *piVar10 << 0x1d;
  bVar17 = (byte)unaff_EBP < *(byte *)(uVar11 + 0x51) ||
           (byte)((byte)unaff_EBP - *(byte *)(uVar11 + 0x51)) < (iVar1 << 0x1c < 0);
  cVar2 = '?' - *(char *)(unaff_EBX + 0x8f6963fb);
  bVar18 = (char)(cVar2 - bVar17) < '\0';
  if (!bVar18) {
                    /* WARNING: Bad instruction - Truncating control flow here */
    halt_baddata();
  }
  uStack_8 = in_EAX;
  if ((bool)cVar2 != bVar17 &&
      (SBORROW1('?',*(char *)(unaff_EBX + 0x8f6963fb)) != SBORROW1(cVar2,bVar17)) == bVar18) {
    pcVar4 = (code *)swi(0x60);
    (*pcVar4)();
    *(undefined2 *)(puVar13 + -4) = in_ES;
                    /* WARNING: Bad instruction - Truncating control flow here */
    halt_baddata();
  }
  *(undefined2 *)(puVar13 + -1) = in_CS;
  *(undefined4 *)(puVar13 + -5) = 0x50f965;
  piVar10 = (int *)func_0xea514202();
code_r0x0050f965:
  *piVar10 = *piVar10 + (int)piVar10;
  return;
}


