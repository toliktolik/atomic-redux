/*
 * Function: Unwind@00514eb0
 * Address: 00514eb0
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


/* WARNING: Control flow encountered bad instruction data */
/* WARNING: Unable to track spacebase fully for stack */
/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void __fastcall Unwind_00514eb0(uint *param_1,int param_2)

{
  byte *pbVar1;
  uint *puVar2;
  uint uVar3;
  int iVar4;
  uint uVar5;
  uint uVar6;
  byte bVar7;
  char cVar8;
  byte bVar9;
  undefined4 in_EAX;
  uint3 uVar12;
  undefined4 unaff_EBX;
  uint uVar13;
  undefined1 *puVar14;
  undefined1 *unaff_EBP;
  uint *unaff_ESI;
  int unaff_EDI;
  char in_CF;
  bool bVar15;
  char in_AF;
  bool bVar16;
  undefined2 in_FPUStatusWord;
  int unaff_retaddr;
  int iVar10;
  undefined1 *puVar11;
  
  bVar7 = (char)in_EAX + -0x2e + in_CF;
  cVar8 = bVar7 + 0xbe;
  if (cVar8 == '\0') {
    if ((POPCOUNT(cVar8) & 1U) == 0) {
      *(int *)(unaff_retaddr + 0x4e) =
           *(int *)(unaff_retaddr + 0x4e) + CONCAT22((short)((uint)in_EAX >> 0x10),in_FPUStatusWord)
           + (uint)(0x41 < bVar7);
                    /* WARNING: Bad instruction - Truncating control flow here */
      halt_baddata();
    }
    bVar15 = &stack0x00000000 < unaff_EBP;
    puVar11 = (undefined1 *)CONCAT31((int3)((uint)in_EAX >> 8),cVar8);
  }
  else {
    unaff_EDI = unaff_EDI + 1;
    pbVar1 = (byte *)(param_2 + 0x3b);
    bVar15 = 0x1a < *pbVar1;
    *pbVar1 = *pbVar1 - 0x1b;
    puVar11 = (undefined1 *)register0x00000010;
  }
  uVar12 = (uint3)((uint)puVar11 >> 8);
  bVar9 = -bVar15;
  iVar10 = CONCAT31(uVar12,bVar9);
  *param_1 = *param_1 >> 1 | (uint)((*param_1 & 1) != 0) << 0x1f;
  uVar13 = (uint)&stack0x00000000 & (uint)uVar12 << 8;
  iVar4 = *(int *)(param_2 + 0x1346a21c + (int)unaff_EBP * 8);
  *(uint *)(uVar13 - 4) = CONCAT31((int3)((uint)unaff_EBX >> 8),0x4f);
  *(int *)(uVar13 - 8) = param_2;
  bVar15 = false;
  bVar7 = *(byte *)(unaff_EDI + 0x2c) & bVar9;
  bVar16 = (char)bVar7 < '\0';
  puVar11 = (undefined1 *)0xc3cfdece;
  puVar14 = (undefined1 *)(uVar13 - 8);
  if (!bVar16) {
    *(int *)(iVar10 + 0x15) = *(int *)(iVar10 + 0x15) + 1;
    uVar5 = *unaff_ESI;
    *unaff_ESI = *unaff_ESI << 0x1e;
    iVar10 = _DAT_6f204907;
    bVar16 = (int)(uVar5 << 0x1d) < 0;
    bVar15 = 0x74 < bVar9 || CARRY1(bVar9 + 0x8b,bVar16);
    bVar7 = bVar9 + 0x8b + bVar16;
    bVar16 = (char)bVar7 < '\0';
    *(undefined4 *)((int)param_1 + iVar4 + -0x76) = *(undefined4 *)(uVar13 - 8);
    puVar11 = unaff_EBP;
    puVar14 = (undefined1 *)(uVar13 - 4);
  }
  *(undefined1 **)(puVar11 + 7) = puVar14;
  puVar2 = (uint *)(puVar11 + -0x11e5571e);
  uVar6 = (uint)((byte)iVar10 < 0x61);
  uVar5 = *puVar2;
  uVar3 = *puVar2;
  *puVar2 = (uint)(puVar11 + uVar3 + uVar6);
  DAT_b48d1964 = -0x36 - (CARRY4(uVar5,(uint)puVar11) || CARRY4((uint)(puVar11 + uVar3),uVar6));
  *unaff_ESI = *unaff_ESI << 1 | (uint)((int)*unaff_ESI < 0);
  out(0xe4,DAT_b48d1964);
  uRamb48d1965 = (int3)(CONCAT22((short)((uint)iVar10 >> 0x10),
                                 CONCAT11(bVar16 << 7 | (bVar7 == 0) << 6 | in_AF << 4 |
                                          ((POPCOUNT(bVar7) & 1U) == 0) << 2 | 2U | bVar15,
                                          (byte)iVar10)) >> 8);
                    /* WARNING: Bad instruction - Truncating control flow here */
  halt_baddata();
}


