/*
 * Function: Unwind@00513dd6
 * Address: 00513dd6
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


/* WARNING: Control flow encountered bad instruction data */

void __fastcall Unwind_00513dd6(int param_1,undefined4 param_2,uint param_3)

{
  int *piVar1;
  char *pcVar2;
  byte *pbVar3;
  uint *puVar4;
  byte bVar5;
  float fVar6;
  ulonglong uVar7;
  ulonglong uVar8;
  byte bVar9;
  undefined1 uVar10;
  byte bVar12;
  undefined4 in_EAX;
  uint uVar11;
  undefined2 uVar13;
  int iVar14;
  byte bVar18;
  uint unaff_EBX;
  uint uVar15;
  int iVar16;
  int iVar17;
  int unaff_EBP;
  uint *unaff_ESI;
  float10 in_ST0;
  undefined4 unaff_retaddr;
  
  uVar11 = CONCAT31((int3)(CONCAT22((short)((uint)in_EAX >> 0x10),
                                    CONCAT11((byte)((uint)in_EAX >> 8) & (byte)(unaff_EBX >> 8),
                                             (char)in_EAX)) >> 8),(char)in_EAX) ^ 100;
  uVar15 = unaff_EBX | *(uint *)(unaff_EBP + 0x16);
  iVar16 = uVar15 - 1;
  fVar6 = *(float *)(uVar15 + 0x9cf2f395);
  if (iVar16 == 0) {
                    /* WARNING: Bad instruction - Truncating control flow here */
    halt_baddata();
  }
  pcVar2 = (char *)(unaff_EBP + 0x79 + (int)unaff_ESI * 2);
  *pcVar2 = *pcVar2 + -0x1d;
  uVar7 = CONCAT44(param_2,unaff_retaddr) / (ulonglong)*(uint *)(uVar15 - 0x37);
  uVar8 = CONCAT44(param_2,unaff_retaddr) % (ulonglong)*(uint *)(uVar15 - 0x37);
  pbVar3 = (undefined1 *)(uVar11 + 1) + uVar11 + 0x11;
  bVar5 = *pbVar3;
  bVar18 = (byte)((uint)iVar16 >> 8);
  *pbVar3 = *pbVar3 + bVar18;
  bVar12 = (byte)(uVar7 >> 8);
  bVar9 = (byte)iVar16 + bVar12;
  iVar17 = CONCAT31((int3)((uint)iVar16 >> 8),bVar9 + CARRY1(bVar5,bVar18));
  uVar13 = CONCAT11(0x83,(char)uVar8);
  iVar14 = CONCAT22((short)(uVar8 >> 0x10),uVar13);
  puVar4 = (uint *)(uVar11 + 0x51 + iVar14);
  uVar15 = *puVar4;
  *puVar4 = (uint)(CONCAT14(CARRY1((byte)iVar16,bVar12) || CARRY1(bVar9,CARRY1(bVar5,bVar18)),uVar15
                           ) >> 0x15) | uVar15 << 0xc;
  uVar10 = in(uVar13);
  *(undefined1 *)(uVar11 + 1) = uVar10;
  *unaff_ESI = *unaff_ESI ^ param_3;
  iVar14 = iVar14 + -1;
  bVar9 = (byte)uVar7;
  out(0xfb,bVar9);
  pbVar3 = (byte *)(param_1 * 3 + 0x15014b35);
  bVar12 = (byte)((uint)iVar14 >> 8);
  *pbVar3 = *pbVar3 & bVar12;
  bVar5 = *pbVar3;
  *(short *)((int)uVar7 + -0x22721323) = (short)ROUND(in_ST0 * (float10)fVar6);
  if (-1 < (char)bVar5) {
    out(0xf7,(int)uVar7);
    in((short)iVar14 + -1);
                    /* WARNING: Bad instruction - Truncating control flow here */
    halt_baddata();
  }
  *(int *)(uVar11 - 0x68) = *(int *)(uVar11 - 0x68) + 1;
  puVar4 = (uint *)(CONCAT22((short)((uint)param_1 >> 0x10),CONCAT11(0x61,(char)param_1)) +
                   0x5ac8ad85);
  *puVar4 = *puVar4 >> 1 | (uint)((*puVar4 & 1) != 0) << 0x1f;
  uVar10 = *(undefined1 *)(iVar17 + (uint)(bVar9 % 0x92));
  pbVar3 = (byte *)(iVar17 + -0x24);
  bVar5 = *pbVar3;
  *pbVar3 = *pbVar3 - bVar12;
  piVar1 = (int *)(CONCAT31((int3)(CONCAT22((short)(uVar7 >> 0x10),CONCAT11(bVar9 / 0x92,bVar9)) >>
                                  8),uVar10) + 0x35);
  *piVar1 = (*piVar1 + 0x77) - (uint)(bVar5 < bVar12);
  return;
}


