/*
 * Function: Unwind@005176d4
 * Address: 005176d4
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


/* WARNING: Control flow encountered bad instruction data */

void __fastcall Unwind_005176d4(int param_1,undefined2 param_2)

{
  ushort *puVar1;
  undefined1 uVar2;
  byte bVar3;
  code *pcVar4;
  undefined4 in_EAX;
  uint uVar5;
  int unaff_ESI;
  undefined1 *unaff_EDI;
  byte in_CF;
  byte in_AF;
  bool in_SF;
  
  puVar1 = (ushort *)(param_1 + -0x3745d72);
  *puVar1 = *puVar1 + (ushort)in_CF * (((ushort)in_EAX & 3) - (*puVar1 & 3));
  if (in_SF) {
    bVar3 = 9 < ((byte)in_EAX & 0xf) | in_AF;
    uVar5 = CONCAT31((int3)((uint)in_EAX >> 8),(byte)in_EAX + bVar3 * '\x06') & 0xffffff0f;
    uVar5 = CONCAT22((short)(uVar5 >> 0x10),CONCAT11((char)((uint)in_EAX >> 8) + bVar3,(char)uVar5))
    ;
    *(char *)(unaff_ESI + 0x2bfed7e3) = (*(char *)(unaff_ESI + 0x2bfed7e3) + -0x3a) - bVar3;
    do {
      param_1 = param_1 + 1;
      uVar5 = uVar5 ^ 0x3825e75a;
    } while (*(byte *)(uVar5 + 0x88bfc2b5) <= (byte)((uint)param_1 >> 8));
    out(param_2,(char)uVar5);
    pcVar4 = (code *)swi(3);
    (*pcVar4)();
    return;
  }
  *(byte *)(unaff_ESI + 0x5dedc0a7) = *(byte *)(unaff_ESI + 0x5dedc0a7) ^ (byte)((uint)param_1 >> 8)
  ;
  uVar2 = in(param_2);
  *unaff_EDI = uVar2;
                    /* WARNING: Bad instruction - Truncating control flow here */
  halt_baddata();
}


