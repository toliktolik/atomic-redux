/*
 * Function: PNG_WritetRNS
 * Address: 004cfa50
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


uint __thiscall PNG_WritetRNS(void *this,int *param_1,undefined4 *param_2)

{
  void *pvVar1;
  uint uVar2;
  void *pvVar3;
  undefined4 *puVar4;
  
  pvVar1 = (void *)param_1[1];
  pvVar3 = pvVar1;
  if (this < pvVar1) {
    pvVar3 = this;
  }
  if (pvVar3 == (void *)0x0) {
    return 0;
  }
  param_1[1] = (int)pvVar1 - (int)pvVar3;
  if (*(int *)(param_1[7] + 0x18) == 0) {
    uVar2 = Math_Max(param_1[0xc],(byte *)*param_1,(uint)pvVar3);
    param_1[0xc] = uVar2;
  }
  puVar4 = (undefined4 *)*param_1;
  for (uVar2 = (uint)pvVar3 >> 2; uVar2 != 0; uVar2 = uVar2 - 1) {
    *param_2 = *puVar4;
    puVar4 = puVar4 + 1;
    param_2 = param_2 + 1;
  }
  for (uVar2 = (uint)pvVar3 & 3; uVar2 != 0; uVar2 = uVar2 - 1) {
    *(undefined1 *)param_2 = *(undefined1 *)puVar4;
    puVar4 = (undefined4 *)((int)puVar4 + 1);
    param_2 = (undefined4 *)((int)param_2 + 1);
  }
  *param_1 = *param_1 + (int)pvVar3;
  param_1[2] = param_1[2] + (int)pvVar3;
  return (uint)pvVar3;
}


