/*
 * Function: CppRuntime_EHCleanup
 * Address: 004f7611
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


void CppRuntime_EHCleanup(void)

{
  uint uVar1;
  void *pvVar2;
  facet *pfVar3;
  uint uVar4;
  undefined4 *puVar5;
  undefined4 extraout_EDX;
  int unaff_EBP;
  
  Assembly_BitShiftLocking();
  uVar1 = *(uint *)(unaff_EBP + 0xc) & 2;
  *(uint *)(unaff_EBP + -0x10) = uVar1;
  if (uVar1 != 0) {
    if (*(int *)(unaff_EBP + 0x14) == 0) {
      pvVar2 = operator_new(0x20);
      if (pvVar2 == (void *)0x0) {
        pfVar3 = (facet *)0x0;
      }
      else {
        pfVar3 = (facet *)ctype<>(pvVar2,*(undefined4 *)(unaff_EBP + 8),0);
      }
      uVar1 = std::locale::id::Operator_CastToUnsignedInt((id *)&DAT_005a497c);
    }
    else {
      uVar1 = std::locale::id::Operator_CastToUnsignedInt((id *)&DAT_005a497c);
      pfVar3 = Locale_GetMoneyFacet();
    }
    std::locale::_Locimp::_Addfac(*(_Locimp **)(unaff_EBP + 0x10),pfVar3,uVar1);
  }
  uVar1 = *(uint *)(unaff_EBP + 0xc) & 8;
  if (uVar1 != 0) {
    if (*(int *)(unaff_EBP + 0x14) == 0) {
      pfVar3 = (facet *)operator_new(8);
      if (pfVar3 == (facet *)0x0) {
        pfVar3 = (facet *)0x0;
      }
      else {
        *(undefined4 *)(pfVar3 + 4) = 0;
        *(undefined ***)pfVar3 = &PTR_STL_ConditionalDestructor_00546a2c;
      }
      uVar4 = std::locale::id::Operator_CastToUnsignedInt((id *)&DAT_005a4984);
    }
    else {
      uVar4 = std::locale::id::Operator_CastToUnsignedInt((id *)&DAT_005a4984);
      pfVar3 = Locale_GetCodecvtFacet();
    }
    std::locale::_Locimp::_Addfac(*(_Locimp **)(unaff_EBP + 0x10),pfVar3,uVar4);
  }
  if (uVar1 != 0) {
    if (*(int *)(unaff_EBP + 0x14) == 0) {
      pfVar3 = (facet *)operator_new(8);
      if (pfVar3 == (facet *)0x0) {
        pfVar3 = (facet *)0x0;
      }
      else {
        *(undefined4 *)(pfVar3 + 4) = 0;
        *(undefined ***)pfVar3 = &PTR_STL_ConditionalDestructor_00546a60;
      }
      uVar4 = std::locale::id::Operator_CastToUnsignedInt((id *)&DAT_005a4948);
    }
    else {
      uVar4 = std::locale::id::Operator_CastToUnsignedInt((id *)&DAT_005a4948);
      pfVar3 = Locale_GetWCharFacet();
    }
    std::locale::_Locimp::_Addfac(*(_Locimp **)(unaff_EBP + 0x10),pfVar3,uVar4);
    if (uVar1 != 0) {
      if (*(int *)(unaff_EBP + 0x14) == 0) {
        pvVar2 = operator_new(0x18);
        *(void **)(unaff_EBP + -0x14) = pvVar2;
        *(undefined4 *)(unaff_EBP + -4) = 4;
        if (pvVar2 == (void *)0x0) {
          pfVar3 = (facet *)0x0;
        }
        else {
          pfVar3 = (facet *)Profiler_ReportResults();
        }
        *(undefined4 *)(unaff_EBP + -4) = 0xffffffff;
        uVar1 = std::locale::id::Operator_CastToUnsignedInt((id *)&DAT_005a495c);
      }
      else {
        uVar1 = std::locale::id::Operator_CastToUnsignedInt((id *)&DAT_005a495c);
        pfVar3 = Log_FlushBuffer();
      }
      std::locale::_Locimp::_Addfac(*(_Locimp **)(unaff_EBP + 0x10),pfVar3,uVar1);
    }
  }
  if ((*(byte *)(unaff_EBP + 0xc) & 1) != 0) {
    if (*(int *)(unaff_EBP + 0x14) == 0) {
      pvVar2 = operator_new(0x10);
      if (pvVar2 == (void *)0x0) {
        pfVar3 = (facet *)0x0;
      }
      else {
        pfVar3 = (facet *)System_VeryLastFunction(pvVar2,*(undefined4 *)(unaff_EBP + 8),0);
      }
      uVar1 = std::locale::id::Operator_CastToUnsignedInt((id *)&DAT_005a496c);
    }
    else {
      uVar1 = std::locale::id::Operator_CastToUnsignedInt((id *)&DAT_005a496c);
      pfVar3 = Memory_StackAllocator();
    }
    std::locale::_Locimp::_Addfac(*(_Locimp **)(unaff_EBP + 0x10),pfVar3,uVar1);
  }
  if ((*(byte *)(unaff_EBP + 0xc) & 0x20) != 0) {
    if (*(int *)(unaff_EBP + 0x14) == 0) {
      pfVar3 = (facet *)operator_new(8);
      if (pfVar3 == (facet *)0x0) {
        pfVar3 = (facet *)0x0;
      }
      else {
        *(undefined4 *)(pfVar3 + 4) = 0;
        *(undefined ***)pfVar3 = &PTR_STL_ConditionalDestructor_00546c40;
      }
      uVar1 = std::locale::id::Operator_CastToUnsignedInt((id *)&DAT_005a494c);
    }
    else {
      uVar1 = std::locale::id::Operator_CastToUnsignedInt((id *)&DAT_005a494c);
      pfVar3 = Memory_CustomAllocator();
    }
    std::locale::_Locimp::_Addfac(*(_Locimp **)(unaff_EBP + 0x10),pfVar3,uVar1);
  }
  uVar1 = *(uint *)(unaff_EBP + 0xc) & 4;
  if (uVar1 != 0) {
    if (*(int *)(unaff_EBP + 0x14) == 0) {
      pfVar3 = (facet *)operator_new(8);
      if (pfVar3 == (facet *)0x0) {
        pfVar3 = (facet *)0x0;
      }
      else {
        *(undefined4 *)(pfVar3 + 4) = 0;
        *(undefined ***)pfVar3 = &PTR_STL_ConditionalDestructor_00546c54;
      }
      uVar4 = std::locale::id::Operator_CastToUnsignedInt((id *)&DAT_005a4954);
    }
    else {
      uVar4 = std::locale::id::Operator_CastToUnsignedInt((id *)&DAT_005a4954);
      pfVar3 = Memory_FastAllocator();
    }
    std::locale::_Locimp::_Addfac(*(_Locimp **)(unaff_EBP + 0x10),pfVar3,uVar4);
  }
  if (uVar1 != 0) {
    if (*(int *)(unaff_EBP + 0x14) == 0) {
      pfVar3 = (facet *)operator_new(8);
      if (pfVar3 == (facet *)0x0) {
        pfVar3 = (facet *)0x0;
      }
      else {
        *(undefined4 *)(pfVar3 + 4) = 0;
        *(undefined ***)pfVar3 = &PTR_STL_ConditionalDestructor_00546c64;
      }
      uVar4 = std::locale::id::Operator_CastToUnsignedInt((id *)&DAT_005a49a4);
    }
    else {
      uVar4 = std::locale::id::Operator_CastToUnsignedInt((id *)&DAT_005a49a4);
      pfVar3 = Memory_SafeAllocator();
    }
    std::locale::_Locimp::_Addfac(*(_Locimp **)(unaff_EBP + 0x10),pfVar3,uVar4);
    if (uVar1 != 0) {
      if (*(int *)(unaff_EBP + 0x14) == 0) {
        puVar5 = (undefined4 *)operator_new(0x2c);
        *(undefined4 **)(unaff_EBP + -0x14) = puVar5;
        *(undefined4 *)(unaff_EBP + -4) = 10;
        if (puVar5 == (undefined4 *)0x0) {
          pfVar3 = (facet *)0x0;
        }
        else {
          pfVar3 = (facet *)moneypunct<>(puVar5);
        }
        *(undefined4 *)(unaff_EBP + -4) = 0xffffffff;
        uVar4 = std::locale::id::Operator_CastToUnsignedInt((id *)&DAT_005a4944);
      }
      else {
        uVar4 = std::locale::id::Operator_CastToUnsignedInt((id *)&DAT_005a4944);
        pfVar3 = Timer_GetElapsed();
      }
      std::locale::_Locimp::_Addfac(*(_Locimp **)(unaff_EBP + 0x10),pfVar3,uVar4);
      if (uVar1 != 0) {
        if (*(int *)(unaff_EBP + 0x14) == 0) {
          puVar5 = (undefined4 *)operator_new(0x2c);
          *(undefined4 **)(unaff_EBP + -0x14) = puVar5;
          *(undefined4 *)(unaff_EBP + -4) = 0xc;
          if (puVar5 == (undefined4 *)0x0) {
            pfVar3 = (facet *)0x0;
          }
          else {
            pfVar3 = (facet *)moneypunct<>(puVar5);
          }
          *(undefined4 *)(unaff_EBP + -4) = 0xffffffff;
          uVar1 = std::locale::id::Operator_CastToUnsignedInt((id *)&DAT_005a4964);
        }
        else {
          uVar1 = std::locale::id::Operator_CastToUnsignedInt((id *)&DAT_005a4964);
          pfVar3 = Timer_SetInterval();
        }
        std::locale::_Locimp::_Addfac(*(_Locimp **)(unaff_EBP + 0x10),pfVar3,uVar1);
      }
    }
  }
  uVar1 = *(uint *)(unaff_EBP + 0xc) & 0x10;
  if (uVar1 != 0) {
    if (*(int *)(unaff_EBP + 0x14) == 0) {
      pvVar2 = operator_new(0x14);
      *(void **)(unaff_EBP + 0xc) = pvVar2;
      *(undefined4 *)(unaff_EBP + -4) = 0xe;
      if (pvVar2 == (void *)0x0) {
        pfVar3 = (facet *)0x0;
      }
      else {
        pfVar3 = (facet *)RTTI_BaseClassArray();
      }
      *(undefined4 *)(unaff_EBP + -4) = 0xffffffff;
      uVar4 = std::locale::id::Operator_CastToUnsignedInt((id *)&DAT_005a4974);
    }
    else {
      uVar4 = std::locale::id::Operator_CastToUnsignedInt((id *)&DAT_005a4974);
      pfVar3 = Compiler_StaticInitializers();
    }
    std::locale::_Locimp::_Addfac(*(_Locimp **)(unaff_EBP + 0x10),pfVar3,uVar4);
  }
  if (uVar1 != 0) {
    if (*(int *)(unaff_EBP + 0x14) == 0) {
      puVar5 = (undefined4 *)operator_new(0x14);
      if (puVar5 == (undefined4 *)0x0) {
        pfVar3 = (facet *)0x0;
      }
      else {
        pfVar3 = (facet *)System_BinaryEpilogue(puVar5,extraout_EDX,*(byte **)(unaff_EBP + 8),0);
      }
      uVar1 = std::locale::id::Operator_CastToUnsignedInt((id *)&DAT_005a4994);
    }
    else {
      uVar1 = std::locale::id::Operator_CastToUnsignedInt((id *)&DAT_005a4994);
      pfVar3 = Locale_GetWCharNumericFacet();
    }
    std::locale::_Locimp::_Addfac(*(_Locimp **)(unaff_EBP + 0x10),pfVar3,uVar1);
  }
  if (*(int *)(unaff_EBP + -0x10) != 0) {
    if (*(int *)(unaff_EBP + 0x14) == 0) {
      pvVar2 = operator_new(0x10);
      if (pvVar2 == (void *)0x0) {
        pfVar3 = (facet *)0x0;
      }
      else {
        pfVar3 = (facet *)Locale_ConstructorB(pvVar2,*(undefined4 *)(unaff_EBP + 8),0);
      }
      uVar1 = std::locale::id::Operator_CastToUnsignedInt((id *)&DAT_005a4960);
    }
    else {
      uVar1 = std::locale::id::Operator_CastToUnsignedInt((id *)&DAT_005a4960);
      pfVar3 = Locale_GetWCharMoneyFacet();
    }
    std::locale::_Locimp::_Addfac(*(_Locimp **)(unaff_EBP + 0x10),pfVar3,uVar1);
  }
  ExceptionList = *(void **)(unaff_EBP + -0xc);
  return;
}


