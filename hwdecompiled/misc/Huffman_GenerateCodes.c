/*
 * Function: Huffman_GenerateCodes
 * Address: 004dc260
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


void __fastcall Huffman_GenerateCodes(undefined4 param_1,int param_2)

{
  ushort uVar1;
  void *this;
  int iVar2;
  int iVar3;
  uint uVar4;
  int unaff_EBX;
  int unaff_EDI;
  undefined4 *in_stack_ffffffd8;
  undefined4 *in_stack_ffffffdc;
  
  this = DAT_00569f5c;
  iVar3 = 0;
  iVar2 = 1;
  do {
    iVar3 = (uint)(ushort)(*(short *)(param_2 + iVar2 * 2 + -2) + (short)iVar3) << 1;
    *(short *)(&stack0xffffffd8 + iVar2 * 2) = (short)iVar3;
    iVar2 = iVar2 + 1;
  } while (iVar2 < 0x10);
  iVar2 = 0;
  if (-1 < unaff_EBX) {
    do {
      uVar4 = (uint)*(ushort *)(unaff_EDI + 2 + iVar2 * 4);
      if (uVar4 != 0) {
        uVar1 = *(ushort *)(&stack0xffffffd8 + uVar4 * 2);
        *(ushort *)(&stack0xffffffd8 + uVar4 * 2) = uVar1 + 1;
        uVar4 = BitStream_ReverseBits((uint)uVar1,uVar4);
        *(short *)(unaff_EDI + iVar2 * 4) = (short)uVar4;
      }
      iVar2 = iVar2 + 1;
    } while (iVar2 <= unaff_EBX);
  }
  Exception_SetMessage(this,in_stack_ffffffd8,in_stack_ffffffdc);
  return;
}


