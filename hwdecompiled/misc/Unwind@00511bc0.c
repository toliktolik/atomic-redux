/*
 * Function: Unwind@00511bc0
 * Address: 00511bc0
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


/* WARNING: Instruction at (ram,0x00511bd4) overlaps instruction at (ram,0x00511bd3)
    */

uint __fastcall Unwind_00511bc0(int param_1,int param_2)

{
  byte *pbVar1;
  byte bVar2;
  ushort uVar3;
  undefined4 in_EAX;
  int unaff_EBX;
  int unaff_EBP;
  uint unaff_ESI;
  uint uVar4;
  undefined2 in_ES;
  byte in_AF;
  uint unaff_retaddr;
  
  bVar2 = 9 < ((byte)in_EAX & 0xf) | in_AF;
  uVar4 = CONCAT31((int3)((uint)in_EAX >> 8),(byte)in_EAX + bVar2 * -6) & 0xffffff0f;
  uVar4 = unaff_ESI ^
          CONCAT22((short)(uVar4 >> 0x10),CONCAT11((char)((uint)in_EAX >> 8) - bVar2,(char)uVar4));
  do {
    if (param_1 == 0) {
      *(undefined4 *)(uVar4 + 0x5b) = *(undefined4 *)(uVar4 + 0x5b);
      uVar3 = CONCAT11(0x13,(byte)uVar4 & 0xd9);
      uRamfffffffc = 0x28;
      uVar4 = unaff_retaddr;
    }
    else {
      bVar2 = in(0xd3);
      unaff_retaddr = 0x16d9255b;
      uVar3 = (ushort)bVar2;
      unaff_EBP = unaff_EBP + *(int *)(param_2 + 0x28);
    }
    bVar2 = *(byte *)(unaff_EBX + -0x4ffa1144);
    pbVar1 = (byte *)(unaff_EBP + 0x7ba5e181);
    *pbVar1 = *pbVar1 >> 1 | *pbVar1 << 7;
    unaff_retaddr = CONCAT22((short)(unaff_retaddr >> 0x10),in_ES);
    param_1 = param_1 + -1;
  } while (param_1 != 0 && ((byte)(uVar3 + 0x2123c4e5 >> 8) & bVar2) != 0);
  pbVar1 = (byte *)(unaff_EBX + 0x4e8527d2);
  bVar2 = (byte)param_1 & 7;
  *pbVar1 = *pbVar1 >> bVar2 | *pbVar1 << 8 - bVar2;
  return unaff_retaddr;
}


