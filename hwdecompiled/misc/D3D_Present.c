/*
 * Function: D3D_Present
 * Address: 004863c0
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


void __thiscall D3D_Present(void *this,uint param_1)

{
  undefined4 *puVar1;
  undefined4 *puVar2;
  undefined4 uVar3;
  uint uVar4;
  int iVar5;
  
  iVar5 = *(int *)((int)this + 4);
  if (iVar5 == 0) {
    uVar4 = 0;
  }
  else {
    uVar4 = (*(int *)((int)this + 8) - iVar5) / 0xc;
  }
  if (uVar4 < param_1) {
    if (iVar5 == 0) {
      iVar5 = 0;
    }
    else {
      iVar5 = (*(int *)((int)this + 8) - iVar5) / 0xc;
    }
    D3D_SetProjectionMatrix
              (this,*(undefined4 **)((int)this + 8),(undefined4 *)(param_1 - iVar5),
               (undefined4 *)&stack0x00000008);
    return;
  }
  if (iVar5 != 0) {
    puVar2 = *(undefined4 **)((int)this + 8);
    if ((param_1 < (uint)(((int)puVar2 - iVar5) / 0xc)) &&
       (puVar1 = (undefined4 *)(iVar5 + param_1 * 0xc), puVar1 != puVar2)) {
      uVar3 = DirectX_InitializeDevice(puVar2,puVar2,puVar1);
      *(undefined4 *)((int)this + 8) = uVar3;
    }
  }
  return;
}


