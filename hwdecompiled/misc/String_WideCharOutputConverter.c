/*
 * Function: String_WideCharOutputConverter
 * Address: 004ed28e
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


void __fastcall
String_WideCharOutputConverter
          (int param_1,int param_2,undefined4 *param_3,int param_4,int param_5,int *param_6,
          int param_7,int param_8,int *param_9)

{
  LPSTR pCVar1;
  undefined4 uVar2;
  void *this;
  int iVar3;
  uint uVar4;
  uint extraout_ECX;
  uint extraout_ECX_00;
  int extraout_EDX;
  int extraout_EDX_00;
  undefined4 *in_stack_ffffffec;
  undefined4 *in_stack_fffffff0;
  
  this = DAT_00569f5c;
  *param_6 = param_4;
  *param_9 = param_7;
  iVar3 = *param_6;
  uVar4 = (uint)(iVar3 != param_5);
  do {
    if ((iVar3 == param_5) || (*param_9 == param_8)) goto LAB_004ed376;
    pCVar1 = (LPSTR)*param_9;
    iVar3 = Assembly_ConditionalAdd(uVar4,param_2);
    if (param_8 - (int)pCVar1 < iVar3) {
      uVar2 = *param_3;
      iVar3 = String_WideCharToMultiByteConvert
                        (&stack0xffffffec,*(WCHAR *)*param_6,param_3,(int *)(param_1 + 8));
      if (iVar3 < 1) goto LAB_004ed376;
      if (param_8 - *param_9 < iVar3) {
        *param_3 = uVar2;
LAB_004ed376:
        Exception_SetMessage(this,in_stack_ffffffec,in_stack_fffffff0);
        return;
      }
      Assembly_MemoryCopy((undefined4 *)*param_9,(int)&stack0xffffffec);
      *param_6 = *param_6 + 2;
      *param_9 = *param_9 + iVar3;
      uVar4 = extraout_ECX_00;
      param_2 = extraout_EDX_00;
    }
    else {
      iVar3 = String_WideCharToMultiByteConvert
                        (pCVar1,*(WCHAR *)*param_6,param_3,(int *)(param_1 + 8));
      if (iVar3 < 1) goto LAB_004ed376;
      *param_6 = *param_6 + 2;
      *param_9 = *param_9 + iVar3;
      uVar4 = extraout_ECX;
      param_2 = extraout_EDX;
    }
    iVar3 = *param_6;
  } while( true );
}


