/*
 * Function: Unwind@00511f30
 * Address: 00511f30
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


/* WARNING: Control flow encountered bad instruction data */
/* WARNING: Instruction at (ram,0x00511fc7) overlaps instruction at (ram,0x00511fc6)
    */

undefined1 * __fastcall Unwind_00511f30(int param_1,undefined4 param_2,ushort param_3)

{
  uint *puVar1;
  char *pcVar2;
  byte bVar3;
  int *in_EAX;
  uint uVar4;
  int iVar6;
  int unaff_EBX;
  int unaff_EBP;
  int unaff_EDI;
  int in_GS_OFFSET;
  float10 in_ST0;
  int unaff_retaddr;
  uint uVar5;
  
  pcVar2 = *(char **)(unaff_EDI + 0x32);
  if (param_1 != 1 && (char *)(unaff_retaddr + 1) == (char *)0x0) {
                    /* WARNING: Bad instruction - Truncating control flow here */
    halt_baddata();
  }
  iVar6 = CONCAT31((int3)((uint)param_2 >> 8),0x54);
  *(char *)(unaff_retaddr + 0x5c492d64) = *(char *)(unaff_retaddr + 0x5c492d64) + -99;
  *in_EAX = (int)ROUND(in_ST0);
  uVar4 = (uint)in_EAX ^ 0x807c04d7;
  if (uVar4 == 0) {
    *(char *)(unaff_retaddr + 1) = *pcVar2;
    puVar1 = (uint *)(iVar6 + -0x2c72ee3b);
    uVar4 = *puVar1;
    *puVar1 = uVar4 >> 3 | uVar4 << 0x1e;
    return &stack0x00000006;
  }
  bVar3 = (byte)uVar4;
  uVar5 = CONCAT31((int3)(CONCAT22((short)(uVar4 >> 0x10),CONCAT11(bVar3 / 199,bVar3)) >> 8),
                   bVar3 % 199);
  puVar1 = (uint *)(unaff_EBX + -0x61d8f7e8);
  uVar4 = *puVar1;
  *puVar1 = *puVar1 + uVar5;
  *(byte *)(unaff_EBP + 0x6347a807) = *(byte *)(unaff_EBP + 0x6347a807) >> 1;
  *(float *)(in_GS_OFFSET + iVar6 + -4) = (float)in_ST0;
  *pcVar2 = *pcVar2 - (bVar3 % 199 + 0x41 + CARRY4(uVar4,uVar5) ^ 0xe0);
                    /* WARNING: Bad instruction - Truncating control flow here */
  halt_baddata();
}


