/*
 * Function: Unwind@00517856
 * Address: 00517856
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


/* WARNING: Control flow encountered bad instruction data */
/* WARNING: Unable to track spacebase fully for stack */

void __fastcall Unwind_00517856(undefined4 param_1,undefined2 param_2)

{
  char *pcVar1;
  undefined4 uVar2;
  uint uVar3;
  uint uVar4;
  undefined4 extraout_ECX;
  int iVar5;
  int unaff_EBX;
  undefined1 *puVar7;
  undefined1 *puVar9;
  int unaff_EBP;
  int unaff_EDI;
  undefined2 in_CS;
  byte in_CF;
  undefined2 in_FPUControlWord;
  unkbyte10 in_ST0;
  unkbyte10 extraout_ST0;
  undefined6 uVar10;
  int iVar6;
  undefined4 *puVar8;
  
  *(int *)(unaff_EBP + 0x43) = (*(int *)(unaff_EBP + 0x43) - unaff_EBX) - (uint)in_CF;
  uVar4 = in(param_2);
  uVar2 = in(param_2);
  *(undefined4 *)(unaff_EDI + -1) = uVar2;
  uVar4 = uVar4 & 0xffffff10;
  puVar7 = (undefined1 *)0x5b;
  while( true ) {
    *(unkbyte10 *)(uVar4 - 0x24) = in_ST0;
    out(0xcc,uVar4);
    iVar5 = CONCAT31((int3)((uint)param_1 >> 8),(char)param_1 - *(char *)(uVar4 + 0xdd37ed6d));
    do {
      iVar6 = iVar5;
      iVar5 = iVar6 + -1;
    } while (iVar5 != 0 && unaff_EBX + 1U != 0);
    uVar3 = uVar4 >> 8;
    if ((POPCOUNT(unaff_EBX + 1U & 0xff) & 1U) != 0) break;
    *(undefined2 *)(unaff_EBX + -0x30712c09) = in_FPUControlWord;
    *(undefined2 *)(puVar7 + -4) = in_CS;
    puVar8 = (undefined4 *)(puVar7 + -8);
    puVar7 = puVar7 + -8;
    *puVar8 = 0x5178e3;
    uVar4 = (*(code *)(iVar6 + 0x5b))();
    param_1 = extraout_ECX;
    unaff_EBX = CONCAT31((int3)uVar3,0xaf);
    in_ST0 = extraout_ST0;
  }
  *(undefined2 *)(puVar7 + -4) = in_CS;
  puVar9 = puVar7 + -8;
  *(undefined4 *)(puVar7 + -8) = 0x5178fd;
  uVar10 = func_0x9aa8a8eb();
  pcVar1 = (char *)((CONCAT31((int3)((uint6)uVar10 >> 8),0x2f) & 0xa91b1a26) + 0x93eb3d0a);
  *pcVar1 = *pcVar1 + (char)((uint6)uVar10 >> 0x28);
  *(undefined4 *)(puVar9 + -4) = 0xc06cca24;
  in((short)((uint6)uVar10 >> 0x20));
                    /* WARNING: Bad instruction - Truncating control flow here */
  halt_baddata();
}


