/*
 * Function: Locale_TransformText
 * Address: 0044ff50
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


void __fastcall Locale_TransformText(int *param_1)

{
  int *piVar1;
  POINT Point;
  HWND pHVar2;
  char cVar3;
  undefined4 *puVar4;
  int *piVar5;
  DWORD DVar6;
  HWND pHVar7;
  int iVar8;
  uint uVar9;
  HWND *ppHVar10;
  uint uVar11;
  int iVar12;
  bool bVar13;
  WINDOWPLACEMENT local_70;
  HWND local_44;
  uint local_40;
  uint local_3c;
  undefined4 local_38;
  tagPOINT local_28;
  tagPOINT local_20;
  tagPOINT local_18;
  uint local_10;
  uint local_c;
  char local_5;
  
  iVar8 = param_1[200];
  do {
    if (iVar8 == 0) {
      return;
    }
    puVar4 = (undefined4 *)param_1[199];
    if (puVar4 != (undefined4 *)0x0) {
      puVar4 = (undefined4 *)*puVar4;
    }
    puVar4 = puVar4 + 2;
    ppHVar10 = &local_44;
    for (iVar8 = 7; uVar11 = local_40, iVar8 != 0; iVar8 = iVar8 + -1) {
      *ppHVar10 = (HWND)*puVar4;
      puVar4 = puVar4 + 1;
      ppHVar10 = ppHVar10 + 1;
    }
    piVar1 = (int *)param_1[199];
    if (piVar1 == (int *)0x0) {
      piVar5 = (int *)0x0;
    }
    else {
      piVar5 = (int *)*piVar1;
    }
    if (piVar5 != piVar1) {
      *(int *)piVar5[1] = *piVar5;
      iVar8 = *piVar5;
      uVar11 = piVar5[1];
      *(uint *)(iVar8 + 4) = uVar11;
                    /* WARNING: Subroutine does not return */
      System_ShutdownHandler(iVar8,uVar11);
    }
    if (((char)param_1[0x124] != '\0') && (*(char *)((int)param_1 + 0x2fd) == '\0')) {
      if (local_40 < 0x103) {
        if (local_40 == 0x102) {
          Threading_TerminateThread((int)param_1);
          piVar1 = param_1 + 0x133;
          BitStream_WriteBits(piVar1,0,1);
          BitStream_WriteBits(piVar1,5,5);
          BitStream_WriteBits(piVar1,(int)(char)local_3c,8);
        }
        else {
          switch(local_40) {
          case 5:
            Threading_TerminateThread((int)param_1);
            piVar1 = param_1 + 0x133;
            BitStream_WriteBits(piVar1,0,1);
            BitStream_WriteBits(piVar1,2,5);
            BitStream_WriteBoolean(piVar1,local_3c == 1);
            break;
          case 0x10:
            if ((local_44 == (HWND)param_1[0xc3]) || (local_44 == (HWND)param_1[0xc4])) {
              Threading_TerminateThread((int)param_1);
              BitStream_WriteBits(param_1 + 0x133,0,1);
              BitStream_WriteBits(param_1 + 0x133,6,5);
            }
            break;
          case 0x1c:
            if (local_44 == (HWND)param_1[0xc3]) {
              Threading_TerminateThread((int)param_1);
              piVar1 = param_1 + 0x133;
              BitStream_WriteBits(piVar1,0,1);
              BitStream_WriteBits(piVar1,1,5);
              BitStream_WriteBits(piVar1,(uint)(local_3c != 0),1);
            }
            break;
          case 0x100:
switchD_00450008_caseD_100:
            Threading_TerminateThread((int)param_1);
            piVar1 = param_1 + 0x133;
            BitStream_WriteBits(piVar1,0,1);
            BitStream_WriteBits(piVar1,3,5);
            BitStream_WriteBits(piVar1,local_3c,8);
            break;
          case 0x101:
switchD_00450008_caseD_101:
            Threading_TerminateThread((int)param_1);
            piVar1 = param_1 + 0x133;
            BitStream_WriteBits(piVar1,0,1);
            BitStream_WriteBits(piVar1,4,5);
            BitStream_WriteBits(piVar1,local_3c,8);
          }
        }
      }
      else {
        if (0x208 < local_40) {
          if (local_40 == 0x20a) {
            Threading_TerminateThread((int)param_1);
            piVar1 = param_1 + 0x133;
            BitStream_WriteBits(piVar1,0,1);
            BitStream_WriteBits(piVar1,0x15,5);
            BitStream_WriteBits(piVar1,(int)(short)(local_3c >> 0x10) / 0x78,8);
            uVar11 = local_40;
          }
          goto switchD_00450008_caseD_6;
        }
        if (local_40 < 0x200) {
          if (local_40 == 0x104) goto switchD_00450008_caseD_100;
          if (local_40 == 0x105) goto switchD_00450008_caseD_101;
          goto switchD_00450008_caseD_6;
        }
        local_c = (uint)(short)((uint)local_38 >> 0x10);
        uVar11 = (int)(short)local_38 - param_1[0x13c];
        local_10 = local_c - param_1[0x13d];
        if (((int)((uVar11 ^ (int)uVar11 >> 0x1f) - ((int)uVar11 >> 0x1f)) < 0x20) &&
           ((int)((local_10 ^ (int)local_10 >> 0x1f) - ((int)local_10 >> 0x1f)) < 0x20)) {
          if ((uVar11 != 0) || (local_10 != 0)) {
            Threading_TerminateThread((int)param_1);
            piVar1 = param_1 + 0x133;
            BitStream_WriteBits(piVar1,1,1);
            BitStream_WriteBits(piVar1,0,1);
            BitStream_WriteBits(piVar1,uVar11,6);
            iVar8 = 6;
            uVar11 = local_10;
            goto LAB_00450242;
          }
        }
        else {
          Threading_TerminateThread((int)param_1);
          piVar1 = param_1 + 0x133;
          BitStream_WriteBits(piVar1,0,1);
          BitStream_WriteBits(piVar1,0,5);
          BitStream_WriteBits(piVar1,(int)(short)local_38,0xc);
          iVar8 = 0xc;
          uVar11 = local_c;
LAB_00450242:
          BitStream_WriteBits(param_1 + 0x133,uVar11,iVar8);
        }
        local_5 = '\x01';
        switch(local_40) {
        case 0x201:
          uVar11 = 1;
          break;
        case 0x202:
          uVar11 = 1;
          local_5 = '\0';
          break;
        case 0x203:
          uVar11 = 2;
          break;
        case 0x204:
          uVar11 = 0xffffffff;
          break;
        case 0x205:
          uVar11 = 0xffffffff;
          local_5 = '\0';
          break;
        case 0x206:
          uVar11 = 0xfffffffe;
          break;
        case 0x208:
          local_5 = '\0';
        case 0x207:
          uVar11 = 3;
          break;
        default:
          goto switchD_0045025f_default;
        }
        Threading_TerminateThread((int)param_1);
        piVar1 = param_1 + 0x133;
        BitStream_WriteBits(piVar1,1,1);
        BitStream_WriteBits(piVar1,1,1);
        BitStream_WriteBits(piVar1,(uint)(local_5 != '\0'),1);
        BitStream_WriteBits(piVar1,uVar11,3);
switchD_0045025f_default:
        param_1[0x13c] = (int)(short)local_38;
        param_1[0x13d] = local_c;
        uVar11 = local_40;
      }
switchD_00450008_caseD_6:
      Level_InitializeBlastnya((int)(param_1 + 0x133));
    }
    uVar9 = uVar11;
    if (*(char *)((int)param_1 + 0x491) != '\0') goto switchD_0045038a_caseD_4;
    if (uVar11 < 0x103) {
      if (uVar11 == 0x102) {
        param_1[0x102] = param_1[0xec];
        Algorithm_FindFirstOf((void *)param_1[0xb7],local_3c);
        goto LAB_00450994;
      }
      switch(uVar11) {
      case 3:
        if ((local_44 == (HWND)param_1[0xc3]) && (*(char *)((int)param_1 + 0x2fe) != '\0')) {
          local_70.length = 0x2c;
          GetWindowPlacement(local_44,&local_70);
          if ((local_70.showCmd == 5) || (uVar9 = local_40, local_70.showCmd == 1)) {
            param_1[0x1f] = local_70.rcNormalPosition.left;
            param_1[0x20] = local_70.rcNormalPosition.top;
            uVar9 = uVar11;
          }
        }
        break;
      case 5:
        bVar13 = local_3c == 1;
        if (((local_44 == (HWND)param_1[0xc3]) && (*(char *)((int)param_1 + 0x2fd) == '\0')) &&
           (bVar13 != (bool)*(char *)((int)param_1 + 0x453))) {
          *(bool *)((int)param_1 + 0x453) = bVar13;
          if (bVar13) {
            if (*(char *)((int)param_1 + 0x3d1) != '\0') {
              (**(code **)(*param_1 + 0xdc))(1);
              Threading_CreateThread(param_1);
              break;
            }
          }
          else {
            if (*(char *)((int)param_1 + 0x3d1) != '\0') {
              (**(code **)(*param_1 + 0xe0))(1);
            }
            UI_Widget_ValidateRender(param_1[0xb7]);
          }
        }
        Threading_CreateThread(param_1);
        break;
      case 0x1c:
        if ((((local_44 == (HWND)param_1[0xc3]) && (DAT_005a3850 == '\0')) &&
            ((char)param_1[0xbf] == '\0')) && (*(char *)((int)param_1 + 0x2fd) == '\0')) {
          Threading_CreateThread(param_1);
          if ((*(char *)((int)param_1 + 0x452) != '\0') && (*(char *)((int)param_1 + 0x2fe) == '\0')
             ) {
            UI_Widget_ValidateRender(param_1[0xb7]);
          }
          uVar9 = local_40;
          if (((char)param_1[0xe3] != '\0') && (*(char *)((int)param_1 + 0x452) == '\0')) {
            (**(code **)(*param_1 + 0x80))(param_1 + 0xe4);
            uVar9 = uVar11;
          }
        }
        break;
      case 0x100:
switchD_0045038a_caseD_100:
        param_1[0x102] = param_1[0xec];
        if (((local_3c == 0x44) && (iVar8 = param_1[0xb7], iVar8 != 0)) &&
           ((*(char *)(iVar8 + 0x81) != '\0' && (*(char *)(iVar8 + 0x82) != '\0')))) {
          PlaySoundA("c:\\windows\\media\\Windows XP Menu Command.wav",(HMODULE)0x0,1);
          *(bool *)(param_1 + 0x14b) = (char)param_1[0x14b] == '\0';
        }
        if (((char)param_1[0x14b] == '\0') ||
           (cVar3 = (**(code **)(*param_1 + 0x124))(local_3c), uVar9 = local_40, cVar3 == '\0')) {
          Algorithm_AdjacentFind((void *)param_1[0xb7],local_3c);
          uVar9 = uVar11;
        }
        break;
      case 0x101:
switchD_0045038a_caseD_101:
        param_1[0x102] = param_1[0xec];
        Algorithm_Count((void *)param_1[0xb7],local_3c);
      }
      goto switchD_0045038a_caseD_4;
    }
    if (uVar11 < 0x114) {
      if (uVar11 != 0x113) {
        if (uVar11 == 0x104) goto switchD_0045038a_caseD_100;
        if (uVar11 == 0x105) goto switchD_0045038a_caseD_101;
        goto switchD_0045038a_caseD_4;
      }
      if (((DAT_005a3850 == '\0') && ((char)param_1[0xbf] == '\0')) &&
         (*(char *)((int)param_1 + 0x451) != '\0')) {
        DVar6 = GetTickCount();
        if (500 < DVar6 - param_1[0xec]) {
          param_1[0xed] = DVar6;
        }
        param_1[0xec] = DVar6;
        if (((char)param_1[0xe3] != '\0') && (5000 < DVar6 - param_1[0xed])) {
          if ((DVar6 - param_1[0xeb] < 0x1f41) || (*(char *)((int)param_1 + 0x452) != '\0')) {
            if ((12000 < DVar6 - param_1[0xeb]) && (*(char *)((int)param_1 + 0x452) != '\0')) {
              (**(code **)(*param_1 + 0x7c))(param_1 + 0xe4);
            }
          }
          else {
            (**(code **)(*param_1 + 0x80))(param_1 + 0xe4);
          }
        }
        local_20.x = 0;
        local_20.y = 0;
        ClientToScreen(local_44,&local_20);
        pHVar2 = local_44;
        local_28.x = param_1[0x21];
        local_28.y = param_1[0x22];
        ClientToScreen(local_44,&local_28);
        GetCursorPos(&local_18);
        Point.y = local_18.y;
        Point.x = local_18.x;
        pHVar7 = WindowFromPoint(Point);
        if ((((pHVar7 != pHVar2) || (local_18.x < local_20.x)) || (local_18.y < local_20.y)) ||
           ((local_28.x <= local_18.x || (local_5 = '\x01', local_28.y <= local_18.y)))) {
          local_5 = '\0';
        }
        if ((char)param_1[0x114] != local_5) {
          if (((char)param_1[0x124] == '\0') || (*(char *)((int)param_1 + 0x2fd) != '\0')) {
LAB_0045074d:
            if (local_5 == '\0') goto LAB_00450754;
          }
          else {
            Threading_TerminateThread((int)param_1);
            piVar1 = param_1 + 0x133;
            BitStream_WriteBits(piVar1,0,1);
            if (local_5 != '\0') {
              BitStream_WriteBits(piVar1,7,5);
              goto LAB_0045074d;
            }
            BitStream_WriteBits(piVar1,8,5);
LAB_00450754:
            Algorithm_FindIfNot(param_1[0xb7]);
          }
          *(char *)(param_1 + 0x114) = local_5;
          (**(code **)(*param_1 + 0x30))();
        }
      }
      goto LAB_00450994;
    }
    if (uVar11 < 0x200) goto switchD_0045038a_caseD_4;
    if (0x208 < uVar11) {
      if (uVar11 == 0x20a) {
        Algorithm_FindEnd(param_1[0xb7]);
        goto LAB_00450994;
      }
      goto switchD_0045038a_caseD_4;
    }
    if ((DAT_005a3850 != '\0') || ((char)param_1[0xbf] != '\0')) goto switchD_0045038a_caseD_4;
    param_1[0x102] = param_1[0xec];
    iVar8 = (int)(short)((uint)local_38 >> 0x10);
    iVar12 = (int)(short)local_38;
    UI_SetChildProperties((void *)param_1[0xb7],iVar12,iVar8);
    if ((char)param_1[0x114] == '\0') {
      if ((char)param_1[0x124] != '\0') {
        Threading_TerminateThread((int)param_1);
        BitStream_WriteBits(param_1 + 0x133,0,1);
        BitStream_WriteBits(param_1 + 0x133,7,5);
      }
      *(undefined1 *)(param_1 + 0x114) = 1;
      (**(code **)(*param_1 + 0x30))();
    }
    uVar9 = local_40;
    switch(local_40) {
    case 0x201:
      SetCapture(local_44);
      UI_HandleChildFocus((void *)param_1[0xb7],iVar12,iVar8,1);
      uVar9 = local_40;
      break;
    case 0x202:
      UI_ProcessWidgetClipping((void *)param_1[0xb7],iVar12,iVar8,1);
      iVar8 = *(int *)(param_1[0xb7] + 0x5c);
      goto LAB_00450960;
    case 0x203:
      SetCapture(local_44);
      UI_HandleChildFocus((void *)param_1[0xb7],iVar12,iVar8,2);
      uVar9 = local_40;
      break;
    case 0x204:
      SetCapture(local_44);
      UI_HandleChildFocus((void *)param_1[0xb7],iVar12,iVar8,-1);
      uVar9 = local_40;
      break;
    case 0x205:
      UI_ProcessWidgetClipping((void *)param_1[0xb7],iVar12,iVar8,-1);
      iVar8 = *(int *)(param_1[0xb7] + 0x5c);
      goto LAB_00450960;
    case 0x206:
      SetCapture(local_44);
      UI_HandleChildFocus((void *)param_1[0xb7],iVar12,iVar8,-2);
      uVar9 = local_40;
      break;
    case 0x207:
      SetCapture(local_44);
      UI_HandleChildFocus((void *)param_1[0xb7],iVar12,iVar8,3);
      uVar9 = local_40;
      break;
    case 0x208:
      UI_ProcessWidgetClipping((void *)param_1[0xb7],iVar12,iVar8,3);
      iVar8 = *(int *)(param_1[0xb7] + 0x5c);
LAB_00450960:
      uVar9 = local_40;
      if (iVar8 == 0) {
        ReleaseCapture();
        uVar9 = local_40;
      }
    }
switchD_0045038a_caseD_4:
    if ((uVar9 == 0x10) && ((local_44 == (HWND)param_1[0xc3] || (local_44 == (HWND)param_1[0xc4]))))
    {
      *(undefined1 *)((int)param_1 + 0x492) = 1;
      (**(code **)(*param_1 + 0x98))();
    }
LAB_00450994:
    iVar8 = param_1[200];
  } while( true );
}


