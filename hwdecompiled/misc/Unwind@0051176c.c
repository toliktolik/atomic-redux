/*
 * Function: Unwind@0051176c
 * Address: 0051176c
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


/* WARNING: Instruction at (ram,0x005117d8) overlaps instruction at (ram,0x005117d7)
    */

ulonglong __fastcall Unwind_0051176c(int *param_1,int param_2)

{
  uint *puVar1;
  char *pcVar2;
  uint uVar3;
  undefined1 *puVar4;
  code *pcVar5;
  int *piVar6;
  byte bVar7;
  int in_EAX;
  int *piVar9;
  uint uVar10;
  undefined4 uVar11;
  int unaff_EBX;
  undefined1 *unaff_ESI;
  undefined1 *unaff_EDI;
  bool bVar12;
  char in_AF;
  ulonglong uVar13;
  undefined4 unaff_retaddr;
  ushort uVar8;
  
  out(0xf8,(char)in_EAX);
  piVar9 = (int *)(in_EAX + -1);
  out(*unaff_ESI,(short)param_2);
  piVar6 = piVar9;
  puVar4 = unaff_ESI + 1;
  if ((char)piVar9 < '[') {
    if ((char)piVar9 != '[') {
      return CONCAT44(CONCAT31((int3)((uint)param_2 >> 8),0xfb),piVar9) | 0x42;
    }
  }
  else {
    while( true ) {
      piVar9 = param_1;
      param_1 = piVar6;
      param_2 = CONCAT31((int3)((uint)param_2 >> 8),0xdb);
      DAT_7416d607 = DAT_7416d607 + '\x01';
      if ((POPCOUNT(DAT_7416d607) & 1U) == 0) break;
      while( true ) {
        uVar11 = in(0xfc);
        *(int *)(param_2 + -0x38) = *(int *)(param_2 + -0x38) + -1;
        param_2 = 0x606776d2;
        puVar1 = (uint *)(unaff_EBX + -0x17);
        uVar10 = *puVar1;
        uVar3 = *puVar1;
        *puVar1 = *puVar1 + 0x1779f87e;
        if (SCARRY4(uVar3,0x1779f87e)) break;
        bVar12 = (longlong)(int)&stack0x00000000 !=
                 (longlong)*(int *)(unaff_EDI + 0x54) * -0x2e2c0edd;
        bVar7 = (char)uVar11 + '1' + (char)((uint)uVar11 >> 8) * '=';
        uVar8 = (ushort)bVar7;
        if (uVar8 == 0 || bVar12) {
          uVar10 = CONCAT22((short)((uint)uVar11 >> 0x10),
                            CONCAT11((uVar8 == 0) << 6 | in_AF << 4 |
                                     ((POPCOUNT(uVar8) & 1U) == 0) << 2 | 2U | bVar12,bVar7));
          pcVar2 = (char *)(unaff_EBX + 0x26 + (int)unaff_EDI * 8);
          *pcVar2 = *pcVar2 + '$' + (uVar10 < 0x93d61d2c || uVar10 + 0x6c29e2d4 < (uint)bVar12);
          return CONCAT44(0x606776d2,unaff_retaddr);
        }
      }
      *unaff_EDI = *puVar4;
      *param_1 = (*param_1 + -0x32) - (uint)(0xe8860781 < uVar10);
      piVar6 = (int *)((uint)puVar4 >> 8);
      unaff_EDI = unaff_EDI + 1;
      puVar4 = puVar4 + 1;
    }
  }
  out(0x47,(char)piVar9);
  pcVar5 = (code *)swi(3);
  uVar13 = (*pcVar5)();
  return uVar13;
}


