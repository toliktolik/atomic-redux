/*
 * Function: Unwind@005117ae
 * Address: 005117ae
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


undefined4 __fastcall Unwind_005117ae(int *param_1,int param_2,undefined1 param_3)

{
  uint *puVar1;
  char *pcVar2;
  uint uVar3;
  code *pcVar4;
  byte bVar5;
  uint uVar7;
  undefined4 in_EAX;
  undefined4 uVar8;
  int *piVar9;
  int unaff_EBX;
  undefined1 *unaff_ESI;
  undefined1 *unaff_EDI;
  bool bVar10;
  char in_AF;
  undefined1 *puVar11;
  ushort uVar6;
  
  do {
    *(int *)(param_2 + -0x38) = *(int *)(param_2 + -0x38) + -1;
    param_2 = 0x606776d2;
    puVar1 = (uint *)(unaff_EBX + -0x17);
    uVar7 = *puVar1;
    uVar3 = *puVar1;
    *puVar1 = *puVar1 + 0x1779f87e;
    if (SCARRY4(uVar3,0x1779f87e)) {
      *unaff_EDI = *unaff_ESI;
      *param_1 = (*param_1 + -0x32) - (uint)(0xe8860781 < uVar7);
      param_2 = 0x606776db;
      DAT_7416d607 = DAT_7416d607 + '\x01';
      piVar9 = (int *)CONCAT43(puVar11,(int3)((uint)unaff_ESI >> 8));
      unaff_ESI = unaff_ESI + 1;
      unaff_EDI = unaff_EDI + 1;
      if ((POPCOUNT(DAT_7416d607) & 1U) == 0) {
        out(0x47,(char)param_1);
        pcVar4 = (code *)swi(3);
        uVar8 = (*pcVar4)();
        return uVar8;
      }
    }
    else {
      bVar10 = (longlong)(int)&stack0x00000001 != (longlong)*(int *)(unaff_EDI + 0x54) * -0x2e2c0edd
      ;
      bVar5 = (char)in_EAX + '1' + (char)((uint)in_EAX >> 8) * '=';
      uVar6 = (ushort)bVar5;
      piVar9 = param_1;
      if (uVar6 == 0 || bVar10) {
        uVar7 = CONCAT22((short)((uint)in_EAX >> 0x10),
                         CONCAT11((uVar6 == 0) << 6 | in_AF << 4 |
                                  ((POPCOUNT(uVar6) & 1U) == 0) << 2 | 2U | bVar10,bVar5));
        pcVar2 = (char *)(unaff_EBX + 0x26 + (int)unaff_EDI * 8);
        *pcVar2 = *pcVar2 + '$' + (uVar7 < 0x93d61d2c || uVar7 + 0x6c29e2d4 < (uint)bVar10);
        return CONCAT13(param_3,(int3)((uint)puVar11 >> 8));
      }
    }
    puVar11 = &stack0x00000001;
    in_EAX = in(0xfc);
    param_1 = piVar9;
  } while( true );
}


