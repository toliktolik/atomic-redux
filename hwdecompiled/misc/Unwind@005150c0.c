/*
 * Function: Unwind@005150c0
 * Address: 005150c0
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


/* WARNING: Control flow encountered bad instruction data */
/* WARNING: Unable to track spacebase fully for stack */
/* WARNING: Removing unreachable block (ram,0x00515104) */
/* WARNING: Removing unreachable block (ram,0x0051510e) */
/* WARNING: Removing unreachable block (ram,0x00515195) */
/* WARNING: Removing unreachable block (ram,0x0051511f) */
/* WARNING: Removing unreachable block (ram,0x0051512d) */
/* WARNING: Removing unreachable block (ram,0x00515155) */

void __fastcall Unwind_005150c0(undefined4 param_1,undefined4 param_2,int param_3)

{
  undefined4 uVar1;
  int iVar2;
  undefined1 uVar3;
  byte bVar4;
  int extraout_ECX;
  int iVar5;
  undefined4 extraout_EDX;
  undefined4 *unaff_EBX;
  undefined4 *puVar6;
  int iVar7;
  undefined2 in_ES;
  undefined2 in_SS;
  char cVar8;
  undefined8 in_MM6;
  undefined4 uStack_4;
  
  do {
    puVar6 = unaff_EBX;
    iVar2 = param_3;
    cVar8 = '\x01';
    in(0x3b);
    param_3 = CONCAT22((short)((uint)puVar6 >> 0x10),in_SS);
    uVar1 = in((short)param_2);
    *puVar6 = uVar1;
    uVar3 = func_0x4d7a6705();
    unaff_EBX = (undefined4 *)((int)puVar6 + 1);
    out(0x14,uVar3);
    param_2 = extraout_EDX;
  } while ((POPCOUNT((uint)unaff_EBX & 0xff) & 1U) == 0);
  iVar7 = CONCAT22((short)((uint)&stack0x00000000 >> 0x10),in_ES);
  iVar5 = (CONCAT31((int3)((uint)extraout_ECX >> 8),
                    ((char)extraout_ECX - *(char *)(extraout_ECX + 0x16)) - cVar8) + 1) * 2;
  bVar4 = (byte)iVar5;
  paddsw(in_MM6,*(undefined8 *)((int)puVar6 + 0x1abc3d7e));
  *(undefined4 *)(iVar7 + -4) = 0xe40a6917;
  *(uint *)(iVar7 + -8) =
       CONCAT31((int3)((uint)iVar5 >> 8),bVar4 >> (bVar4 & 7) | bVar4 << 8 - (bVar4 & 7));
  *(undefined4 *)(iVar7 + -0xc) = extraout_EDX;
  *(uint *)(iVar7 + -0x10) =
       CONCAT22((short)((uint)unaff_EBX >> 0x10),
                CONCAT11((char)((uint)unaff_EBX >> 8) + (char)unaff_EBX,(char)unaff_EBX));
  *(int *)(iVar7 + -0x14) = iVar7;
  *(int *)(iVar7 + -0x18) = iVar2;
  *(undefined4 *)(iVar7 + -0x1c) = uStack_4;
  *(undefined4 **)(iVar7 + -0x20) = puVar6 + 1;
  do {
  } while( true );
}


