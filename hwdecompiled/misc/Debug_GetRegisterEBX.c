/*
 * Function: Debug_GetRegisterEBX
 * Address: 0050f1d2
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


/* WARNING: Control flow encountered bad instruction data */
/* WARNING: Instruction at (ram,0x0050f1f1) overlaps instruction at (ram,0x0050f1ed)
    */
/* WARNING: Unable to track spacebase fully for stack */

void __fastcall Debug_GetRegisterEBX(uint param_1,int param_2)

{
  uint *puVar1;
  uint uVar2;
  uint uVar3;
  uint in_EAX;
  int iVar4;
  char *pcVar5;
  uint unaff_EBX;
  uint uVar6;
  int iVar7;
  int unaff_EBP;
  undefined4 unaff_ESI;
  int unaff_EDI;
  bool bVar8;
  undefined1 in_SF;
  undefined4 uStack_4;
  
  do {
    if ((bool)in_SF) {
      if (!(bool)in_SF) {
        do {
                    /* WARNING: Do nothing block with infinite loop */
        } while( true );
      }
      iVar4 = in((short)param_2);
      *(char *)(param_1 + 0x55) = *(char *)(param_1 + 0x55) - (char)((uint)iVar4 >> 8);
      unaff_EBP = unaff_EBP + -1;
      bVar8 = unaff_EBX < *(uint *)(unaff_EDI + 0x32);
      unaff_EBX = unaff_EBX - *(uint *)(unaff_EDI + 0x32);
      *(char *)(iVar4 + -0x18) = *(char *)(iVar4 + -0x18) + -1;
      puVar1 = (uint *)(param_2 + -0xc64ae6f);
      uVar6 = (uint)bVar8;
      uVar2 = *puVar1;
      uVar3 = *puVar1 - param_1;
      bVar8 = *puVar1 < param_1 || uVar3 < uVar6;
      *puVar1 = uVar3 - uVar6;
      in_EAX = 0xa80fa09f;
      if (*puVar1 != 0 && (SBORROW4(uVar2,param_1) != SBORROW4(uVar3,uVar6)) == (int)*puVar1 < 0)
      goto Debug_GetRegisterECX;
    }
    else {
      bVar8 = false;
      if ((in_EAX & 0xf2) != 0 && -1 < (char)in_EAX) {
Debug_GetRegisterECX:
        uVar6 = CONCAT22((short)(unaff_EBX >> 0x10),
                         CONCAT11((char)(unaff_EBX >> 8) + *(char *)(unaff_EBP + -0x7dbaa620) +
                                  bVar8,(char)unaff_EBX));
        iVar4 = *(int *)(unaff_EDI * 9 + -0x35);
        *(byte *)(unaff_EDI + -0x1e) = *(byte *)(unaff_EDI + -0x1e) & (byte)in_EAX;
        pcVar5 = (char *)in(0xe4);
        uVar2 = *(uint *)(unaff_EBP + -0x2c209b90);
        iVar7 = uVar6 + *(uint *)(unaff_EBP + -0x2c209b90);
        if (iVar7 < 0) {
          *(undefined4 *)((int)&uStack_4 - iVar4) = unaff_ESI;
          puVar1 = (uint *)(iVar7 + 0x48e6af16);
          *puVar1 = *puVar1 | (uint)CARRY4(uVar6,uVar2) << 8;
          *pcVar5 = *pcVar5 + (char)(param_1 + 1 >> 8);
                    /* WARNING: Bad instruction - Truncating control flow here */
          halt_baddata();
        }
        *(char **)(unaff_EDI + -0x205a6fe8) = pcVar5;
        return;
      }
    }
    param_1 = param_1 + 1;
    in_SF = (in_EAX & 0x8000) != 0;
  } while( true );
}


