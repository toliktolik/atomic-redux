/*
 * Function: Texture_SetColorKey
 * Address: 0046bc30
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


void __fastcall Texture_SetColorKey(int *param_1)

{
  char cVar1;
  undefined4 uVar2;
  int iVar3;
  undefined4 *puVar4;
  undefined4 local_78 [21];
  int local_24;
  uint local_c;
  uint local_8;
  
  uVar2 = Texture_ConvertAndUpload(param_1);
  if (((((char)uVar2 != '\0') && ((char)param_1[0x14] == '\0')) &&
      (*(char *)((int)param_1 + 0x31) != '\0')) && (*(char *)((int)param_1 + 0x52) != '\0')) {
    puVar4 = local_78;
    for (iVar3 = 0x1b; iVar3 != 0; iVar3 = iVar3 + -1) {
      *puVar4 = 0;
      puVar4 = puVar4 + 1;
    }
    local_78[0] = 0x6c;
    local_78[1] = 0x1006;
    iVar3 = (**(code **)(**(int **)(param_1[0x12] + 0x60) + 0x58))
                      (*(int **)(param_1[0x12] + 0x60),local_78);
    if (-1 < iVar3) {
      if (local_24 == 0x10) {
        cVar1 = (**(code **)(*param_1 + 0x9c))();
        if (cVar1 == '\0') {
          return;
        }
        local_c = (uint)*(ushort *)param_1[0x20];
      }
      else {
        if ((local_24 != 0x18) && (local_24 != 0x20)) {
          return;
        }
        cVar1 = (**(code **)(*param_1 + 0x9c))();
        if (cVar1 == '\0') {
          return;
        }
        local_c = *(uint *)param_1[0x20];
      }
      local_8 = local_c;
      (**(code **)(*(int *)param_1[0x13] + 0x74))((int *)param_1[0x13],8,&local_c);
      (**(code **)(*param_1 + 0xa0))();
    }
  }
  return;
}


