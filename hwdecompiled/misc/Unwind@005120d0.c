/*
 * Function: Unwind@005120d0
 * Address: 005120d0
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


/* WARNING: Control flow encountered bad instruction data */
/* WARNING: Instruction at (ram,0x0051204c) overlaps instruction at (ram,0x0051204b)
    */
/* WARNING: Removing unreachable block (ram,0x00512051) */

void __fastcall Unwind_005120d0(int param_1)

{
  undefined1 uVar1;
  code *pcVar2;
  char in_AL;
  undefined2 uVar3;
  byte *extraout_ECX;
  undefined2 uVar4;
  undefined4 extraout_EDX;
  undefined1 *unaff_ESI;
  undefined1 *unaff_EDI;
  char in_ZF;
  bool in_SF;
  
  if (in_SF) {
                    /* WARNING: Bad instruction - Truncating control flow here */
    halt_baddata();
  }
  *unaff_EDI = *unaff_ESI;
  if (param_1 != 1 && in_ZF == '\0') {
                    /* WARNING: Bad instruction - Truncating control flow here */
    halt_baddata();
  }
  if (param_1 == 1) {
    DAT_00000000 = DAT_00000000 + '\x01';
    if (in_AL == '5') {
      swi(4);
    }
    else {
      *(undefined1 **)(unaff_ESI + 0x4bcefb78) = unaff_ESI + *(int *)(unaff_ESI + 0x4bcefb78) + 1;
    }
                    /* WARNING: Bad instruction - Truncating control flow here */
    halt_baddata();
  }
  unaff_EDI[2] = in_AL;
  pcVar2 = (code *)swi(0xe4);
  uVar3 = (*pcVar2)();
  unaff_EDI[0x7666b2db] = unaff_EDI[0x7666b2db] | 0xf9;
  uVar4 = CONCAT11(0x84,(char)extraout_EDX);
  unaff_ESI[0x2b] = unaff_ESI[0x2b] + (char)((ushort)uVar3 >> 8);
  *(uint *)(unaff_EDI + -0x3ccf5a7a) = CONCAT22((short)((uint)extraout_EDX >> 0x10),uVar4);
  unaff_ESI[2] = (char)uVar3;
  *extraout_ECX = *extraout_ECX << 6 | *extraout_ECX >> 2;
  uVar1 = in(uVar4);
  unaff_EDI[3] = uVar1;
  pcVar2 = (code *)swi(3);
  (*pcVar2)();
  return;
}


