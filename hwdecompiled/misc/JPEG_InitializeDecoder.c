/*
 * Function: JPEG_InitializeDecoder
 * Address: 004de910
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


void __cdecl JPEG_InitializeDecoder(int *param_1)

{
  int iVar1;
  int iVar2;
  int iVar3;
  int *piVar4;
  undefined1 *puVar5;
  undefined4 *puVar6;
  undefined4 *local_c;
  int local_8;
  
  piVar4 = param_1;
  iVar1 = param_1[0x66];
  if ((((param_1[0x5b] != 0) || (param_1[0x5c] != 0x3f)) || (param_1[0x5d] != 0)) ||
     (param_1[0x5e] != 0)) {
    *(undefined4 *)(*param_1 + 0x14) = 0x7a;
    (**(code **)(*param_1 + 4))(param_1,0xffffffff);
  }
  local_8 = 0;
  if (0 < param_1[0x49]) {
    local_c = (undefined4 *)(iVar1 + 0x14);
    param_1 = param_1 + 0x4a;
    do {
      iVar2 = *(int *)(*param_1 + 0x14);
      iVar3 = *(int *)(*param_1 + 0x18);
      Compression_BuildHuffmanTable(piVar4,'\x01',iVar2,(int *)(iVar1 + 0x28 + iVar2 * 4));
      Compression_BuildHuffmanTable(piVar4,'\0',iVar3,(int *)(iVar1 + 0x38 + iVar3 * 4));
      *local_c = 0;
      local_c = local_c + 1;
      local_8 = local_8 + 1;
      param_1 = param_1 + 1;
    } while (local_8 < piVar4[0x49]);
  }
  if (0 < piVar4[0x50]) {
    param_1 = piVar4 + 0x51;
    puVar5 = (undefined1 *)(iVar1 + 0x98);
    puVar6 = (undefined4 *)(iVar1 + 0x70);
    do {
      iVar2 = piVar4[*param_1 + 0x4a];
      puVar6[-10] = *(undefined4 *)(iVar1 + 0x28 + *(int *)(iVar2 + 0x14) * 4);
      *puVar6 = *(undefined4 *)(iVar1 + 0x38 + *(int *)(iVar2 + 0x18) * 4);
      if (*(char *)(iVar2 + 0x30) == '\0') {
        puVar5[10] = 0;
        *puVar5 = 0;
      }
      else {
        *puVar5 = 1;
        puVar5[10] = 1 < *(int *)(iVar2 + 0x24);
      }
      param_1 = param_1 + 1;
      puVar6 = puVar6 + 1;
      puVar5 = puVar5 + 1;
    } while ((int)(puVar5 + (-0x98 - iVar1)) < piVar4[0x50]);
  }
  *(undefined4 *)(iVar1 + 0x10) = 0;
  *(undefined4 *)(iVar1 + 0xc) = 0;
  *(undefined1 *)(iVar1 + 8) = 0;
  *(int *)(iVar1 + 0x24) = piVar4[0x3f];
  return;
}


