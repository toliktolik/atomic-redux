/*
 * Function: Image_Downsample2x2
 * Address: 004d96e0
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


void __cdecl Image_Downsample2x2(uint param_1,int param_2,undefined4 *param_3,int param_4)

{
  int iVar1;
  byte *pbVar2;
  byte *pbVar3;
  int iVar4;
  undefined1 *puVar5;
  int iVar6;
  int local_10;
  undefined4 *local_c;
  
  iVar1 = *(int *)(param_2 + 0x1c);
  Image_FillPixelBoundaries
            ((void *)(iVar1 * 0x10),(int)param_3,*(int *)(param_1 + 0xdc),*(int *)(param_1 + 0x1c));
  local_10 = 0;
  if (0 < *(int *)(param_2 + 0xc)) {
    local_c = param_3;
    do {
      puVar5 = *(undefined1 **)(param_4 + local_10 * 4);
      pbVar2 = (byte *)*local_c;
      pbVar3 = (byte *)local_c[1];
      param_1 = 1;
      for (iVar4 = iVar1 << 3; iVar4 != 0; iVar4 = iVar4 + -1) {
        iVar6 = *pbVar3 + param_1;
        param_1 = param_1 ^ 3;
        *puVar5 = (char)((int)((uint)*pbVar2 + iVar6 + (uint)pbVar3[1] + (uint)pbVar2[1]) >> 2);
        puVar5 = puVar5 + 1;
        pbVar2 = pbVar2 + 2;
        pbVar3 = pbVar3 + 2;
      }
      local_c = local_c + 2;
      local_10 = local_10 + 1;
    } while (local_10 < *(int *)(param_2 + 0xc));
  }
  return;
}


