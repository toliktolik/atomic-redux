/*
 * Function: Unwind@00516740
 * Address: 00516740
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


/* WARNING: Control flow encountered bad instruction data */
/* WARNING: Instruction at (ram,0x00516744) overlaps instruction at (ram,0x00516743)
    */
/* WARNING: Stack frame is not setup normally: Input value of stackpointer is not used */
/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void __fastcall Unwind_00516740(byte *param_1,undefined2 param_2)

{
  int *piVar1;
  undefined4 uVar2;
  uint uVar3;
  byte *pbVar5;
  char *pcVar6;
  undefined4 *in_EAX;
  byte *extraout_ECX;
  undefined2 uVar7;
  byte bVar10;
  int iVar8;
  byte *pbVar9;
  byte bVar11;
  byte bVar12;
  int unaff_EBX;
  undefined1 *puVar13;
  int *piVar14;
  undefined1 *puVar15;
  int *unaff_EBP;
  int iVar16;
  undefined4 *unaff_ESI;
  undefined4 *unaff_EDI;
  undefined2 in_CS;
  undefined2 in_SS;
  char in_AF;
  bool bVar17;
  undefined8 uVar18;
  uint uVar4;
  
  out(param_2,(char)in_EAX);
  out(0x12,(char)in_EAX);
  *in_EAX = param_1;
  iVar16 = *unaff_EBP;
  piVar14 = unaff_EBP + 1;
  while( true ) {
    bVar11 = (byte)unaff_EBX;
    bVar12 = (byte)((uint)unaff_EBX >> 8) | *param_1;
    unaff_EBX = CONCAT22((short)((uint)unaff_EBX >> 0x10),CONCAT11(bVar12,bVar11));
    bVar17 = bVar12 == 0;
    *(undefined2 *)((int)piVar14 + -4) = in_CS;
    in_CS = 45000;
    puVar15 = (undefined1 *)((int)piVar14 + -8);
    *(undefined4 *)((int)piVar14 + -8) = 0x516750;
    uVar18 = func_0xa356fd09();
    pbVar9 = (byte *)((ulonglong)uVar18 >> 0x20);
    bVar12 = (byte)((ulonglong)uVar18 >> 0x28);
    if (bVar17) break;
    *pbVar9 = *pbVar9 | bVar12;
    puVar13 = puVar15 + -4;
    _DAT_e6f26b02 = (int)uVar18;
    *(undefined4 *)(puVar15 + -4) = 0x516716;
    uVar18 = func_0x323ebac9();
    uVar7 = (undefined2)((ulonglong)uVar18 >> 0x20);
    out(*unaff_ESI,uVar7);
    *(undefined2 *)(puVar13 + -4) = in_SS;
    uVar2 = in(uVar7);
    *unaff_EDI = uVar2;
    iVar8 = (int)((ulonglong)uVar18 >> 0x20) + 1;
    pcVar6 = (char *)((int)uVar18 - 1U ^ 8);
    *pcVar6 = *pcVar6 + (char)pcVar6;
    out((short)iVar8,_DAT_903738e0);
    in(0x4b);
    piVar14 = (int *)(puVar13 + -3);
    bVar10 = (byte)((uint)iVar8 >> 8);
    bVar12 = in_AF * -6 + 0x42;
    pbVar9 = (byte *)((CONCAT31(0xa9365b,bVar12 + (0x9f < bVar12 |
                                                  (bVar10 < (byte)extraout_ECX ||
                                                  (byte)(bVar10 - (byte)extraout_ECX) <
                                                  (unaff_ESI + 1 <
                                                  (undefined4 *)unaff_EDI[0x19a84e25])) |
                                                  in_AF * (bVar12 < 6)) * -0x60) & 0x8912e6ee) -
                     0x37);
    *pbVar9 = *pbVar9 | bVar11;
    param_1 = extraout_ECX;
    unaff_ESI = unaff_ESI + 1;
    unaff_EDI = unaff_EDI + 1;
  }
  *(int *)(unaff_EBX + -0x31) = *(int *)(unaff_EBX + -0x31) + iVar16;
  iVar8 = CONCAT31((int3)((ulonglong)uVar18 >> 8),(char)uVar18 + -0x23);
  *(int *)(puVar15 + -3) = iVar16;
  _DAT_de5bd56d = (undefined2)iVar8;
  pbVar5 = *(byte **)(puVar15 + -3);
  uVar3 = *(uint *)(pbVar9 + iVar16);
  uVar4 = *(uint *)(pbVar9 + iVar16);
  *(byte *)(iVar16 + -10) = *(byte *)(iVar16 + -10) ^ bVar12;
  bVar11 = *pbVar5;
  piVar1 = (int *)(iVar8 + (uint)CARRY4((uint)(puVar15 + 1),uVar3) + 0x21f44153);
  *piVar1 = *piVar1 << 1;
  in(CONCAT11(bVar12 ^ bVar11,(char)((ulonglong)uVar18 >> 0x20)));
  *(undefined4 *)(puVar15 + uVar4 + 1) = *(undefined4 *)(puVar15 + uVar4 + 1);
                    /* WARNING: Bad instruction - Truncating control flow here */
  halt_baddata();
}


