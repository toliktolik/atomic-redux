/*
 * Function: JPEG_UpsampleHorizontal
 * Address: 004dfff0
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


void __cdecl JPEG_UpsampleHorizontal(int param_1,int param_2,undefined4 *param_3,int *param_4)

{
  undefined1 uVar1;
  byte bVar2;
  int iVar3;
  int iVar4;
  uint uVar5;
  undefined4 *puVar6;
  uint uVar7;
  undefined1 *puVar8;
  undefined4 *puVar9;
  uint uVar10;
  undefined4 *puVar11;
  int local_c;
  
  iVar3 = *param_4;
  iVar4 = *(int *)(param_1 + 0x1a0) + *(int *)(param_2 + 4);
  bVar2 = *(byte *)(iVar4 + 0x8c);
  uVar10 = (uint)bVar2;
  uVar5 = (uint)*(byte *)(iVar4 + 0x96);
  local_c = 0;
  if (0 < *(int *)(param_1 + 0x114)) {
    param_4 = param_3;
    do {
      puVar8 = (undefined1 *)*param_4;
      puVar9 = *(undefined4 **)(iVar3 + local_c * 4);
      puVar6 = (undefined4 *)(*(int *)(param_1 + 0x5c) + (int)puVar9);
      while (puVar9 < puVar6) {
        uVar1 = *puVar8;
        puVar8 = puVar8 + 1;
        if (uVar10 != 0) {
          puVar11 = puVar9;
          for (uVar7 = (uint)(bVar2 >> 2); uVar7 != 0; uVar7 = uVar7 - 1) {
            *puVar11 = CONCAT22(CONCAT11(uVar1,uVar1),CONCAT11(uVar1,uVar1));
            puVar11 = puVar11 + 1;
          }
          for (uVar7 = uVar10 & 3; uVar7 != 0; uVar7 = uVar7 - 1) {
            *(undefined1 *)puVar11 = uVar1;
            puVar11 = (undefined4 *)((int)puVar11 + 1);
          }
          puVar9 = (undefined4 *)((int)puVar9 + uVar10);
        }
      }
      if (1 < uVar5) {
        Math_RoundUpToPowerOf2(iVar3,local_c,iVar3,local_c + 1,uVar5 - 1,*(uint *)(param_1 + 0x5c));
      }
      local_c = local_c + uVar5;
      param_4 = param_4 + 1;
    } while (local_c < *(int *)(param_1 + 0x114));
  }
  return;
}


