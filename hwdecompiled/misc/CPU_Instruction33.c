/*
 * Function: CPU_Instruction33
 * Address: 004c8b80
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


undefined4 __fastcall CPU_Instruction33(undefined4 param_1,byte *param_2,uint param_3,uint param_4)

{
  uint uVar1;
  bool bVar2;
  byte bVar3;
  undefined3 extraout_var;
  undefined4 extraout_ECX;
  undefined4 extraout_ECX_00;
  void *extraout_ECX_01;
  void *this;
  byte *extraout_EDX;
  byte *extraout_EDX_00;
  
  uVar1 = *(uint *)(param_3 + 0xb0);
  if (uVar1 < param_4) {
    do {
      CPU_Instruction26(*(undefined4 *)(param_3 + 0xac),param_2,param_3,
                        (byte *)*(undefined4 *)(param_3 + 0xac),*(uint *)(param_3 + 0xb0));
      param_4 = param_4 - uVar1;
      param_1 = extraout_ECX;
      param_2 = extraout_EDX;
    } while (uVar1 < param_4);
  }
  if (param_4 != 0) {
    CPU_Instruction26(param_1,*(byte **)(param_3 + 0xac),param_3,*(byte **)(param_3 + 0xac),param_4)
    ;
    param_1 = extraout_ECX_00;
    param_2 = extraout_EDX_00;
  }
  bVar2 = CPU_Instruction27(param_1,param_2,param_3);
  if (CONCAT31(extraout_var,bVar2) == 0) {
    return 0;
  }
  bVar3 = *(byte *)(param_3 + 0x11c) & 0x20;
  this = extraout_ECX_01;
  if (((bVar3 == 0) || (this = *(void **)(param_3 + 0x6c), ((uint)this & 0x200) != 0)) &&
     ((bVar3 != 0 || ((*(uint *)(param_3 + 0x6c) & 0x400) == 0)))) {
    CPU_Instruction22(this,param_3,(undefined4 *)"CRC error");
    return 1;
  }
  CPU_Instruction23(this,param_3,(undefined4 *)"CRC error");
  return 1;
}


