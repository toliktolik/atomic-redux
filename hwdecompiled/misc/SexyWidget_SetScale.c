/*
 * Function: SexyWidget_SetScale
 * Address: 00469b40
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


void __thiscall SexyWidget_SetScale(void *this,char param_1)

{
  uint uVar1;
  undefined4 uVar2;
  int *piVar3;
  int iVar4;
  int *piVar5;
  void *pvVar6;
  uint uVar7;
  undefined4 *puVar8;
  int extraout_ECX;
  uint uVar9;
  int extraout_ECX_00;
  int extraout_ECX_01;
  uint extraout_EDX;
  uint extraout_EDX_00;
  uint extraout_EDX_01;
  uint extraout_EDX_02;
  uint extraout_EDX_03;
  uint extraout_EDX_04;
  _String_base *p_Var10;
  int iVar11;
  int iVar12;
  _String_base *p_Var13;
  bool bVar14;
  bool bVar15;
  undefined8 uVar16;
  uint unaff_retaddr;
  _String_base local_5c [4];
  uint local_58;
  undefined1 local_50 [4];
  int local_4c;
  int local_48;
  uint local_44;
  undefined1 local_40 [4];
  int local_3c;
  undefined4 *local_38;
  int local_34;
  int *local_30;
  int *local_2c;
  void *local_28;
  _String_base *local_24;
  int local_20;
  _String_base *local_1c;
  int local_18;
  uint local_14;
  void *pvStack_10;
  undefined4 uStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  uStack_c = 0x5145eb;
  pvStack_10 = ExceptionList;
  local_14 = DAT_00569f5c ^ unaff_retaddr;
  p_Var10 = (_String_base *)0x0;
  if (*(int *)((int)this + 0x70) == 0) {
    local_18 = 0;
  }
  else {
    local_18 = (*(int *)((int)this + 0x74) - *(int *)((int)this + 0x70)) / 0x1c;
  }
  iVar12 = local_18;
  ExceptionList = &pvStack_10;
  local_30 = (int *)this;
  pvVar6 = operator_new(local_18 * 4);
  local_28 = pvVar6;
  local_2c = (int *)operator_new(iVar12 * 0x1c + 4);
  local_8 = 0;
  if (local_2c != (int *)0x0) {
    p_Var10 = (_String_base *)(local_2c + 1);
    *local_2c = iVar12;
    ExceptionHandler_VectorConstructorIterator
              (p_Var10,0x1c,iVar12,String_Initialize,String_Destructor);
  }
  iVar11 = 0;
  local_24 = p_Var10;
  if (0 < iVar12) {
    do {
      local_8 = 0xffffffff;
      *(int *)((int)pvVar6 + iVar11 * 4) = iVar11;
      uVar16 = (**(code **)(*local_30 + 0xc0))(local_5c,iVar11);
      local_8 = 1;
      PowerUp_ProcessThunderstrike
                (p_Var10,(uint)((ulonglong)uVar16 >> 0x20),(_String_base *)uVar16,0,0xffffffff);
      local_8 = 0xffffffff;
      if (0xf < local_44) {
                    /* WARNING: Subroutine does not return */
        System_ShutdownHandler(extraout_ECX,extraout_EDX);
      }
      iVar11 = iVar11 + 1;
      p_Var10 = p_Var10 + 0x1c;
      local_44 = 0xf;
      local_48 = 0;
      local_58 = local_58 & 0xffffff00;
      iVar12 = local_18;
    } while (iVar11 < local_18);
  }
  if (1 < iVar12) {
    local_20 = iVar12 + -1;
    local_2c = (int *)(iVar12 + -1);
    do {
      iVar12 = 0;
      if (0 < local_20) {
        local_1c = local_24 + 0x20;
        do {
          local_8 = 0xffffffff;
          p_Var10 = local_1c;
          if (0xf < *(uint *)(local_1c + 0x14)) {
            p_Var10 = *(_String_base **)local_1c;
          }
          uVar1 = *(uint *)(local_1c + -0xc);
          if (uVar1 == 0) {
LAB_00469cc1:
            if (uVar1 < *(uint *)(local_1c + 0x10)) {
              uVar7 = 0xffffffff;
            }
            else {
              uVar7 = (uint)(uVar1 != *(uint *)(local_1c + 0x10));
            }
          }
          else {
            uVar9 = *(uint *)(local_1c + 0x10);
            if (uVar1 < *(uint *)(local_1c + 0x10)) {
              uVar9 = uVar1;
            }
            if (*(uint *)(local_1c + -8) < 0x10) {
              p_Var13 = local_1c + -0x1c;
            }
            else {
              p_Var13 = *(_String_base **)(local_1c + -0x1c);
            }
            bVar14 = false;
            uVar7 = 0;
            bVar15 = true;
            do {
              if (uVar9 == 0) break;
              uVar9 = uVar9 - 1;
              bVar14 = (byte)*p_Var13 < (byte)*p_Var10;
              bVar15 = *p_Var13 == *p_Var10;
              p_Var13 = p_Var13 + 1;
              p_Var10 = p_Var10 + 1;
            } while (bVar15);
            if (!bVar15) {
              uVar7 = (1 - (uint)bVar14) - (uint)(bVar14 != 0);
            }
            pvVar6 = local_28;
            if (uVar7 == 0) goto LAB_00469cc1;
          }
          if (param_1 == '\0') {
            if ((int)uVar7 < 0) goto LAB_00469cee;
          }
          else if (0 < (int)uVar7) {
LAB_00469cee:
            uVar2 = *(undefined4 *)((int)pvVar6 + iVar12 * 4);
            uVar1 = *(uint *)((int)pvVar6 + iVar12 * 4 + 4);
            *(uint *)((int)pvVar6 + iVar12 * 4) = uVar1;
            *(undefined4 *)((int)pvVar6 + iVar12 * 4 + 4) = uVar2;
            p_Var10 = local_1c + -0x20;
            local_44 = 0xf;
            local_48 = 0;
            local_58 = local_58 & 0xffffff00;
            PowerUp_ProcessThunderstrike(local_5c,uVar1,p_Var10,0,0xffffffff);
            p_Var13 = local_1c + -4;
            local_8 = 2;
            PowerUp_ProcessThunderstrike(p_Var10,extraout_EDX_00,p_Var13,0,0xffffffff);
            PowerUp_ProcessThunderstrike(p_Var13,extraout_EDX_01,local_5c,0,0xffffffff);
            local_8 = 0xffffffff;
            if (0xf < local_44) {
                    /* WARNING: Subroutine does not return */
              System_ShutdownHandler(local_58,extraout_EDX_02);
            }
            local_58 = local_58 & 0xffffff00;
            pvVar6 = local_28;
          }
          iVar12 = iVar12 + 1;
          local_1c = local_1c + 0x1c;
        } while (iVar12 < local_20);
      }
      local_20 = local_20 + -1;
      local_2c = (int *)((int)local_2c + -1);
    } while (local_2c != (int *)0x0);
  }
  piVar5 = (int *)local_30[0x2b];
  _param_1 = local_30;
  while (piVar3 = piVar5, piVar3 != (int *)0x0) {
    _param_1 = piVar3;
    piVar5 = (int *)piVar3[0x2b];
  }
  do {
    local_4c = 0;
    local_48 = 0;
    local_44 = 0;
    iVar12 = 0;
    local_3c = 0;
    local_38 = (undefined4 *)0x0;
    local_34 = 0;
    iVar11 = 0;
    local_8 = 4;
    if (0 < local_18) {
      do {
        Craft_ProcessCruise(local_50,*(int *)((int)pvVar6 + iVar11 * 4) * 0x1c + _param_1[0x1c]);
        puVar8 = (undefined4 *)(*(int *)((int)pvVar6 + iVar11 * 4) * 0x10 + _param_1[0x20]);
        if ((iVar12 == 0) || ((uint)(local_34 - iVar12 >> 4) <= (uint)((int)local_38 - iVar12 >> 4))
           ) {
          UI_ValidateChildHitTest(local_40,local_38,1,puVar8);
          iVar12 = local_3c;
        }
        else {
          UI_ProcessWidgetDrawing(local_38,1,puVar8);
          local_38 = local_38 + 4;
        }
        iVar11 = iVar11 + 1;
      } while (iVar11 < local_18);
    }
    Craft_ProcessEnemyTank(_param_1 + 0x1b,(int)local_50);
    UI_ProcessChildConstraints(_param_1 + 0x1f,(int)local_40);
    (**(code **)(*_param_1 + 0xbc))();
    iVar11 = local_48;
    _param_1 = (int *)_param_1[0x2c];
    if (iVar12 != 0) {
                    /* WARNING: Subroutine does not return */
      System_ShutdownHandler(extraout_ECX_00,extraout_EDX_03);
    }
    local_3c = 0;
    local_38 = (undefined4 *)0x0;
    local_34 = 0;
    local_8 = 0xffffffff;
    iVar12 = extraout_ECX_00;
    uVar1 = extraout_EDX_03;
    iVar4 = local_4c;
    if (local_4c != 0) {
      for (; iVar4 != iVar11; iVar4 = iVar4 + 0x1c) {
        String_Destructor(iVar4,uVar1);
        iVar12 = extraout_ECX_01;
        uVar1 = extraout_EDX_04;
      }
                    /* WARNING: Subroutine does not return */
      System_ShutdownHandler(iVar12,uVar1);
    }
    local_4c = 0;
    local_48 = 0;
    local_44 = 0;
  } while (_param_1 != (int *)0x0);
                    /* WARNING: Subroutine does not return */
  System_ShutdownHandler(extraout_ECX_00,extraout_EDX_03);
}


