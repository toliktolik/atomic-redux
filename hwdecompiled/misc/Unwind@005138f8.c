/*
 * Function: Unwind@005138f8
 * Address: 005138f8
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


/* WARNING: Control flow encountered bad instruction data */
/* WARNING: Removing unreachable block (ram,0x00513902) */

undefined4 __fastcall Unwind_005138f8(int param_1,undefined4 param_2)

{
  byte *pbVar1;
  int *piVar2;
  undefined1 uVar3;
  byte bVar4;
  float10 fVar5;
  undefined1 uVar6;
  undefined4 in_EAX;
  undefined4 uVar7;
  int iVar8;
  byte bVar9;
  short *psVar10;
  int unaff_EBP;
  int unaff_ESI;
  undefined1 *unaff_EDI;
  bool in_OF;
  unkbyte10 in_ST0;
  
  if (!in_OF) {
    *unaff_EDI = (char)in_EAX;
    uVar7 = in(0x46);
    return uVar7;
  }
  uVar6 = in((short)param_2);
  LOCK();
  uVar3 = *(undefined1 *)(unaff_EBP + -0x78);
  *(undefined1 *)(unaff_EBP + -0x78) = (char)param_2;
  psVar10 = (short *)CONCAT31((int3)((uint)param_2 >> 8),uVar3);
  UNLOCK();
  fVar5 = (float10)fcos(in_ST0);
  fsin(in_ST0);
  *psVar10 = (short)ROUND(fVar5);
  iVar8 = CONCAT22((ushort)((short)((ushort)CONCAT31((int3)((uint)in_EAX >> 8),uVar6) | 0x95) >> 0xf
                           ) >> 1,0x7a0a);
  pbVar1 = (byte *)(param_1 + -0x4b362f33);
  bVar4 = *pbVar1;
  bVar9 = (byte)((uint)param_1 >> 8);
  *pbVar1 = *pbVar1 + bVar9;
  piVar2 = (int *)(iVar8 + 0x5ccdd29a);
  *piVar2 = (*piVar2 - iVar8) - (uint)CARRY1(bVar4,bVar9);
  *(int *)(unaff_ESI + 3) = *(int *)(unaff_ESI + 3) + (int)psVar10;
                    /* WARNING: Bad instruction - Truncating control flow here */
  halt_baddata();
}


