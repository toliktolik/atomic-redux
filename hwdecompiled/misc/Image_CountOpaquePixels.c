/*
 * Function: Image_CountOpaquePixels
 * Address: 0046b040
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


int __thiscall Image_CountOpaquePixels(void *this,int param_1,int param_2,int param_3,int param_4)

{
  int iVar1;
  uint uVar2;
  int iVar3;
  uint *puVar4;
  uint *puVar5;
  uint uVar6;
  int local_8;
  
  iVar1 = *(int *)((int)this + 8);
  puVar4 = (uint *)(*(int *)((int)this + 4) + (iVar1 * param_4 + param_3) * 4);
  local_8 = 0;
  if (0 < param_2) {
    param_3 = param_2;
    do {
      uVar6 = 0;
      puVar5 = puVar4;
      if (0 < param_1) {
        do {
          uVar2 = *puVar5;
          puVar5 = puVar5 + 1;
          iVar3 = Color_CalculateDistance(uVar2,-(uint)((uVar6 & 1) != 0) & 0xffffff);
          if (0x300 < iVar3) {
            local_8 = local_8 + 1;
          }
          uVar6 = uVar6 + 1;
        } while ((int)uVar6 < param_1);
      }
      puVar4 = puVar4 + iVar1;
      param_3 = param_3 + -1;
    } while (param_3 != 0);
    return local_8;
  }
  return 0;
}


