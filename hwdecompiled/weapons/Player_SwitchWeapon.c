/*
 * Function: Player_SwitchWeapon
 * Address: 004977d0
 * Category: weapons
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


uint __fastcall Player_SwitchWeapon(uint *param_1)

{
  int iVar1;
  uint uVar2;
  
  if (0x26f < (int)param_1[0x270]) {
    iVar1 = 0;
    do {
      uVar2 = (param_1[iVar1 + 1] ^ param_1[iVar1]) & 0x7fffffff ^ param_1[iVar1];
      param_1[iVar1] =
           *(uint *)(&DAT_005676e0 + (uVar2 & 1) * 4) ^ uVar2 >> 1 ^ param_1[iVar1 + 0x18d];
      iVar1 = iVar1 + 1;
    } while (iVar1 < 0xe3);
    for (; iVar1 < 0x26f; iVar1 = iVar1 + 1) {
      uVar2 = (param_1[iVar1 + 1] ^ param_1[iVar1]) & 0x7fffffff ^ param_1[iVar1];
      param_1[iVar1] =
           *(uint *)(&DAT_005676e0 + (uVar2 & 1) * 4) ^ uVar2 >> 1 ^ param_1[iVar1 + -0xe3];
    }
    uVar2 = (param_1[0x26f] ^ *param_1) & 0x7fffffff ^ param_1[0x26f];
    param_1[0x26f] = *(uint *)(&DAT_005676e0 + (uVar2 & 1) * 4) ^ param_1[0x18c] ^ uVar2 >> 1;
    param_1[0x270] = 0;
  }
  uVar2 = param_1[param_1[0x270]];
  param_1[0x270] = param_1[0x270] + 1;
  uVar2 = uVar2 ^ uVar2 >> 0xb;
  uVar2 = uVar2 ^ (uVar2 & 0xff3a58ad) << 7;
  uVar2 = uVar2 ^ (uVar2 & 0xffffdf8c) << 0xf;
  return (uVar2 >> 0x12 ^ uVar2) & 0x7fffffff;
}


