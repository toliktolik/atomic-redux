/*
 * Function: Weapon_ProcessHomingMissiles
 * Address: 0042eb60
 * Category: weapons
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void __thiscall Weapon_ProcessHomingMissiles(void *this,void *param_1)

{
  undefined4 uVar1;
  undefined4 *puVar2;
  int iVar3;
  void *this_00;
  int iVar4;
  int iVar5;
  ulonglong uVar6;
  char cVar7;
  int iVar8;
  int iVar9;
  char cVar10;
  undefined1 local_1c [16];
  double local_c;
  
  if (*(int *)((int)this + 100) < 0x100) {
    DrawSprite(*(void **)(*(int *)((int)this + 0x7c) + 0x688),param_1,0,0,'\0',0,0,'\0');
    local_c = (double)*(int *)(*(int *)((int)this + 0x7c) + 0x48c) /
              (double)*(int *)(*(int *)((int)this + 0x7c) + 0x488);
    iVar4 = *(int *)((int)this + 100) / 2;
    iVar5 = iVar4 + 0x1a6;
    SexyWidget_SetDrawMode(param_1,1);
    SexyWidget_SetColorizeFlag2(param_1,1);
    fcos((float10)(*(int *)((int)this + 0x4c) % 0x622) * (float10)_DAT_0052c738);
    uVar6 = Math_FloatToUInt64();
    uVar1 = (undefined4)uVar6;
    puVar2 = (undefined4 *)SexyWidget_ApplyMatrix(local_1c,uVar1,uVar1,uVar1);
    SexyWidget_SetRectangle(param_1,puVar2);
    DrawSprite(*(void **)(*(int *)((int)this + 0x7c) + 0x6a0),param_1,0x140,iVar5,'\x01',0,0,'\0');
    SexyWidget_SetColorizeFlag2(param_1,0);
    SexyWidget_SetDrawMode(param_1,0);
    if (*(int *)((int)this + 0x78) < 0x130) {
      DrawSprite(*(void **)(*(int *)((int)this + 0x7c) + 0x694),param_1,0x140,iVar5,'\x01',0,0,'\0')
      ;
      *(undefined4 *)((int)param_1 + 0x10) = 0xa8;
      cVar10 = '\0';
      iVar9 = 0;
      *(undefined4 *)((int)param_1 + 0x14) = 0;
      iVar8 = 0;
      *(undefined4 *)((int)param_1 + 0x18) = 0x130;
      cVar7 = '\x01';
      *(undefined4 *)((int)param_1 + 0x1c) = 0x1e0;
      iVar4 = iVar4 + 0x1a7;
      uVar6 = Math_FloatToUInt64();
      DrawSprite(*(void **)(*(int *)((int)this + 0x7c) + 0x69c),param_1,(int)uVar6,iVar4,cVar7,iVar8
                 ,iVar9,cVar10);
    }
    cVar10 = '\0';
    iVar9 = 0;
    iVar8 = 0;
    cVar7 = '\x01';
    iVar4 = iVar5;
    if (*(int *)((int)this + 0x78) < 1) {
      cVar7 = '\x01';
      cVar10 = '\0';
      uVar6 = Math_FloatToUInt64();
      iVar3 = (int)uVar6;
      this_00 = *(void **)(*(int *)((int)this + 0x7c) + 0x698);
    }
    else {
      *(undefined4 *)((int)param_1 + 0x10) = 0xa8;
      *(undefined4 *)((int)param_1 + 0x14) = 0;
      *(undefined4 *)((int)param_1 + 0x18) = 0x130;
      *(undefined4 *)((int)param_1 + 0x1c) = 0x1e0;
      this_00 = *(void **)(*(int *)((int)this + 0x7c) + 0x698);
      iVar3 = *(int *)((int)this + 0x78) + 0x10;
    }
    DrawSprite(this_00,param_1,iVar3,iVar4,cVar7,iVar8,iVar9,cVar10);
    *(undefined4 *)((int)param_1 + 0x10) = 0;
    *(undefined4 *)((int)param_1 + 0x14) = 0;
    *(undefined4 *)((int)param_1 + 0x18) = 0x280;
    *(undefined4 *)((int)param_1 + 0x1c) = 0x1e0;
    DrawSprite(*(void **)(*(int *)((int)this + 0x7c) + 0x690),param_1,0x140,iVar5,'\x01',0,0,'\0');
    if (0 < *(int *)((int)this + 100)) {
      puVar2 = (undefined4 *)CreateColor(local_1c,0xff,0xff,0xff,*(int *)((int)this + 100));
      SexyWidget_SetRectangle(param_1,puVar2);
      Graphics_FillRect(param_1,0,0,0x280,0x1e0);
    }
  }
  if (_DAT_0052a0c0 < *(double *)((int)this + 0x68)) {
    SexyWidget_SetColorizeFlag2(param_1,1);
    fsin((float10)*(double *)((int)this + 0x68) * (float10)_DAT_0052a0e8);
    uVar6 = Math_FloatToUInt64();
    iVar4 = (int)uVar6;
    if (0xff < iVar4) {
      iVar4 = 0xff;
    }
    puVar2 = (undefined4 *)CreateColor(local_1c,0xff,0xff,0xff,iVar4);
    SexyWidget_SetRectangle(param_1,puVar2);
    DrawSprite(*(void **)(*(int *)((int)this + 0x7c) + 0x68c),param_1,0x212,0x104,'\x01',0,0,'\0');
    fsin((float10)*(double *)((int)this + 0x68));
    uVar6 = Math_FloatToUInt64();
    uVar1 = (undefined4)uVar6;
    puVar2 = (undefined4 *)SexyWidget_ApplyMatrix(local_1c,uVar1,uVar1,uVar1);
    SexyWidget_SetRectangle(param_1,puVar2);
    SexyWidget_SetDrawMode(param_1,1);
    DrawSprite(*(void **)(*(int *)((int)this + 0x7c) + 0x68c),param_1,0x212,0x104,'\x01',1,0,'\0');
    SexyWidget_SetDrawMode(param_1,0);
    SexyWidget_SetColorizeFlag2(param_1,0);
  }
  return;
}


