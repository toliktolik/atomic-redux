/*
 * Function: Weapon_ProcessLaserCannon
 * Address: 0042ee70
 * Category: weapons
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


undefined4 * __thiscall Weapon_ProcessLaserCannon(void *this,undefined4 param_1)

{
  int iVar1;
  char *pcVar2;
  void *pvVar3;
  int *piVar4;
  undefined4 *puVar5;
  undefined4 uVar6;
  char *pcVar7;
  undefined1 local_24 [16];
  void *local_14;
  void *local_10;
  undefined *puStack_c;
  int local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &DAT_00511c6e;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  local_14 = this;
  SexyWidget_Constructor((undefined4 *)this);
  puVar5 = (undefined4 *)((int)this + 0x5c);
  *(undefined ***)((int)this + 0x58) = &PTR_EmptyFunction_NoOp_0053127c;
  *puVar5 = &PTR_EmptyFunction_NoOp_0052cf68;
  local_8 = 0;
  *(undefined ***)this = &PTR_Weapon_ProcessDefenseOrb_0052fc30;
  *(undefined ***)((int)this + 0x58) = &PTR_EmptyFunction_NoOp_0052fc10;
  *puVar5 = &PTR_PowerUp_DeliverySystem_ProcessAllyChopper_0052fc08;
  *(undefined4 *)((int)this + 0x7c) = param_1;
  pvVar3 = operator_new(0xbc);
  local_8._0_1_ = 1;
  if (pvVar3 == (void *)0x0) {
    piVar4 = (int *)0x0;
  }
  else {
    piVar4 = SexyWidget_ProcessLayout(pvVar3,(int *)0x0,(int)puVar5);
  }
  local_8._0_1_ = 0;
  *(int **)((int)this + 0x84) = piVar4;
  pvVar3 = operator_new(0x118);
  local_8._0_1_ = 2;
  if (pvVar3 == (void *)0x0) {
    puVar5 = (undefined4 *)0x0;
  }
  else {
    puVar5 = SexyWidget_ProcessTiming(pvVar3,0,(int)this + 0x58);
  }
  local_8 = (uint)local_8._1_3_ << 8;
  *(undefined4 **)((int)this + 0x80) = puVar5;
  pcVar2 = "CLICK HERE TO PLAY";
  do {
    pcVar7 = pcVar2;
    pcVar2 = pcVar7 + 1;
  } while (*pcVar7 != '\0');
  String_Assign(puVar5 + 0x17,(_String_base *)0x52fd08,(uint)(pcVar7 + -0x52fd08));
  iVar1 = **(int **)((int)this + 0x80);
  uVar6 = (**(code **)(**(int **)(*(int *)((int)this + 0x7c) + 0x928) + 0x2c))();
  (**(code **)(iVar1 + 0xc0))(uVar6);
  puVar5 = (undefined4 *)SexyWidget_ApplyMatrix(local_24,0xff,0xc0,0);
  iVar1 = *(int *)((int)this + 0x80);
  *(undefined4 *)(iVar1 + 0xf0) = *puVar5;
  *(undefined4 *)(iVar1 + 0xf4) = puVar5[1];
  *(undefined4 *)(iVar1 + 0xf8) = puVar5[2];
  *(undefined4 *)(iVar1 + 0xfc) = puVar5[3];
  puVar5 = (undefined4 *)SexyWidget_ApplyMatrix(local_24,0xff,0xff,0xff);
  iVar1 = *(int *)((int)this + 0x80);
  *(undefined4 *)(iVar1 + 0x100) = *puVar5;
  *(undefined4 *)(iVar1 + 0x104) = puVar5[1];
  *(undefined4 *)(iVar1 + 0x108) = puVar5[2];
  *(undefined4 *)(iVar1 + 0x10c) = puVar5[3];
  (**(code **)(**(int **)((int)this + 0x80) + 0x10))(0);
  *(undefined4 *)(*(int *)((int)this + 0x80) + 0x110) = 0;
  (**(code **)(**(int **)(*(int *)((int)this + 0x7c) + 0x330) + 8))(5,0x4f,1);
  *(undefined4 *)((int)this + 0x60) = 0;
  *(undefined4 *)((int)this + 100) = 0x100;
  *(undefined4 *)((int)this + 0x68) = 0;
  *(undefined4 *)((int)this + 0x6c) = 0;
  *(undefined4 *)((int)this + 0x78) = 0;
  PowerUp_ProcessMegaLaser(this,0,0,0x280,0x1e0);
  *(undefined1 *)((int)this + 0x1a) = 0;
  ExceptionList = local_10;
  return (undefined4 *)this;
}


