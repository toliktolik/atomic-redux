/*
 * Function: Boss_WormCreateProjectileSpread
 * Address: 00435f50
 * Category: weapons
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void __fastcall Boss_WormCreateProjectileSpread(int param_1)

{
  double dVar1;
  undefined4 uVar2;
  float10 fVar3;
  double *pdVar4;
  undefined4 *puVar5;
  int iVar6;
  float10 fVar7;
  float10 fVar8;
  float10 fVar9;
  ulonglong uVar10;
  int local_8;
  
  Boss_ProcessWormMechworm(param_1);
  Boss_ProcessRobotXBot(param_1);
  uVar10 = Math_FloatToUInt64();
  iVar6 = (int)uVar10;
  uVar10 = Math_FloatToUInt64();
  Game_DisplayScoreChange
            (*(void **)(param_1 + 0x4c),*(int *)(*(int *)(param_1 + 0x50) + 0x11b4),(int)uVar10,
             iVar6);
  local_8 = 10;
  do {
    pdVar4 = (double *)operator_new(0x40);
    iVar6 = *(int *)(param_1 + 0x4c);
    puVar5 = (undefined4 *)operator_new(0xc);
    uVar2 = *(undefined4 *)(iVar6 + 0x1ec);
    puVar5[1] = 0;
    puVar5[2] = uVar2;
    *(undefined4 **)(*(int *)(iVar6 + 0x1ec) + 4) = puVar5;
    *puVar5 = pdVar4;
    *(undefined4 **)(iVar6 + 0x1ec) = puVar5;
    *(int *)(iVar6 + 0x1f0) = *(int *)(iVar6 + 0x1f0) + 1;
    iVar6 = Collision_HandleEnemyHit();
    dVar1 = (double)(iVar6 % 0xc45) * _DAT_0052d860;
    iVar6 = Collision_HandleEnemyHit();
    fVar7 = (float10)(iVar6 % 0xf) * (float10)_DAT_0052c5a0 + (float10)_DAT_0052a0f0;
    fVar8 = (float10)fcos((float10)dVar1);
    *pdVar4 = (double)((float10)_DAT_0052c718 * fVar8 + (float10)*(double *)(param_1 + 8));
    fVar9 = (float10)fsin((float10)dVar1);
    fVar3 = (float10)_DAT_00530580;
    dVar1 = *(double *)(param_1 + 0x10);
    *(undefined4 *)(pdVar4 + 4) = 0x9999999a;
    *(undefined4 *)((int)pdVar4 + 0x24) = 0x3fa99999;
    *(undefined1 *)(pdVar4 + 6) = 1;
    pdVar4[1] = (double)((float10)dVar1 - fVar9 * fVar3);
    pdVar4[2] = (double)(fVar8 * fVar7);
    pdVar4[3] = (double)-((float10)(double)fVar9 * fVar7);
    uVar2 = *(undefined4 *)(*(int *)(*(int *)(param_1 + 0x4c) + 0x5c) + 0x71c);
    *(undefined4 *)(pdVar4 + 7) = 0;
    *(undefined4 *)((int)pdVar4 + 0x3c) = 0;
    *(undefined4 *)((int)pdVar4 + 0x34) = uVar2;
    local_8 = local_8 + -1;
  } while (local_8 != 0);
  return;
}


