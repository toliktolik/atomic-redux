/*
 * Function: Particles_UpdateFire
 * Address: 0041a880
 * Category: weapons
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


void __fastcall Particles_UpdateFire(void *param_1)

{
  double dVar1;
  undefined4 uVar2;
  undefined4 *puVar3;
  ulonglong uVar4;
  int iVar5;
  
  if (*(int *)((int)param_1 + 0x80) == 0) {
    *(undefined4 *)((int)param_1 + 0x80) = 400;
    *(int *)((int)param_1 + 0x1c8) = *(int *)((int)param_1 + 0x1c8) + 1;
    uVar4 = Math_FloatToUInt64();
    *(int *)((int)param_1 + 0x1cc) = (int)uVar4;
    dVar1 = (double)(*(int *)((int)param_1 + 0x98) + -5);
    SexyAppFramework_HandleActivation
              (param_1,*(int *)((int)param_1 + 0x90),*(int *)((int)param_1 + 0x94),SUB84(dVar1,0),
               (int)((ulonglong)dVar1 >> 0x20),300,200,0,0,0,0,0.0);
    ParticleEffects_CreateParticles
              ((int)param_1 + 0x2e8,*(int *)(*(int *)((int)param_1 + 0x5c) + 0x6f8),
               *(int *)((int)param_1 + 0x90),*(int *)((int)param_1 + 0x94),
               SUB84((double)*(int *)((int)param_1 + 0x98),0),
               (int)((ulonglong)(double)*(int *)((int)param_1 + 0x98) >> 0x20),0.0,-2.0,0x3c,3.0,
               -0x147ae148,0x3f9eb851,0,0x40080000,200,1,-1);
    iVar5 = **(int **)((int)param_1 + 0x5c);
    uVar4 = Math_FloatToUInt64();
    (**(code **)(iVar5 + 0xb8))(10,(int)uVar4);
    iVar5 = 1;
    uVar4 = Math_FloatToUInt64();
    Enemy_SpawnWaves(param_1,(int)uVar4,iVar5);
    *(undefined4 *)((int)param_1 + 0x90) = 0;
    *(undefined4 *)((int)param_1 + 0x94) = 0xc077c000;
    *(undefined4 *)((int)param_1 + 0x98) = 0x1bb;
    *(undefined4 *)((int)param_1 + 0xa0) = 0;
    *(undefined4 *)((int)param_1 + 0xa4) = 0;
    *(undefined4 *)((int)param_1 + 0x118) = 0;
    *(undefined4 *)((int)param_1 + 0x11c) = 0;
    *(undefined4 *)((int)param_1 + 0x120) = 0;
    *(undefined4 *)((int)param_1 + 0x124) = 0;
    *(undefined4 *)((int)param_1 + 300) = 0;
    *(undefined4 *)((int)param_1 + 0x1d0) = 200;
    if (*(int **)((int)param_1 + 0x310) != (int *)0x0) {
      (**(code **)(**(int **)((int)param_1 + 0x310) + 4))();
    }
    *(undefined4 *)((int)param_1 + 0x310) = 0;
    puVar3 = (undefined4 *)((int)param_1 + 0xac);
    for (iVar5 = 6; iVar5 != 0; iVar5 = iVar5 + -1) {
      *puVar3 = 0;
      puVar3 = puVar3 + 1;
    }
    *(undefined4 *)(*(int *)((int)param_1 + 0x5c) + 0x968) = 0;
    *(undefined4 *)(*(int *)((int)param_1 + 0x5c) + 0x96c) = 1;
    *(undefined4 *)((int)param_1 + 0x1a8) = 0;
    LinkedList_ClearWithEmptyFunction((int *)((int)param_1 + 0x274));
    LinkedList_ClearAllNodes((int *)((int)param_1 + 0x2b4));
    if (*(int *)(*(int *)((int)param_1 + 0x5c) + 0x964) < 1) {
      (**(code **)(**(int **)(*(int *)((int)param_1 + 0x5c) + 0x330) + 0x24))
                (1,0xd2f1a9fc,0x3f70624d);
      (**(code **)(**(int **)(*(int *)((int)param_1 + 0x5c) + 0x330) + 0x1c))
                (5,0x4f,0xd2f1a9fc,0x3f60624d,0);
      uVar2 = HighScore_InsertEntry
                        (*(void **)((int)param_1 + 0x5c),*(char *)((int)param_1 + 0x327),'\0');
      *(undefined4 *)((int)param_1 + 0x344) = uVar2;
    }
  }
  return;
}


