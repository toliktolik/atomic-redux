/*
 * Function: Projectile_CreateCircularPattern
 * Address: 00449fa0
 * Category: weapons
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void __fastcall Projectile_CreateCircularPattern(int param_1)

{
  int iVar1;
  undefined4 uVar2;
  undefined4 *puVar3;
  undefined4 *puVar4;
  float10 fVar5;
  float10 fVar6;
  double local_c;
  
  local_c = 1.5708;
  do {
    puVar3 = (undefined4 *)operator_new(0x40);
    iVar1 = *(int *)(param_1 + 0x58);
    puVar4 = (undefined4 *)operator_new(0xc);
    fVar5 = (float10)local_c;
    fVar6 = (float10)fcos(fVar5);
    puVar4[2] = *(undefined4 *)(iVar1 + 0x1ec);
    puVar4[1] = 0;
    *(undefined4 **)(*(int *)(iVar1 + 0x1ec) + 4) = puVar4;
    *puVar4 = puVar3;
    *(undefined4 **)(iVar1 + 0x1ec) = puVar4;
    *(int *)(iVar1 + 0x1f0) = *(int *)(iVar1 + 0x1f0) + 1;
    *puVar3 = *(undefined4 *)(param_1 + 0x10);
    puVar3[1] = *(undefined4 *)(param_1 + 0x14);
    puVar3[2] = *(undefined4 *)(param_1 + 0x18);
    puVar3[3] = *(undefined4 *)(param_1 + 0x1c);
    puVar3[8] = 0x9999999a;
    puVar3[9] = 0x3fa99999;
    *(undefined1 *)(puVar3 + 0xc) = 1;
    *(double *)(puVar3 + 4) = (double)(fVar6 * (float10)_DAT_0052c560);
    fVar6 = (float10)fsin(fVar5);
    *(double *)(puVar3 + 6) = (double)(fVar6 * (float10)_DAT_00530850);
    uVar2 = *(undefined4 *)(*(int *)(*(int *)(param_1 + 0x58) + 0x5c) + 0x71c);
    puVar3[0xe] = 0;
    puVar3[0xd] = uVar2;
    puVar3[0xf] = 0;
    local_c = (double)((float10)_DAT_00531228 / (float10)*(int *)(param_1 + 0x68) + fVar5);
  } while (local_c < _DAT_00531220 != (NAN(local_c) || NAN(_DAT_00531220)));
  return;
}


