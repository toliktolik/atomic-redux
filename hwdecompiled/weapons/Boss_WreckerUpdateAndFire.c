/*
 * Function: Boss_WreckerUpdateAndFire
 * Address: 00434e10
 * Category: weapons
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void __fastcall Boss_WreckerUpdateAndFire(int param_1)

{
  bool bVar1;
  int iVar2;
  float10 fVar3;
  ulonglong uVar4;
  double dVar5;
  undefined4 uVar6;
  undefined4 uVar7;
  
  Boss_ProcessWreckerWarWrecker(param_1);
  if (0 < *(int *)(param_1 + 0x70)) {
    *(int *)(param_1 + 0x70) = *(int *)(param_1 + 0x70) + -1;
  }
  dVar5 = *(double *)(param_1 + 0x28) + _DAT_00530268;
  bVar1 = _DAT_0052c628 <= dVar5;
  *(double *)(param_1 + 0x28) = dVar5;
  if (bVar1) {
    *(double *)(param_1 + 0x28) = dVar5 - _DAT_0052c628;
  }
  if (*(int *)(param_1 + 0x74) != 0) {
    *(int *)(param_1 + 0x74) = *(int *)(param_1 + 0x74) + -1;
  }
  if ((((_DAT_005301f8 < *(double *)(param_1 + 8)) &&
       (*(double *)(param_1 + 8) < _DAT_005301f0 !=
        (NAN(*(double *)(param_1 + 8)) || NAN(_DAT_005301f0)))) &&
      (iVar2 = Collision_HandleEnemyHit(), iVar2 % 0x14 == 0)) &&
     ((*(int *)(param_1 + 0x70) == 0 && (*(int *)(*(int *)(param_1 + 0x50) + 0x958) == 0)))) {
    uVar7 = 0;
    uVar6 = 0;
    fVar3 = (float10)fpatan((float10)*(double *)(*(int *)(param_1 + 0x4c) + 0x90) -
                            (float10)*(double *)(param_1 + 8),
                            (float10)*(int *)(*(int *)(param_1 + 0x4c) + 0x98) -
                            (float10)*(double *)(param_1 + 0x10));
    dVar5 = (double)(fVar3 + (float10)_DAT_0052d4d8);
    Boss_ProcessEyebot(param_1);
    uVar4 = Math_FloatToUInt64();
    iVar2 = (int)uVar4;
    uVar4 = Math_FloatToUInt64();
    Projectile_CreateWithVelocity
              (*(void **)(param_1 + 0x4c),(int)uVar4,iVar2,dVar5,(double)CONCAT44(uVar7,uVar6));
    *(undefined4 *)(param_1 + 0x70) = 0x96;
    *(undefined4 *)(param_1 + 0x74) = 5;
  }
  iVar2 = Boss_ProcessApeKommieKong(param_1);
  if ((*(double *)(param_1 + 8) < (double)(-0x140 - iVar2 / 2)) ||
     (iVar2 = Boss_ProcessApeKommieKong(param_1), dVar5 = (double)(iVar2 / 2 + 0x140),
     dVar5 < *(double *)(param_1 + 8) != (NAN(dVar5) || NAN(*(double *)(param_1 + 8))))) {
    Boss_BattleshipCannonSystem(param_1);
  }
  return;
}


