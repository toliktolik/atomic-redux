/*
 * Function: XML_ParseWaveData
 * Address: 0044a6a0
 * Category: levels
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void __fastcall XML_ParseWaveData(int param_1)

{
  double dVar1;
  int iVar2;
  undefined4 uVar3;
  int iVar4;
  int *piVar5;
  ulonglong uVar6;
  double dVar7;
  int iVar8;
  int iVar9;
  int iVar10;
  char cVar11;
  int iVar12;
  int iVar13;
  undefined1 uVar14;
  int iVar15;
  char cVar16;
  char cVar17;
  
  dVar7 = *(double *)(param_1 + 0x10) + *(double *)(param_1 + 0x20);
  *(double *)(param_1 + 0x10) = dVar7;
  dVar1 = *(double *)(param_1 + 0x18) - *(double *)(param_1 + 0x28);
  *(double *)(param_1 + 0x18) = dVar1;
  dVar1 = *(double *)(param_1 + 0x28) * _DAT_0052c628 + dVar1;
  dVar7 = dVar7 - *(double *)(param_1 + 0x20) * _DAT_0052c628;
  ParticleEffects_CreateParticles
            (*(int *)(param_1 + 0x58) + 0x2e8,
             *(int *)(*(int *)(*(int *)(param_1 + 0x58) + 0x5c) + 0x6e0),SUB84(dVar7,0),
             (int)((ulonglong)dVar7 >> 0x20),SUB84(dVar1,0),(int)((ulonglong)dVar1 >> 0x20),
             *(double *)(param_1 + 0x20) * _DAT_0052a0e8,*(double *)(param_1 + 0x28) * _DAT_00530380
             ,1,1.0,0,0,0,0,0x1e,1,-1);
  *(undefined4 *)(*(int *)(param_1 + 0x58) + 0x1f8) =
       *(undefined4 *)(*(int *)(param_1 + 0x58) + 500);
  do {
    do {
      iVar4 = *(int *)(*(int *)(*(int *)(param_1 + 0x58) + 0x1f8) + 4);
      if (iVar4 == 0) {
        iVar4 = String_Length(param_1);
        if ((((double)(-0x140 - iVar4 / 2) <= *(double *)(param_1 + 0x10)) &&
            (iVar4 = String_Length(param_1), dVar7 = (double)(iVar4 / 2 + 0x140),
            dVar7 < *(double *)(param_1 + 0x10) == (NAN(dVar7) || NAN(*(double *)(param_1 + 0x10))))
            ) && (*(double *)(param_1 + 0x18) < _DAT_0052a0c0 ==
                  (NAN(*(double *)(param_1 + 0x18)) || NAN(_DAT_0052a0c0)))) {
          return;
        }
        goto LAB_0044a909;
      }
      *(int *)(*(int *)(param_1 + 0x58) + 0x1f8) = iVar4;
      if (*(int *)(*(int *)(param_1 + 0x58) + 0x200) == 0) {
        piVar5 = (int *)0x0;
      }
      else {
        piVar5 = (int *)**(undefined4 **)(*(int *)(param_1 + 0x58) + 0x1f8);
      }
    } while ((char)piVar5[0x12] == '\0');
    cVar16 = (char)piVar5[0xc];
    cVar17 = '\x01';
    iVar15 = 0;
    uVar6 = Math_FloatToUInt64();
    iVar8 = (int)uVar6;
    uVar6 = Math_FloatToUInt64();
    iVar10 = (int)uVar6;
    uVar6 = Math_FloatToUInt64();
    iVar12 = (int)uVar6;
    iVar2 = Boss_ProcessHeadBustczar((int)piVar5);
    cVar11 = '\0';
    iVar9 = 0;
    uVar6 = Math_FloatToUInt64();
    iVar13 = (int)uVar6;
    uVar6 = Math_FloatToUInt64();
    iVar4 = (int)uVar6;
    uVar6 = Math_FloatToUInt64();
    uVar3 = Collision_PixelPerfectDetection
                      (*(void **)(param_1 + 0x5c),(int)uVar6,iVar4,iVar13,iVar9,cVar11,iVar2,iVar12,
                       iVar10,iVar8,iVar15,cVar16,cVar17);
  } while ((char)uVar3 == '\0');
  dVar7 = *(double *)(piVar5 + 0x16) - _DAT_0052c670;
  piVar5[0xd] = 0xff;
  *(double *)(piVar5 + 0x16) = dVar7;
  if (dVar7 < _DAT_0052a0c0 == (NAN(dVar7) || NAN(_DAT_0052a0c0))) {
    iVar4 = **(int **)(*(int *)(param_1 + 0x58) + 0x5c);
    uVar6 = Math_FloatToUInt64();
    (**(code **)(iVar4 + 0xb8))(7,(int)uVar6);
    iVar4 = *(int *)(param_1 + 0x58);
    iVar9 = -1;
    uVar14 = 1;
    iVar13 = 0x1e;
    iVar2 = 0x40080000;
    iVar12 = 0;
    iVar10 = 0x3fa99999;
    iVar8 = -0x66666666;
    dVar7 = 2.0;
    uVar6 = Math_FloatToUInt64();
    ParticleEffects_CreateParticles
              (iVar4 + 0x2e8,*(int *)(*(int *)(iVar4 + 0x5c) + 0x6e0),*(int *)(param_1 + 0x10),
               *(int *)(param_1 + 0x14),*(int *)(param_1 + 0x18),*(int *)(param_1 + 0x1c),
               *(double *)(piVar5 + 6),*(double *)(piVar5 + 8),(int)uVar6,dVar7,iVar8,iVar10,iVar12,
               iVar2,iVar13,uVar14,iVar9);
    String_ToLowerCase(param_1);
    return;
  }
  (**(code **)(*piVar5 + 0x10))();
  if (piVar5 != *(int **)(*(int *)(param_1 + 0x58) + 0x2e4)) {
    SmartLinkedList_PopNode((int *)(*(int *)(param_1 + 0x58) + 500));
    String_ToLowerCase(param_1);
    return;
  }
LAB_0044a909:
  String_ToLowerCase(param_1);
  return;
}


