/*
 * Function: File_GetDirectory
 * Address: 004d73d0
 * Category: system
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


void File_GetDirectory(void)

{
  int in_EAX;
  int iVar1;
  int iVar2;
  
  if (*(int *)(in_EAX + 0x38) != 0) {
    iVar1 = *(int *)(in_EAX + 0x38) >> 1;
    iVar2 = 0;
    if (iVar1 != 0) {
      do {
        iVar1 = iVar1 >> 1;
        iVar2 = iVar2 + 1;
      } while (iVar1 != 0);
      if (0xe < iVar2) {
        *(undefined4 *)(**(int **)(in_EAX + 0x20) + 0x14) = 0x28;
        (**(code **)**(undefined4 **)(in_EAX + 0x20))(*(undefined4 **)(in_EAX + 0x20));
      }
    }
    File_GetExtension(*(int *)(in_EAX + 0x34),iVar2 << 4);
    if (iVar2 != 0) {
      File_CopyFile(*(uint *)(in_EAX + 0x38),iVar2);
    }
    *(undefined4 *)(in_EAX + 0x38) = 0;
    File_GetBaseName(*(char **)(in_EAX + 0x40));
    *(undefined4 *)(in_EAX + 0x3c) = 0;
  }
  return;
}


