/*
 * Function: System_GetProcessHandle
 * Address: 004fdc70
 * Category: system
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


/* WARNING: Control flow encountered bad instruction data */
/* WARNING: Instruction at (ram,0x004fdc50) overlaps instruction at (ram,0x004fdc4f)
    */

void __fastcall System_GetProcessHandle(undefined4 param_1)

{
  longlong lVar1;
  code *pcVar2;
  byte bVar3;
  uint *in_EAX;
  int iVar4;
  undefined2 uVar5;
  undefined2 extraout_DX;
  undefined1 *puVar6;
  int unaff_EBX;
  int unaff_EBP;
  uint *unaff_ESI;
  uint *puVar7;
  int unaff_EDI;
  uint *puVar8;
  bool bVar9;
  
  bVar9 = false;
  puVar6 = (undefined1 *)((int)in_EAX + -0x5a);
  bVar3 = (byte)param_1;
  if ((char)in_EAX < -0x1b) {
    puVar8 = (uint *)(unaff_EDI + 1);
    puVar7 = (uint *)((int)unaff_ESI + 1);
    bVar3 = (byte)((int)in_EAX + 0x652122b9 << (bVar3 & 0x1f)) |
            (byte)((uint)((int)in_EAX + 0x652122b9) >> 0x20 - (bVar3 & 0x1f));
    unaff_ESI = puVar7;
    if ((0xd5 < bVar3) && (bVar3 == 0xd6)) goto code_r0x004fdc53;
  }
  else {
    *in_EAX = *in_EAX >> (bVar3 & 0x1f);
    iVar4 = CONCAT22((short)((uint)param_1 >> 0x10),
                     CONCAT11((byte)((uint)param_1 >> 8) | *(byte *)((int)unaff_ESI + -0x1d277a81),
                              bVar3));
    *unaff_ESI = *unaff_ESI | (uint)&stack0x00000000;
    lVar1 = (longlong)*(int *)(iVar4 + -0x22) * 0x7b5456f8;
    puVar6 = (undefined1 *)lVar1;
    if (-1 < (int)*unaff_ESI) {
      puVar7 = (uint *)((int)unaff_ESI + -1);
code_r0x004fdc53:
      uVar5 = SUB42(puVar6,0);
      goto LAB_004fdc4e;
    }
    iVar4 = iVar4 + 0x6bb8d1dc + (uint)((int)puVar6 != lVar1);
    if (-1 < iVar4) {
      return;
    }
    unaff_EBX = unaff_EBX + 1;
    out((short)lVar1,(char)iVar4);
    *(char *)(unaff_ESI + (int)puVar6 * 2) = (char)unaff_ESI[(int)puVar6 * 2] >> 0x12;
    puVar8 = in_EAX;
  }
  bVar9 = (*(uint *)(puVar6 + unaff_EBP * 4 + 6) & 0x400) != 0;
  func_0x8c584207();
  puVar7 = (uint *)((int)unaff_ESI + (uint)bVar9 * -2 + 1);
  *(char *)puVar8 = (char)*unaff_ESI;
  uVar5 = extraout_DX;
  if (unaff_EBX + 1 < 0) {
                    /* WARNING: Bad instruction - Truncating control flow here */
    halt_baddata();
  }
LAB_004fdc4e:
  out(*puVar7,uVar5);
  pcVar2 = (code *)swi(3);
  (*pcVar2)(puVar7 + (uint)bVar9 * -2 + 1);
  return;
}


