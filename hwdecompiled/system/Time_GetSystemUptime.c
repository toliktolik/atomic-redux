/*
 * Function: Time_GetSystemUptime
 * Address: 004d7810
 * Category: system
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


undefined4 __cdecl Time_GetSystemUptime(int param_1,int param_2)

{
  undefined4 uVar1;
  int iVar2;
  int iVar3;
  
  uVar1 = *(undefined4 *)(param_1 + 0x138);
  iVar2 = *(int *)(param_1 + 0x15c);
  *(undefined4 *)(iVar2 + 0x10) = **(undefined4 **)(param_1 + 0x18);
  *(undefined4 *)(iVar2 + 0x14) = *(undefined4 *)(*(int *)(param_1 + 0x18) + 4);
  if ((*(int *)(param_1 + 0xbc) != 0) && (*(int *)(iVar2 + 0x44) == 0)) {
    Directory_ListFiles((char)*(undefined4 *)(iVar2 + 0x48));
  }
  iVar3 = 0;
  if (0 < *(int *)(param_1 + 0x100)) {
    do {
      File_CopyFile((int)(**(short **)(param_2 + iVar3 * 4) >> ((byte)uVar1 & 0x1f)),1);
      iVar3 = iVar3 + 1;
    } while (iVar3 < *(int *)(param_1 + 0x100));
  }
  **(undefined4 **)(param_1 + 0x18) = *(undefined4 *)(iVar2 + 0x10);
  iVar3 = *(int *)(param_1 + 0x18);
  *(undefined4 *)(iVar3 + 4) = *(undefined4 *)(iVar2 + 0x14);
  if (*(int *)(param_1 + 0xbc) != 0) {
    iVar3 = *(int *)(iVar2 + 0x44);
    if (iVar3 == 0) {
      *(int *)(iVar2 + 0x44) = *(int *)(param_1 + 0xbc);
      *(uint *)(iVar2 + 0x48) = *(int *)(iVar2 + 0x48) + 1U & 7;
    }
    *(int *)(iVar2 + 0x44) = *(int *)(iVar2 + 0x44) + -1;
  }
  return CONCAT31((int3)((uint)iVar3 >> 8),1);
}


