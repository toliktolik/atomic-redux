/*
 * Function: Runtime_DebugCrtSetReportFile
 * Address: 004fa27a
 * Category: system
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


void Runtime_DebugCrtSetReportFile(void)

{
  void *pvVar1;
  facet *pfVar2;
  uint uVar3;
  undefined4 *puVar4;
  uint uVar5;
  undefined4 extraout_EDX;
  int unaff_EBP;
  _Locimp *this;
  
  Assembly_BitShiftLocking();
  if ((*(byte *)(unaff_EBP + 0xc) & 1) != 0) {
    if (*(int *)(unaff_EBP + 0x14) == 0) {
      pvVar1 = operator_new(0x10);
      if (pvVar1 == (void *)0x0) {
        pfVar2 = (facet *)0x0;
      }
      else {
        pfVar2 = (facet *)CppRuntime_EHTerm(pvVar1,*(undefined4 *)(unaff_EBP + 8),0);
      }
      uVar3 = std::locale::id::Operator_CastToUnsignedInt((id *)&DAT_005a49d0);
      this = *(_Locimp **)(unaff_EBP + 0x10);
      std::locale::_Locimp::_Addfac(this,pfVar2,uVar3);
      goto LAB_004fa2eb;
    }
    uVar3 = std::locale::id::Operator_CastToUnsignedInt((id *)&DAT_005a49d0);
    pfVar2 = CppRuntime_FilterException();
    std::locale::_Locimp::_Addfac(*(_Locimp **)(unaff_EBP + 0x10),pfVar2,uVar3);
  }
  this = *(_Locimp **)(unaff_EBP + 0x10);
LAB_004fa2eb:
  if ((*(byte *)(unaff_EBP + 0xc) & 0x20) != 0) {
    if (*(int *)(unaff_EBP + 0x14) == 0) {
      pfVar2 = (facet *)operator_new(8);
      if (pfVar2 == (facet *)0x0) {
        pfVar2 = (facet *)0x0;
      }
      else {
        *(undefined4 *)(pfVar2 + 4) = 0;
        *(undefined ***)pfVar2 = &PTR_STL_ConditionalDestructor_00546ed0;
      }
      uVar3 = std::locale::id::Operator_CastToUnsignedInt((id *)&DAT_005a49dc);
    }
    else {
      uVar3 = std::locale::id::Operator_CastToUnsignedInt((id *)&DAT_005a49dc);
      pfVar2 = CppRuntime_RaiseException();
    }
    std::locale::_Locimp::_Addfac(this,pfVar2,uVar3);
  }
  uVar3 = *(uint *)(unaff_EBP + 0xc) & 4;
  *(uint *)(unaff_EBP + -0x10) = uVar3;
  if (uVar3 != 0) {
    if (*(int *)(unaff_EBP + 0x14) == 0) {
      pfVar2 = (facet *)operator_new(8);
      if (pfVar2 == (facet *)0x0) {
        pfVar2 = (facet *)0x0;
      }
      else {
        *(undefined4 *)(pfVar2 + 4) = 0;
        *(undefined ***)pfVar2 = &PTR_STL_ConditionalDestructor_00546ee4;
      }
      uVar3 = std::locale::id::Operator_CastToUnsignedInt((id *)&DAT_005a49d8);
    }
    else {
      uVar3 = std::locale::id::Operator_CastToUnsignedInt((id *)&DAT_005a49d8);
      pfVar2 = CppRuntime_ResumeExecution();
    }
    std::locale::_Locimp::_Addfac(this,pfVar2,uVar3);
  }
  if (*(int *)(unaff_EBP + -0x10) != 0) {
    if (*(int *)(unaff_EBP + 0x14) == 0) {
      pfVar2 = (facet *)operator_new(8);
      if (pfVar2 == (facet *)0x0) {
        pfVar2 = (facet *)0x0;
      }
      else {
        *(undefined4 *)(pfVar2 + 4) = 0;
        *(undefined ***)pfVar2 = &PTR_STL_ConditionalDestructor_00546ef4;
      }
      uVar3 = std::locale::id::Operator_CastToUnsignedInt((id *)&DAT_005a49d4);
    }
    else {
      uVar3 = std::locale::id::Operator_CastToUnsignedInt((id *)&DAT_005a49d4);
      pfVar2 = CppRuntime_GetExceptionInfo();
    }
    std::locale::_Locimp::_Addfac(this,pfVar2,uVar3);
    if (*(int *)(unaff_EBP + -0x10) != 0) {
      if (*(int *)(unaff_EBP + 0x14) == 0) {
        puVar4 = (undefined4 *)operator_new(0x2c);
        *(undefined4 **)(unaff_EBP + -0x14) = puVar4;
        *(undefined4 *)(unaff_EBP + -4) = 5;
        if (puVar4 == (undefined4 *)0x0) {
          pfVar2 = (facet *)0x0;
        }
        else {
          pfVar2 = (facet *)moneypunct<>(puVar4);
        }
        *(undefined4 *)(unaff_EBP + -4) = 0xffffffff;
        uVar3 = std::locale::id::Operator_CastToUnsignedInt((id *)&DAT_005a49cc);
      }
      else {
        uVar3 = std::locale::id::Operator_CastToUnsignedInt((id *)&DAT_005a49cc);
        pfVar2 = Runtime_FinalizeHeap();
      }
      std::locale::_Locimp::_Addfac(this,pfVar2,uVar3);
      if (*(int *)(unaff_EBP + -0x10) != 0) {
        if (*(int *)(unaff_EBP + 0x14) == 0) {
          puVar4 = (undefined4 *)operator_new(0x2c);
          *(undefined4 **)(unaff_EBP + -0x14) = puVar4;
          *(undefined4 *)(unaff_EBP + -4) = 7;
          if (puVar4 == (undefined4 *)0x0) {
            pfVar2 = (facet *)0x0;
          }
          else {
            pfVar2 = (facet *)moneypunct<>(puVar4);
          }
          *(undefined4 *)(unaff_EBP + -4) = 0xffffffff;
          uVar3 = std::locale::id::Operator_CastToUnsignedInt((id *)&DAT_005a49e0);
        }
        else {
          uVar3 = std::locale::id::Operator_CastToUnsignedInt((id *)&DAT_005a49e0);
          pfVar2 = Runtime_ValidateHeap();
        }
        std::locale::_Locimp::_Addfac(this,pfVar2,uVar3);
      }
    }
  }
  uVar3 = *(uint *)(unaff_EBP + 0xc) & 0x10;
  if (uVar3 != 0) {
    if (*(int *)(unaff_EBP + 0x14) == 0) {
      pvVar1 = operator_new(0x14);
      *(void **)(unaff_EBP + 0xc) = pvVar1;
      *(undefined4 *)(unaff_EBP + -4) = 9;
      if (pvVar1 == (void *)0x0) {
        pfVar2 = (facet *)0x0;
      }
      else {
        pfVar2 = (facet *)Runtime_DebugExpand();
      }
      *(undefined4 *)(unaff_EBP + -4) = 0xffffffff;
      uVar5 = std::locale::id::Operator_CastToUnsignedInt((id *)&DAT_005a49c8);
    }
    else {
      uVar5 = std::locale::id::Operator_CastToUnsignedInt((id *)&DAT_005a49c8);
      pfVar2 = Runtime_DebugCrtSetReportMode();
    }
    std::locale::_Locimp::_Addfac(*(_Locimp **)(unaff_EBP + 0x10),pfVar2,uVar5);
  }
  if (uVar3 != 0) {
    if (*(int *)(unaff_EBP + 0x14) == 0) {
      puVar4 = (undefined4 *)operator_new(0xc);
      if (puVar4 == (undefined4 *)0x0) {
        pfVar2 = (facet *)0x0;
      }
      else {
        pfVar2 = (facet *)CppRuntime_ThrowBadCast(puVar4,extraout_EDX,*(byte **)(unaff_EBP + 8),0);
      }
      uVar3 = std::locale::id::Operator_CastToUnsignedInt((id *)&DAT_005a49e4);
    }
    else {
      uVar3 = std::locale::id::Operator_CastToUnsignedInt((id *)&DAT_005a49e4);
      pfVar2 = CppRuntime_SetExceptionInfo();
    }
    std::locale::_Locimp::_Addfac(*(_Locimp **)(unaff_EBP + 0x10),pfVar2,uVar3);
  }
  ExceptionList = *(void **)(unaff_EBP + -0xc);
  return;
}


