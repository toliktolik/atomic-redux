/*
 * Function: Threading_ResetEvent
 * Address: 0044d030
 * Category: system
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void __fastcall Threading_ResetEvent(int param_1)

{
  double dVar1;
  DWORD DVar2;
  uint uVar3;
  int iVar4;
  
  DVar2 = timeGetTime();
  if (*(int *)(param_1 + 0x400) == 0) {
    *(DWORD *)(param_1 + 0x400) = DVar2;
  }
  else {
    iVar4 = DVar2 - *(int *)(param_1 + 0x400);
    dVar1 = (double)iVar4 + *(double *)(param_1 + 0x3f8);
    if (dVar1 < _DAT_0052c578 == (NAN(dVar1) || NAN(_DAT_0052c578))) {
      dVar1 = _DAT_0052c578;
    }
    *(double *)(param_1 + 0x3f8) = dVar1;
    *(DWORD *)(param_1 + 0x400) = DVar2;
    if (0 < *(int *)(param_1 + 0x78)) {
      uVar3 = *(int *)(param_1 + 0x78) - iVar4;
      *(uint *)(param_1 + 0x78) = uVar3 & ((int)uVar3 < 1) - 1;
      return;
    }
  }
  return;
}


