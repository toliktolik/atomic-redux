/*
 * Function: FileIO_CloseFile
 * Address: 00482370
 * Category: system
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void __thiscall FileIO_CloseFile(void *this,int *param_1,uint *param_2,int param_3)

{
  float fVar1;
  float fVar2;
  uint uVar3;
  uint uVar4;
  float *pfVar5;
  int iVar6;
  float *pfVar7;
  float *pfVar8;
  _String_base *p_Var9;
  float local_c4 [4];
  uint local_b4;
  undefined4 local_b0;
  undefined4 local_ac;
  undefined4 local_a8;
  float local_a4;
  float local_a0;
  undefined4 local_9c;
  undefined4 local_98;
  uint local_94;
  undefined4 local_90;
  undefined4 local_8c;
  undefined4 local_88;
  float local_84;
  float local_80;
  undefined4 local_7c;
  undefined4 local_78;
  uint local_74;
  undefined4 local_70;
  undefined4 local_6c;
  undefined4 local_68;
  float local_64;
  float local_60;
  undefined4 local_5c;
  undefined4 local_58;
  uint local_54;
  undefined4 local_50;
  undefined4 local_4c;
  undefined4 local_48;
  float local_44;
  float local_40;
  undefined4 local_3c;
  float local_38;
  float local_34;
  undefined4 local_30;
  float local_2c;
  float local_28;
  undefined4 local_24;
  float local_20;
  float local_1c;
  undefined4 local_18;
  float local_10;
  uint local_c;
  
  uVar4 = SexyWidget_UpdateVertices((int)this);
  if ((char)uVar4 != '\0') {
    uVar4 = *param_2;
    local_10 = (float)param_2[1];
    local_c = param_2[2];
    uVar3 = param_2[3];
    DirectX_SetRenderState(this,param_3);
    local_c4[0] = (float)*param_1 - _DAT_005332ec;
    local_c4[1] = (float)param_1[1] - _DAT_005332ec;
    local_b4 = ((uVar3 << 8 | uVar4) << 8 | (uint)local_10) << 8 | local_c;
    local_c4[2] = 0.0;
    local_c4[3] = 1.0;
    local_a0 = (float)param_1[3] + local_c4[1];
    local_b0 = 0;
    local_ac = 0;
    local_a8 = 0;
    local_9c = 0;
    local_98 = 0x3f800000;
    local_84 = (float)param_1[2] + local_c4[0];
    local_90 = 0;
    local_8c = 0;
    local_88 = 0;
    local_7c = 0;
    local_78 = 0x3f800000;
    local_70 = 0;
    local_6c = 0;
    local_68 = 0;
    local_5c = 0;
    local_58 = 0x3f800000;
    local_50 = 0;
    local_4c = 0;
    local_48 = 0;
    local_a4 = local_c4[0];
    local_94 = local_b4;
    local_80 = local_c4[1];
    local_74 = local_b4;
    local_64 = local_84;
    local_60 = local_a0;
    local_54 = local_b4;
    if (*(int *)((int)this + 0x54) != 0) {
      local_3c = 0x3f800000;
      local_30 = 0x3f800000;
      local_24 = 0x3f800000;
      local_18 = 0x3f800000;
      param_2 = (uint *)0x4;
      pfVar7 = &local_44;
      pfVar8 = local_c4 + 1;
      local_44 = local_c4[0];
      local_40 = local_c4[1];
      local_38 = local_c4[0];
      local_34 = local_a0;
      local_2c = local_84;
      local_28 = local_c4[1];
      local_20 = local_84;
      local_1c = local_a0;
      do {
        pfVar5 = (float *)Font_GetDescent((void *)(*(int *)(*(int *)((int)this + 0x50) + 4) + 8),
                                          &local_10,pfVar7);
        *pfVar7 = *pfVar5;
        pfVar7[1] = pfVar5[1];
        pfVar7[2] = pfVar5[2];
        fVar1 = *pfVar7;
        *pfVar7 = fVar1 - _DAT_005332ec;
        param_2 = (uint *)((int)param_2 + -1);
        fVar2 = pfVar7[1];
        pfVar7[1] = fVar2 - _DAT_005332ec;
        pfVar8[-1] = fVar1 - _DAT_005332ec;
        *pfVar8 = fVar2 - _DAT_005332ec;
        pfVar7 = pfVar7 + 3;
        pfVar8 = pfVar8 + 8;
      } while (param_2 != (uint *)0x0);
    }
    p_Var9 = *(_String_base **)((int)this + 0x20);
    iVar6 = (**(code **)(*(int *)p_Var9 + 0x8c))(p_Var9,0,0,"SetTexture NULL");
    Threading_LockMutex(iVar6,p_Var9);
    p_Var9 = *(_String_base **)((int)this + 0x20);
    iVar6 = (**(code **)(*(int *)p_Var9 + 100))(p_Var9,5,0x1c4,local_c4,4,0,"DrawPrimitive (Rect)");
    Threading_LockMutex(iVar6,p_Var9);
  }
  return;
}


