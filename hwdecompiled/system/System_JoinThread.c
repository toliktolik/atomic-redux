/*
 * Function: System_JoinThread
 * Address: 00480c20
 * Category: system
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


void __thiscall System_JoinThread(void *this,int param_1)

{
  int extraout_ECX;
  uint extraout_EDX;
  undefined8 uVar1;
  uint unaff_retaddr;
  undefined4 *in_stack_ffffffb4;
  undefined4 *in_stack_ffffffb8;
  uint local_34;
  undefined1 local_30 [4];
  int local_2c;
  uint local_18;
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_005148f0;
  local_10 = ExceptionList;
  local_14 = DAT_00569f5c ^ unaff_retaddr;
  if (param_1 < 0) {
    ExceptionList = &local_10;
    Image_Clone(local_30,param_1);
    local_8 = 0;
    uVar1 = Sound_SetPosition((_String_base *)&stack0xffffffb4,"%s: %s");
    local_8 = CONCAT31(local_8._1_3_,1);
    PowerUp_ProcessThunderstrike
              ((_String_base *)((int)this + 0xce4),(uint)((ulonglong)uVar1 >> 0x20),
               (_String_base *)uVar1,0,0xffffffff);
    if (0xf < local_34) {
                    /* WARNING: Subroutine does not return */
      System_ShutdownHandler(extraout_ECX,extraout_EDX);
    }
    if (0xf < local_18) {
                    /* WARNING: Subroutine does not return */
      System_ShutdownHandler(local_2c,extraout_EDX);
    }
  }
  ExceptionList = local_10;
  Exception_SetMessage((void *)(local_14 ^ unaff_retaddr),in_stack_ffffffb4,in_stack_ffffffb8);
  return;
}


