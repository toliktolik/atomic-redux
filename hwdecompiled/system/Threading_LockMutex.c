/*
 * Function: Threading_LockMutex
 * Address: 004811f0
 * Category: system
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


void __cdecl Threading_LockMutex(int param_1,_String_base *param_2)

{
  _String_base _Var1;
  char *pcVar2;
  _String_base *p_Var3;
  char *pcVar4;
  int extraout_ECX;
  uint extraout_EDX;
  uint unaff_retaddr;
  undefined4 *in_stack_ffffff98;
  undefined4 *in_stack_ffffff9c;
  uint local_50;
  _String_base local_4c [4];
  uint local_48;
  undefined4 local_38;
  uint local_34;
  undefined1 local_30 [4];
  uint local_2c;
  undefined4 local_1c;
  uint local_18;
  uint local_14;
  void *local_10;
  undefined4 uStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  uStack_c = 0x514958;
  local_10 = ExceptionList;
  local_14 = DAT_00569f5c ^ unaff_retaddr;
  if (param_1 < 0) {
    local_18 = 0xf;
    local_1c = 0;
    local_2c = local_2c & 0xffffff00;
    local_8 = 0;
    ExceptionList = &local_10;
    Image_Clone(&stack0xffffff98,param_1);
    local_8._0_1_ = 1;
    p_Var3 = param_2;
    do {
      _Var1 = *p_Var3;
      p_Var3 = p_Var3 + 1;
    } while (_Var1 != (_String_base)0x0);
    String_Assign(local_30,param_2,(int)p_Var3 - (int)(param_2 + 1));
    pcVar2 = ": ";
    do {
      pcVar4 = pcVar2;
      pcVar2 = pcVar4 + 1;
    } while (*pcVar4 != '\0');
    Enemy_ProcessSatelliteLogic(local_30,(_String_base *)&DAT_005331fc,(uint)(pcVar4 + -0x5331fc));
    Enemy_UpdateAI(local_30,(int)&stack0xffffff98,0,0xffffffff);
    PowerUp_ProcessThunderstrike
              ((_String_base *)&DAT_00566b6c,(uint)local_30,(_String_base *)local_30,0,0xffffffff);
    local_34 = 0xf;
    local_38 = 0;
    local_48 = local_48 & 0xffffff00;
    pcVar2 = "Test3D\\RuntimeError";
    do {
      pcVar4 = pcVar2;
      pcVar2 = pcVar4 + 1;
    } while (*pcVar4 != '\0');
    String_Assign(local_4c,(_String_base *)"Test3D\\RuntimeError",(uint)(pcVar4 + -0x5331e8));
    local_8 = CONCAT31(local_8._1_3_,2);
    STL_Vector_Reserve(DAT_0056da10,local_4c,(int)local_30);
    if (0xf < local_34) {
                    /* WARNING: Subroutine does not return */
      System_ShutdownHandler(extraout_ECX,local_48);
    }
    if (0xf < local_50) {
                    /* WARNING: Subroutine does not return */
      System_ShutdownHandler(extraout_ECX,extraout_EDX);
    }
    in_stack_ffffff9c = (undefined4 *)((uint)in_stack_ffffff9c & 0xffffff00);
    if (0xf < local_18) {
                    /* WARNING: Subroutine does not return */
      System_ShutdownHandler(local_2c,extraout_EDX);
    }
  }
  ExceptionList = local_10;
  Exception_SetMessage((void *)(local_14 ^ unaff_retaddr),in_stack_ffffff98,in_stack_ffffff9c);
  return;
}


