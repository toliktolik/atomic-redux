/*
 * Function: FileIO_ReadFile
 * Address: 00481b70
 * Category: system
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


void __thiscall FileIO_ReadFile(void *this,int *param_1)

{
  int iVar1;
  int extraout_ECX;
  uint uVar2;
  int iVar3;
  uint extraout_EDX;
  uint extraout_EDX_00;
  int *unaff_EBX;
  undefined4 *puVar4;
  undefined1 local_1938 [3200];
  undefined1 *local_cb8;
  undefined4 local_cb4;
  undefined4 local_cb0;
  undefined4 local_cac [797];
  undefined4 uStackY_38;
  int *piStackY_34;
  undefined4 uStackY_30;
  undefined4 *local_2c;
  int iVar5;
  _String_base *p_Var6;
  void *local_10;
  undefined *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &DAT_00514986;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  System_LoadLibrary(this);
  local_2c = local_cac;
  local_cb8 = local_1938;
  local_cb4 = 0;
  local_cb0 = 100;
  local_8 = 1;
  SexyWidget_ValidateGeometry(local_cac,*(int *)(extraout_ECX + 0xc84));
  puVar4 = *(undefined4 **)(extraout_ECX + 0xc80);
  for (uVar2 = (uint)(*(int *)(extraout_ECX + 0xc84) << 5) >> 2; uVar2 != 0; uVar2 = uVar2 - 1) {
    *local_2c = *puVar4;
    puVar4 = puVar4 + 1;
    local_2c = local_2c + 1;
  }
  for (iVar3 = 0; iVar3 != 0; iVar3 = iVar3 + -1) {
    *(undefined1 *)local_2c = *(undefined1 *)puVar4;
    puVar4 = (undefined4 *)((int)puVar4 + 1);
    local_2c = (undefined4 *)((int)local_2c + 1);
  }
  iVar3 = unaff_EBX[3];
  iVar1 = unaff_EBX[1];
  local_2c = (undefined4 *)0x481c3b;
  Exception_CleanupAfterError(0,(float)*unaff_EBX,(int)local_cac,local_1938);
  puVar4 = local_cac;
  local_2c = (undefined4 *)0x481c5d;
  Exception_CleanupAfterError(0,(float)iVar1,(int)local_1938,puVar4);
  local_cb4 = 0;
  local_2c = (undefined4 *)0x481c81;
  System_ValidateMemoryState(0,(float)(int)puVar4,(int)local_cac,local_1938);
  iVar5 = 0;
  local_2c = (undefined4 *)0x481ca3;
  System_ValidateMemoryState(0,(float)(iVar3 + iVar1),(int)local_1938,local_cac);
  uVar2 = extraout_EDX;
  if (2 < iVar5) {
    p_Var6 = (_String_base *)0x5332f0;
    local_2c = (undefined4 *)0x1c4;
    uStackY_30 = 6;
    piStackY_34 = param_1;
    uStackY_38 = 0x481cc6;
    iVar3 = (**(code **)(*param_1 + 100))();
    Threading_LockMutex(iVar3,p_Var6);
    uVar2 = extraout_EDX_00;
  }
  if (local_cb8 != local_1938) {
                    /* WARNING: Subroutine does not return */
    System_ShutdownHandler((int)local_1938,uVar2);
  }
  if (local_2c != local_cac) {
                    /* WARNING: Subroutine does not return */
    System_ShutdownHandler((int)local_1938,(uint)local_cac);
  }
  ExceptionList = local_10;
  return;
}


