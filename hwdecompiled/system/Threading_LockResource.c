/*
 * Function: Threading_LockResource
 * Address: 004fd2b2
 * Category: system
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


/* WARNING: Control flow encountered bad instruction data */
/* WARNING: Removing unreachable block (ram,0x004fd2db) */

void __fastcall Threading_LockResource(undefined4 param_1,int param_2)

{
  undefined4 *puVar1;
  char cVar2;
  byte in_AL;
  byte bVar3;
  char *unaff_EBX;
  undefined4 **ppuVar5;
  int unaff_EBP;
  undefined4 unaff_EDI;
  undefined4 *apuStack_c [2];
  undefined4 uVar4;
  
  apuStack_c[1] = (undefined4 *)(unaff_EBP + 1);
  bVar3 = (byte)param_1 & in_AL;
  uVar4 = CONCAT31((int3)((uint)param_1 >> 8),bVar3);
  if ((char)bVar3 < '\x01') {
    *(undefined4 *)(param_2 * 2 + 0x382ee9c1) = unaff_EDI;
    ppuVar5 = apuStack_c + 1;
    cVar2 = '\x02';
    puVar1 = apuStack_c[1];
    do {
      puVar1 = puVar1 + -1;
      ppuVar5 = ppuVar5 + -1;
      *ppuVar5 = (undefined4 *)*puVar1;
      cVar2 = cVar2 + -1;
    } while ('\0' < cVar2);
    *unaff_EBX = *unaff_EBX + -0x35;
    func_0x74943e0b();
                    /* WARNING: Bad instruction - Truncating control flow here */
    halt_baddata();
  }
  LOCK();
  *(undefined4 *)uVar4 = uVar4;
  UNLOCK();
  return;
}


