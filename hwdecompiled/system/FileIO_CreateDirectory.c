/*
 * Function: FileIO_CreateDirectory
 * Address: 00482980
 * Category: system
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


void __thiscall FileIO_CreateDirectory(void *this,int param_1,char *param_2)

{
  byte bVar1;
  _String_base _Var2;
  int iVar3;
  _String_base *p_Var4;
  char *****pppppcVar5;
  int extraout_ECX;
  int extraout_ECX_00;
  uint extraout_EDX;
  uint uVar6;
  uint unaff_EBX;
  uint unaff_ESI;
  int unaff_EDI;
  undefined8 uVar7;
  uint unaff_retaddr;
  _String_base local_104c [4096];
  undefined1 local_4c [4];
  uint local_48;
  undefined4 local_38;
  uint local_34;
  _String_base local_30 [4];
  char ****local_2c;
  _String_base *p_StackY_28;
  undefined4 *puVar8;
  undefined4 *puVar9;
  
  puVar9 = (undefined4 *)0x5149e0;
  puVar8 = (undefined4 *)ExceptionList;
  ExceptionList = &stack0xfffffff0;
  System_LoadLibrary(this);
  bVar1 = *(byte *)(param_1 + 0xc);
  do {
    if ((bVar1 & 0x10) != 0) {
LAB_00482aa6:
      ExceptionList = puVar8;
      Exception_SetMessage((void *)(unaff_EBX ^ unaff_retaddr),(undefined4 *)ExceptionList,puVar9);
      return;
    }
    p_StackY_28 = local_104c;
    local_2c = (char ****)0x4829e5;
    iVar3 = Windows_UpdateWindow();
    if (iVar3 == 0) goto LAB_00482aa6;
    p_Var4 = local_104c;
    local_34 = 0xf;
    local_38 = 0;
    local_48 = local_48 & 0xffffff00;
    do {
      _Var2 = *p_Var4;
      p_Var4 = p_Var4 + 1;
    } while (_Var2 != (_String_base)0x0);
    p_StackY_28 = (_String_base *)0x482a1b;
    String_Assign(local_4c,local_104c,(int)p_Var4 - (int)(local_104c + 1));
    p_StackY_28 = (_String_base *)0x482a2b;
    Sound_LoadFromFile(local_30,local_4c);
    if (0xf < local_34) {
                    /* WARNING: Subroutine does not return */
      System_ShutdownHandler(local_48,extraout_EDX);
    }
    local_34 = 0xf;
    local_38 = 0;
    local_48 = local_48 & 0xffffff00;
    iVar3 = extraout_ECX;
    uVar6 = extraout_EDX;
    if (unaff_EDI != 0) {
      pppppcVar5 = (char *****)local_2c;
      if (unaff_ESI < 0x10) {
        pppppcVar5 = &local_2c;
      }
      p_StackY_28 = (_String_base *)0x482a6d;
      uVar7 = Scoring_DisplayScore(param_2,(char *)pppppcVar5);
      uVar6 = (uint)((ulonglong)uVar7 >> 0x20);
      iVar3 = extraout_ECX_00;
      if (-1 < (int)uVar7) {
        if (0xf < unaff_ESI) {
                    /* WARNING: Subroutine does not return */
          System_ShutdownHandler(extraout_ECX_00,(uint)local_2c);
        }
        goto LAB_00482aa6;
      }
    }
    if (0xf < unaff_ESI) {
                    /* WARNING: Subroutine does not return */
      System_ShutdownHandler(iVar3,uVar6);
    }
    bVar1 = *(byte *)(param_1 + 0xc);
    unaff_ESI = 0xf;
    unaff_EDI = 0;
    local_2c = (char ****)((uint)local_2c & 0xffffff00);
  } while( true );
}


