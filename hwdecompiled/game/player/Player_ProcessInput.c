/*
 * Function: Player_ProcessInput
 * Address: 004899a0
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


void __thiscall Player_ProcessInput(void *this,undefined1 param_1)

{
  char cVar1;
  void *this_00;
  int *piVar2;
  int iVar3;
  undefined4 uVar4;
  int local_90 [26];
  undefined4 local_28;
  LPCRITICAL_SECTION local_14;
  void *local_10;
  undefined4 uStack_c;
  int local_8;
  
  local_8 = 0xffffffff;
  uStack_c = 0x515033;
  local_10 = ExceptionList;
  local_14 = (LPCRITICAL_SECTION)((int)this + 0x3c);
  ExceptionList = &local_10;
  EnterCriticalSection(local_14);
  *(undefined1 *)((int)this + 0xcac) = param_1;
  local_8 = 0;
  if (*(int *)((int)this + 100) == 0) {
    piVar2 = local_90;
    for (iVar3 = 0x1f; iVar3 != 0; iVar3 = iVar3 + -1) {
      *piVar2 = 0;
      piVar2 = piVar2 + 1;
    }
    local_90[3] = *(undefined4 *)((int)this + 0x6c);
    local_90[2] = *(undefined4 *)((int)this + 0x70);
    local_90[0] = 0x7c;
    local_90[1] = 7;
    local_28 = 0x4000;
    iVar3 = SexyWidget_ApplyRotation(this,local_90,(int *)((int)this + 100));
    if (iVar3 < 0) {
      *(undefined1 *)((int)this + 0xcac) = 0;
    }
  }
  cVar1 = *(char *)((int)this + 0xcac);
  if (*(undefined4 **)((int)this + 0xc9c) != (undefined4 *)0x0) {
    (**(code **)**(undefined4 **)((int)this + 0xc9c))(1);
  }
  this_00 = operator_new(200);
  local_8._0_1_ = 1;
  if (this_00 == (void *)0x0) {
    piVar2 = (int *)0x0;
  }
  else {
    piVar2 = Game_UpdateParticles(this_00,(int)this);
  }
  local_8 = (uint)local_8._1_3_ << 8;
  *(int **)((int)this + 0xc9c) = piVar2;
  if (cVar1 == '\0') {
    uVar4 = *(undefined4 *)((int)this + 0x68);
  }
  else {
    uVar4 = *(undefined4 *)((int)this + 100);
  }
  (**(code **)(*piVar2 + 0xa4))(uVar4);
  *(undefined1 *)(*(int *)((int)this + 0xc9c) + 0x50) = *(undefined1 *)((int)this + 0xcac);
  *(undefined1 *)(*(int *)((int)this + 0xc9c) + 0x51) = *(undefined1 *)((int)this + 0xcac);
  (**(code **)(**(int **)((int)this + 0xc9c) + 0x68))(0,0);
  LeaveCriticalSection(local_14);
  ExceptionList = local_10;
  return;
}


