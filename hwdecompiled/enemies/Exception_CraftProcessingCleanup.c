/*
 * Function: Exception_CraftProcessingCleanup
 * Address: 00407f3b
 * Category: enemies
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


void Exception_CraftProcessingCleanup(undefined4 *param_1)

{
  _String_base *p_Var1;
  int iVar2;
  undefined4 uVar3;
  uint extraout_ECX;
  int extraout_ECX_00;
  uint extraout_EDX;
  _String_base *unaff_EBX;
  int unaff_EBP;
  int unaff_ESI;
  int unaff_EDI;
  uint uVar4;
  undefined4 *unaff_retaddr;
  
  iVar2 = *(int *)(unaff_EBP + 0xc) * 0x1c;
  Boss_ProcessRainerAttack
            (iVar2 + *(int *)(unaff_EBP + 8),*(int *)(*(int *)(unaff_EBP + -0x18) + 8) + iVar2);
  CRuntime_CxxThrowException(0,0);
  *(undefined1 **)(unaff_EBP + 8) = &stack0xfffffff8;
  uVar4 = extraout_ECX + unaff_EDI * -0x1c;
  *(undefined1 **)(unaff_EBP + 8) = &stack0xfffffff4;
  *(int *)(unaff_EBP + 0x10) = unaff_EDI * 0x1c;
  uVar3 = Craft_ProcessSmallCopter(uVar4,extraout_ECX,(_String_base *)extraout_ECX);
  p_Var1 = *(_String_base **)(unaff_EBP + -0x1c);
  *(undefined4 *)(unaff_ESI + 8) = uVar3;
  *(undefined1 **)(unaff_EBP + 8) = &stack0xfffffffc;
  *(undefined1 **)(unaff_EBP + 8) = &stack0xfffffff8;
  *(undefined1 **)(unaff_EBP + 8) = &stack0xfffffff4;
  Boss_ProcessRobotAttack((int *)(unaff_EBP + 8),unaff_EBX,uVar4,p_Var1);
  *(undefined1 **)(unaff_EBP + 8) = &stack0xfffffff8;
  *(undefined1 **)(unaff_EBP + 8) = &stack0xfffffff4;
  Intel_DisplayExportData
            (unaff_EBX + *(int *)(unaff_EBP + 0x10),extraout_EDX,unaff_EBX,
             unaff_EBX + *(int *)(unaff_EBP + 0x10),(_String_base *)(unaff_EBP + -0x38));
  if (0xf < *(uint *)(unaff_EBP + -0x20)) {
                    /* WARNING: Subroutine does not return */
    System_ShutdownHandler(extraout_ECX_00,*(uint *)(unaff_EBP + -0x34));
  }
  ExceptionList = *(void **)(unaff_EBP + -0xc);
  Exception_SetMessage
            ((void *)(*(uint *)(unaff_EBP + -0x14) ^ *(uint *)(unaff_EBP + 4)),unaff_retaddr,param_1
            );
  return;
}


