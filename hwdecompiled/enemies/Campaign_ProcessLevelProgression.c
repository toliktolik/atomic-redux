/*
 * Function: Campaign_ProcessLevelProgression
 * Address: 00409dd0
 * Category: enemies
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


int __fastcall Campaign_ProcessLevelProgression(int param_1,uint param_2,int param_3)

{
  void *pvVar1;
  int iVar2;
  uint uVar3;
  uint extraout_EDX;
  undefined4 *puVar4;
  
  if (param_1 == param_3) {
    return param_1;
  }
  if (*(int *)(param_3 + 4) != 0) {
    param_2 = (*(int *)(param_3 + 8) - *(int *)(param_3 + 4)) / 0x50;
    if (param_2 != 0) {
      pvVar1 = *(void **)(param_1 + 4);
      if (pvVar1 == (void *)0x0) {
        uVar3 = 0;
      }
      else {
        uVar3 = (*(int *)(param_1 + 8) - (int)pvVar1) / 0x50;
      }
      if (param_2 <= uVar3) {
        pvVar1 = MemoryCopy_Forward_80ByteObjects
                           (*(undefined4 **)(param_3 + 4),*(undefined4 **)(param_3 + 8),pvVar1);
        ArrayDestroy_80ByteObjects
                  (param_1,*(uint *)(param_1 + 8),(int)pvVar1,*(uint *)(param_1 + 8));
        if (*(int *)(param_3 + 4) == 0) {
          *(undefined4 *)(param_1 + 8) = *(undefined4 *)(param_1 + 4);
          return param_1;
        }
        *(int *)(param_1 + 8) =
             ((*(int *)(param_3 + 8) - *(int *)(param_3 + 4)) / 0x50) * 0x50 + *(int *)(param_1 + 4)
        ;
        return param_1;
      }
      if (pvVar1 == (void *)0x0) {
        uVar3 = 0;
      }
      else {
        uVar3 = (*(int *)(param_1 + 0xc) - (int)pvVar1) / 0x50;
      }
      if (param_2 <= uVar3) {
        iVar2 = Vector_Size_80ByteObjects(param_1);
        puVar4 = *(undefined4 **)(param_3 + 4) + iVar2 * 0x14;
        Craft_ProcessDozer(*(undefined4 **)(param_3 + 4),puVar4,pvVar1);
        pvVar1 = ArrayInit_80ByteObjects
                           (puVar4,*(undefined4 **)(param_3 + 8),*(void **)(param_1 + 8));
        *(void **)(param_1 + 8) = pvVar1;
        return param_1;
      }
      ArrayDestroy_80ByteObjects(param_1,uVar3,(int)pvVar1,*(int *)(param_1 + 8));
                    /* WARNING: Subroutine does not return */
      System_ShutdownHandler(*(int *)(param_1 + 4),extraout_EDX);
    }
  }
  Vector_Destructor_80ByteObjects(param_1,param_2);
  return param_1;
}


