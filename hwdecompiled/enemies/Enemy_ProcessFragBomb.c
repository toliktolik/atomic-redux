/*
 * Function: Enemy_ProcessFragBomb
 * Address: 0042f350
 * Category: enemies
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


undefined4 * __thiscall Enemy_ProcessFragBomb(void *this,int param_1)

{
  char *pcVar1;
  _String_base *p_Var2;
  _String_base *p_Var3;
  undefined4 *puVar4;
  void *this_00;
  char *pcVar5;
  int extraout_ECX;
  uint extraout_EDX;
  _String_base local_b0 [4];
  uint local_ac;
  undefined4 local_9c;
  uint local_98;
  _String_base local_94 [4];
  uint local_90;
  undefined4 local_80;
  uint local_7c;
  void *local_78;
  undefined1 local_74 [16];
  _String_base local_64 [4];
  uint local_60;
  undefined4 local_50;
  uint local_4c;
  undefined1 local_48 [4];
  uint local_44;
  undefined4 local_34;
  uint local_30;
  undefined1 local_2c [4];
  uint local_28;
  undefined4 local_18;
  uint local_14;
  void *local_10;
  undefined4 uStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  uStack_c = 0x511d01;
  local_10 = ExceptionList;
  local_4c = 0xf;
  local_50 = 0;
  local_60 = local_60 & 0xffffff00;
  pcVar1 = "";
  do {
    pcVar5 = pcVar1;
    pcVar1 = pcVar5 + 1;
  } while (*pcVar5 != '\0');
  ExceptionList = &local_10;
  local_78 = this;
  String_Assign(local_64,(_String_base *)&DAT_0052c7cf,(uint)(pcVar5 + -0x52c7cf));
  local_14 = 0xf;
  local_8 = 0;
  local_18 = 0;
  local_28 = local_28 & 0xffffff00;
  pcVar1 = "UPDATE_CHECK_BODY";
  do {
    pcVar5 = pcVar1;
    pcVar1 = pcVar5 + 1;
  } while (*pcVar5 != '\0');
  String_Assign(local_2c,(_String_base *)"UPDATE_CHECK_BODY",(uint)(pcVar5 + -0x52fe3c));
  local_8._0_1_ = 1;
  local_30 = 0xf;
  local_34 = 0;
  local_44 = local_44 & 0xffffff00;
  pcVar1 = "UPDATE_CHECK_TITLE";
  do {
    pcVar5 = pcVar1;
    pcVar1 = pcVar5 + 1;
  } while (*pcVar5 != '\0');
  String_Assign(local_48,(_String_base *)"UPDATE_CHECK_TITLE",(uint)(pcVar5 + -0x52fe28));
  local_8._0_1_ = 2;
  p_Var2 = STL_String_Erase(DAT_005a437c,local_b0,local_2c);
  local_8._0_1_ = 3;
  p_Var3 = STL_String_Erase(DAT_005a437c,local_94,local_48);
  local_8._0_1_ = 4;
  SexyWidget_ProcessScale
            (this,*(int *)(*(int *)(param_1 + 0x714) + 8),0,0x1f,1,p_Var3,(uint)p_Var2,local_64,0);
  if (0xf < local_7c) {
                    /* WARNING: Subroutine does not return */
    System_ShutdownHandler(local_90,extraout_EDX);
  }
  local_7c = 0xf;
  local_80 = 0;
  local_90 = local_90 & 0xffffff00;
  if (0xf < local_98) {
                    /* WARNING: Subroutine does not return */
    System_ShutdownHandler(extraout_ECX,local_ac);
  }
  local_98 = 0xf;
  local_9c = 0;
  local_ac = local_ac & 0xffffff00;
  if (0xf < local_30) {
                    /* WARNING: Subroutine does not return */
    System_ShutdownHandler(extraout_ECX,extraout_EDX);
  }
  local_30 = 0xf;
  local_34 = 0;
  local_44 = local_44 & 0xffffff00;
  if (0xf < local_14) {
                    /* WARNING: Subroutine does not return */
    System_ShutdownHandler(local_28,extraout_EDX);
  }
  local_14 = 0xf;
  local_18 = 0;
  local_28 = local_28 & 0xffffff00;
  local_8._0_1_ = 6;
  if (0xf < local_4c) {
                    /* WARNING: Subroutine does not return */
    System_ShutdownHandler(extraout_ECX,local_60);
  }
  *(undefined ***)this = &PTR_Enemy_ProcessLaserGuidedBomb_0052fd50;
  *(undefined ***)((int)this + 0x58) = &PTR_EmptyFunction_NoOp_0052fd30;
  *(int *)((int)this + 0x114) = param_1;
  local_4c = 0xf;
  local_50 = 0;
  local_60 = local_60 & 0xffffff00;
  UI_InitializeWidgetManager(this,*(undefined4 *)(param_1 + 0x92c));
  UI_Widget_SetCallback(this,*(int **)(param_1 + 0x928));
  UI_Widget_ProcessCallback(this,*(int **)(param_1 + 0x92c));
  puVar4 = (undefined4 *)SexyWidget_ApplyMatrix(local_74,0xff,0xff,0);
  SexyWidget_GetAnimationFrame(this,0,puVar4);
  puVar4 = (undefined4 *)SexyWidget_ApplyMatrix(local_74,0xc0,0xc0,0xc0);
  SexyWidget_GetAnimationFrame(this,1,puVar4);
  puVar4 = (undefined4 *)SexyWidget_ApplyMatrix(local_74,0,0,0);
  SexyWidget_GetAnimationFrame(this,3,puVar4);
  puVar4 = (undefined4 *)CreateColor(local_74,0x19,0x19,0x19,0x19);
  *(undefined4 *)((int)this + 0xe0) = *puVar4;
  *(undefined4 *)((int)this + 0xe4) = puVar4[1];
  *(undefined4 *)((int)this + 0xe8) = puVar4[2];
  *(undefined4 *)((int)this + 0xec) = puVar4[3];
  this_00 = operator_new(0x108);
  local_8._0_1_ = 0xb;
  if (this_00 == (void *)0x0) {
    puVar4 = (undefined4 *)0x0;
  }
  else {
    puVar4 = UIButton_Constructor
                       (this_00,*(int *)((int)this + 0x114),*(int *)((int)this + 0x114),0x37);
  }
  local_8 = CONCAT31(local_8._1_3_,6);
  *(undefined4 **)((int)this + 0x118) = puVar4;
  puVar4 = (undefined4 *)SexyWidget_ApplyMatrix(local_74,0x40,0xc0,0x40);
  UIButton_SetColor(*(void **)((int)this + 0x118),puVar4);
  pcVar1 = "CANCEL";
  do {
    pcVar5 = pcVar1;
    pcVar1 = pcVar5 + 1;
  } while (*pcVar5 != '\0');
  String_Assign((void *)(*(int *)((int)this + 0x118) + 0x5c),(_String_base *)"CANCEL",
                (uint)(pcVar5 + -0x52ccb8));
  *(undefined1 *)((int)this + 0x11c) = 0;
  *(undefined4 *)((int)this + 0x10) = 0x154;
  *(undefined4 *)((int)this + 0x14) = 0xf0;
  Weapon_ProcessFlakCannon(this,0x96,0x78,0x154,0xf0);
  ExceptionList = local_10;
  return (undefined4 *)this;
}


