/*
 * Function: Campaign_ProcessRegionTransition
 * Address: 00409f60
 * Category: enemies
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


int __fastcall Campaign_ProcessRegionTransition(int param_1,uint param_2,int param_3)

{
  undefined4 *puVar1;
  undefined4 *puVar2;
  int iVar3;
  uint uVar4;
  uint extraout_EDX;
  uint extraout_EDX_00;
  
  if (param_1 == param_3) {
    return param_1;
  }
  if (*(int *)(param_3 + 4) != 0) {
    param_2 = ((int)*(undefined4 **)(param_3 + 8) - *(int *)(param_3 + 4)) / 0x28;
    if (param_2 != 0) {
      puVar2 = *(undefined4 **)(param_1 + 4);
      if (puVar2 == (undefined4 *)0x0) {
        uVar4 = 0;
      }
      else {
        uVar4 = (*(int *)(param_1 + 8) - (int)puVar2) / 0x28;
      }
      if (param_2 <= uVar4) {
        puVar2 = MemoryCopy_Forward_40ByteObjects
                           (*(undefined4 **)(param_3 + 4),*(undefined4 **)(param_3 + 8),puVar2);
        ArrayDestroy_40ByteObjects(param_1,extraout_EDX,(int)puVar2,*(int *)(param_1 + 8));
        if (*(int *)(param_3 + 4) == 0) {
          *(undefined4 *)(param_1 + 8) = *(undefined4 *)(param_1 + 4);
          return param_1;
        }
        *(int *)(param_1 + 8) =
             *(int *)(param_1 + 4) + ((*(int *)(param_3 + 8) - *(int *)(param_3 + 4)) / 0x28) * 0x28
        ;
        return param_1;
      }
      if (puVar2 == (undefined4 *)0x0) {
        uVar4 = 0;
      }
      else {
        uVar4 = (*(int *)(param_1 + 0xc) - (int)puVar2) / 0x28;
      }
      if (param_2 <= uVar4) {
        iVar3 = Vector_Size_40ByteObjects(param_1);
        puVar1 = *(undefined4 **)(param_3 + 4) + iVar3 * 10;
        MemoryCopy_Forward_40ByteObjects_Wrapper(*(undefined4 **)(param_3 + 4),puVar1,puVar2);
        puVar2 = ArrayCopyConstruct_40ByteObjects
                           (puVar1,*(undefined4 **)(param_3 + 8),*(undefined4 **)(param_1 + 8));
        *(undefined4 **)(param_1 + 8) = puVar2;
        return param_1;
      }
      ArrayDestroy_40ByteObjects(param_1,uVar4,(int)puVar2,*(int *)(param_1 + 8));
                    /* WARNING: Subroutine does not return */
      System_ShutdownHandler(*(int *)(param_1 + 4),extraout_EDX_00);
    }
  }
  PowerUp_ProcessSpreadShot(param_1,param_2);
  return param_1;
}


