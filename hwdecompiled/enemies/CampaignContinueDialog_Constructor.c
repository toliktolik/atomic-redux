/*
 * Function: CampaignContinueDialog_Constructor
 * Address: 0041d800
 * Category: enemies
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


undefined4 * __thiscall CampaignContinueDialog_Constructor(void *this,void *param_1)

{
  int iVar1;
  char *pcVar2;
  undefined4 *puVar3;
  void *pvVar4;
  char *pcVar5;
  int extraout_ECX;
  int extraout_ECX_00;
  uint extraout_EDX;
  undefined8 uVar6;
  _String_base local_84 [4];
  uint local_80;
  undefined4 local_70;
  uint local_6c;
  undefined1 local_68 [4];
  uint local_64;
  undefined4 local_54;
  uint local_50;
  _String_base local_4c [4];
  uint local_48;
  undefined4 local_38;
  uint local_34;
  _String_base local_30 [4];
  uint local_2c;
  undefined1 local_24 [12];
  uint local_18;
  void *local_14;
  void *local_10;
  undefined *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &DAT_00510b69;
  local_10 = ExceptionList;
  local_6c = 0xf;
  local_70 = 0;
  local_80 = local_80 & 0xffffff00;
  pcVar2 = "";
  do {
    pcVar5 = pcVar2;
    pcVar2 = pcVar5 + 1;
  } while (*pcVar5 != '\0');
  ExceptionList = &local_10;
  local_14 = this;
  String_Assign(local_84,(_String_base *)&DAT_0052c7cf,(uint)(pcVar5 + -0x52c7cf));
  local_50 = 0xf;
  local_8 = 0;
  local_54 = 0;
  local_64 = local_64 & 0xffffff00;
  pcVar2 = "";
  do {
    pcVar5 = pcVar2;
    pcVar2 = pcVar5 + 1;
  } while (*pcVar5 != '\0');
  String_Assign(local_68,(_String_base *)&DAT_0052c7cf,(uint)(pcVar5 + -0x52c7cf));
  local_8._0_1_ = 1;
  local_34 = 0xf;
  local_38 = 0;
  local_48 = local_48 & 0xffffff00;
  pcVar2 = "MISSION MODE";
  do {
    pcVar5 = pcVar2;
    pcVar2 = pcVar5 + 1;
  } while (*pcVar5 != '\0');
  String_Assign(local_4c,(_String_base *)"MISSION MODE",(uint)(pcVar5 + -0x52cd20));
  local_8._0_1_ = 2;
  SexyWidget_ProcessScale
            (this,*(int *)(*(int *)((int)param_1 + 0x714) + 8),0,0x3b,1,local_4c,(uint)local_68,
             local_84,0);
  if (0xf < local_34) {
                    /* WARNING: Subroutine does not return */
    System_ShutdownHandler(extraout_ECX,local_48);
  }
  local_34 = 0xf;
  local_38 = 0;
  local_48 = local_48 & 0xffffff00;
  if (0xf < local_50) {
                    /* WARNING: Subroutine does not return */
    System_ShutdownHandler(extraout_ECX,extraout_EDX);
  }
  local_50 = 0xf;
  local_54 = 0;
  local_64 = local_64 & 0xffffff00;
  local_8._0_1_ = 4;
  if (0xf < local_6c) {
                    /* WARNING: Subroutine does not return */
    System_ShutdownHandler(local_80,extraout_EDX);
  }
  *(undefined ***)((int)this + 0x114) = &PTR_Algorithm_IterSwap_0052ca90;
  *(undefined ***)this = &PTR_Campaign_ProcessMissionSelect_0052cbe0;
  *(undefined ***)((int)this + 0x58) = &PTR_EmptyFunction_NoOp_0052cbc0;
  *(undefined ***)((int)this + 0x114) = &PTR_Algorithm_IterSwap_0052cbb0;
  *(void **)((int)this + 0x118) = param_1;
  local_6c = 0xf;
  local_70 = 0;
  local_80 = local_80 & 0xffffff00;
  GetBossIndex(param_1,(uint)*(ushort *)
                              (*(int *)((int)param_1 + 0xb40) * 0x60 +
                               *(int *)((int)param_1 + 0x148c) + 0x1c));
  uVar6 = Sound_SetPosition(local_30,
                            "Would you like to continue\nMission: %i - %s\n\nOr begin a new campaign?"
                           );
  local_8._0_1_ = 7;
  PowerUp_ProcessThunderstrike
            ((_String_base *)((int)this + 0xa0),(uint)((ulonglong)uVar6 >> 0x20),
             (_String_base *)uVar6,0,0xffffffff);
  local_8._0_1_ = 4;
  if (0xf < local_18) {
                    /* WARNING: Subroutine does not return */
    System_ShutdownHandler(extraout_ECX_00,local_2c);
  }
  UI_InitializeWidgetManager(this,*(undefined4 *)((int)param_1 + 0x92c));
  UI_Widget_SetCallback(this,*(int **)((int)param_1 + 0x928));
  UI_Widget_ProcessCallback(this,*(int **)((int)param_1 + 0x92c));
  puVar3 = (undefined4 *)SexyWidget_ApplyMatrix(local_24,0xff,0xff,0);
  SexyWidget_GetAnimationFrame(this,0,puVar3);
  puVar3 = (undefined4 *)SexyWidget_ApplyMatrix(local_24,0xc0,0xc0,0xc0);
  SexyWidget_GetAnimationFrame(this,1,puVar3);
  puVar3 = (undefined4 *)SexyWidget_ApplyMatrix(local_24,0,0,0);
  SexyWidget_GetAnimationFrame(this,3,puVar3);
  puVar3 = (undefined4 *)CreateColor(local_24,0x19,0x19,0x19,0x19);
  *(undefined4 *)((int)this + 0xe0) = *puVar3;
  *(undefined4 *)((int)this + 0xe4) = puVar3[1];
  *(undefined4 *)((int)this + 0xe8) = puVar3[2];
  *(undefined4 *)((int)this + 0xec) = puVar3[3];
  pvVar4 = operator_new(0x108);
  local_8._0_1_ = 8;
  if (pvVar4 == (void *)0x0) {
    puVar3 = (undefined4 *)0x0;
  }
  else {
    iVar1 = *(int *)((int)this + 0x118);
    if (*(int *)(iVar1 + 0x94c) == 0) {
      puVar3 = UIButton_Constructor(pvVar4,iVar1,0,0x3c);
    }
    else {
      puVar3 = UIButton_Constructor(pvVar4,iVar1,*(int *)(iVar1 + 0x94c) + 0x58,0x3c);
    }
  }
  local_8._0_1_ = 4;
  *(undefined4 **)((int)this + 0x11c) = puVar3;
  puVar3 = (undefined4 *)SexyWidget_ApplyMatrix(local_24,0x40,0xc0,0x40);
  UIButton_SetColor(*(void **)((int)this + 0x11c),puVar3);
  pcVar2 = "CONTINUE";
  do {
    pcVar5 = pcVar2;
    pcVar2 = pcVar5 + 1;
  } while (*pcVar5 != '\0');
  String_Assign((void *)(*(int *)((int)this + 0x11c) + 0x5c),(_String_base *)"CONTINUE",
                (uint)(pcVar5 + -0x52cccc));
  pvVar4 = operator_new(0x108);
  local_8._0_1_ = 9;
  if (pvVar4 == (void *)0x0) {
    puVar3 = (undefined4 *)0x0;
  }
  else {
    iVar1 = *(int *)((int)this + 0x118);
    if (*(int *)(iVar1 + 0x94c) == 0) {
      puVar3 = UIButton_Constructor(pvVar4,iVar1,0,0x3d);
    }
    else {
      puVar3 = UIButton_Constructor(pvVar4,iVar1,*(int *)(iVar1 + 0x94c) + 0x58,0x3d);
    }
  }
  local_8._0_1_ = 4;
  *(undefined4 **)((int)this + 0x120) = puVar3;
  puVar3 = (undefined4 *)SexyWidget_ApplyMatrix(local_24,0x40,0xc0,0x40);
  UIButton_SetColor(*(void **)((int)this + 0x120),puVar3);
  pcVar2 = "NEW GAME";
  do {
    pcVar5 = pcVar2;
    pcVar2 = pcVar5 + 1;
  } while (*pcVar5 != '\0');
  String_Assign((void *)(*(int *)((int)this + 0x120) + 0x5c),(_String_base *)"NEW GAME",
                (uint)(pcVar5 + -0x52ccc0));
  pvVar4 = operator_new(0x108);
  local_8._0_1_ = 10;
  if (pvVar4 == (void *)0x0) {
    puVar3 = (undefined4 *)0x0;
  }
  else {
    iVar1 = *(int *)((int)this + 0x118);
    if (*(int *)(iVar1 + 0x94c) == 0) {
      puVar3 = UIButton_Constructor(pvVar4,iVar1,0,0x3e);
    }
    else {
      puVar3 = UIButton_Constructor(pvVar4,iVar1,*(int *)(iVar1 + 0x94c) + 0x58,0x3e);
    }
  }
  local_8 = CONCAT31(local_8._1_3_,4);
  *(undefined4 **)((int)this + 0x124) = puVar3;
  puVar3 = (undefined4 *)SexyWidget_ApplyMatrix(local_24,0xc0,0x40,0x40);
  UIButton_SetColor(*(void **)((int)this + 0x124),puVar3);
  pcVar2 = "CANCEL";
  do {
    pcVar5 = pcVar2;
    pcVar2 = pcVar5 + 1;
  } while (*pcVar5 != '\0');
  String_Assign((void *)(*(int *)((int)this + 0x124) + 0x5c),(_String_base *)"CANCEL",
                (uint)(pcVar5 + -0x52ccb8));
  *(undefined4 *)((int)this + 0x10) = 0x208;
  *(undefined4 *)((int)this + 0x14) = 0xe6;
  Dialog_LayoutThreeButtons(this,0x3c,0x7d,0x208,0xe6);
  ExceptionList = local_10;
  return (undefined4 *)this;
}


