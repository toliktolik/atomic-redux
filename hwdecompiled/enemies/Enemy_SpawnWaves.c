/*
 * Function: Enemy_SpawnWaves
 * Address: 00411540
 * Category: enemies
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


void __thiscall Enemy_SpawnWaves(void *this,int param_1,int param_2)

{
  double dVar1;
  double *pdVar2;
  undefined4 *puVar3;
  int iVar4;
  ulonglong uVar5;
  undefined4 uVar6;
  undefined4 uVar7;
  int iVar8;
  int iVar9;
  int iVar10;
  int iVar11;
  int iVar12;
  undefined1 uVar13;
  int iVar14;
  int local_c;
  int iStack_8;
  
  if (-param_2 == param_2 || -param_2 < param_2) {
    iVar4 = param_2 * 2;
    param_2 = param_1 + param_2 * -0x14;
    param_1 = iVar4 + 1;
    do {
      pdVar2 = (double *)operator_new(0x10);
      *(undefined4 *)(pdVar2 + 1) = 1000;
      puVar3 = (undefined4 *)operator_new(0xc);
      uVar6 = *(undefined4 *)((int)this + 0x22c);
      puVar3[1] = 0;
      dVar1 = (double)param_2;
      puVar3[2] = uVar6;
      *(undefined4 **)(*(int *)((int)this + 0x22c) + 4) = puVar3;
      *puVar3 = pdVar2;
      *(undefined4 **)((int)this + 0x22c) = puVar3;
      *(int *)((int)this + 0x230) = *(int *)((int)this + 0x230) + 1;
      *pdVar2 = dVar1;
      iVar4 = Collision_HandleEnemyHit();
      iVar14 = -1;
      uVar13 = 1;
      iVar12 = 100;
      iVar11 = -0x40200000;
      iVar10 = 0;
      iVar9 = -0x40466667;
      iVar8 = -0x66666666;
      uVar7 = 0x3ff00000;
      uVar6 = 0;
      *(int *)((int)pdVar2 + 0xc) = iVar4 % 5;
      iVar4 = *(int *)((int)this + 0x5c);
      uVar5 = Math_FloatToUInt64();
      iStack_8 = (int)((ulonglong)dVar1 >> 0x20);
      local_c = SUB84(dVar1,0);
      ParticleEffects_CreateParticles
                ((int)this + 0x2e8,*(int *)(iVar4 + 0x710),local_c,iStack_8,0,0x407cc000,-1.0,-1.0,
                 (int)uVar5,(double)CONCAT44(uVar7,uVar6),iVar8,iVar9,iVar10,iVar11,iVar12,uVar13,
                 iVar14);
      iVar4 = *(int *)((int)this + 0x5c);
      iVar14 = -1;
      uVar13 = 0;
      iVar12 = 200;
      iVar11 = 0x40080000;
      iVar10 = 0;
      iVar9 = 0x3fa99999;
      iVar8 = -0x66666666;
      uVar7 = 0x3ff00000;
      uVar6 = 0;
      uVar5 = Math_FloatToUInt64();
      ParticleEffects_CreateParticles
                ((int)this + 0x2e8,*(int *)(iVar4 + 0x6f4),local_c,iStack_8,0,0x407cc000,-1.0,-2.0,
                 (int)uVar5,(double)CONCAT44(uVar7,uVar6),iVar8,iVar9,iVar10,iVar11,iVar12,uVar13,
                 iVar14);
      param_2 = param_2 + 0x14;
      param_1 = param_1 + -1;
    } while (param_1 != 0);
  }
  return;
}


