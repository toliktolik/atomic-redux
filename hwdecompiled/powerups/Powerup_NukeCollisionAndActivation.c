/*
 * Function: Powerup_NukeCollisionAndActivation
 * Address: 00447890
 * Category: powerups
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void __fastcall Powerup_NukeCollisionAndActivation(int param_1)

{
  double dVar1;
  int *piVar2;
  int iVar3;
  int iVar4;
  undefined4 uVar5;
  int iVar6;
  ulonglong uVar7;
  int iVar8;
  char cVar9;
  int iVar10;
  int iVar11;
  int iVar12;
  int iVar13;
  char cVar14;
  char cVar15;
  undefined4 uVar16;
  
  iVar3 = *(int *)(param_1 + 0x50) + -0x18;
  *(int *)(param_1 + 0x50) = iVar3;
  if (iVar3 < 0) {
    *(undefined4 *)(param_1 + 0x50) = 0;
  }
  iVar3 = *(int *)(param_1 + 0x58);
  if ((*(int *)(iVar3 + 0x80) == 0) &&
     ((iVar6 = *(int *)(iVar3 + 0x5c), *(int *)(iVar6 + 0x96c) != 0 ||
      (_DAT_0052a0c0 < *(double *)(iVar3 + 0x148))))) {
    cVar15 = '\x01';
    cVar14 = '\0';
    iVar12 = 0;
    uVar7 = Math_FloatToUInt64();
    iVar10 = (int)uVar7;
    iVar4 = *(int *)(iVar3 + 0x98) + 2;
    uVar7 = Math_FloatToUInt64();
    iVar11 = (int)uVar7;
    iVar3 = *(int *)(iVar6 + 0x708);
    cVar9 = *(char *)(param_1 + 0x40);
    iVar8 = 0;
    uVar7 = Math_FloatToUInt64();
    iVar6 = (int)uVar7;
    uVar7 = Math_FloatToUInt64();
    iVar13 = (int)uVar7;
    uVar7 = Math_FloatToUInt64();
    uVar5 = Collision_PixelPerfectDetection
                      (*(void **)(param_1 + 0x5c),(int)uVar7,iVar13,iVar6,iVar8,cVar9,iVar3,iVar11,
                       iVar4,iVar10,iVar12,cVar14,cVar15);
    if ((char)uVar5 != '\0') {
      uVar16 = 0;
      uVar5 = 0;
      iVar13 = 0;
      iVar11 = 0;
      iVar4 = -0x40100000;
      iVar10 = 0;
      iVar3 = Level_InitializePetrovakia(*(int *)(param_1 + 0x5c));
      iVar3 = iVar3 + 0x28;
      iVar6 = SexyWidget_GetTextureId(*(int *)(param_1 + 0x5c));
      SexyAppFramework_HandleActivation
                (*(void **)(param_1 + 0x58),*(int *)(param_1 + 0x10),*(int *)(param_1 + 0x14),
                 *(int *)(param_1 + 0x18),*(int *)(param_1 + 0x1c),iVar6 + 0x28,iVar3,iVar10,iVar4,
                 iVar11,iVar13,(double)CONCAT44(uVar16,uVar5));
      dVar1 = *(double *)(*(int *)(param_1 + 0x58) + 0x148);
      if (dVar1 < _DAT_0052a0c0 != (dVar1 == _DAT_0052a0c0)) {
        iVar3 = *(int *)(*(int *)(param_1 + 0x58) + 0x5c);
        *(int *)(iVar3 + 0x96c) = *(int *)(iVar3 + 0x96c) + -1;
        piVar2 = *(int **)(*(int *)(param_1 + 0x58) + 0x5c);
        if (piVar2[0x25b] == 0) {
          iVar3 = *piVar2;
          uVar7 = Math_FloatToUInt64();
          (**(code **)(iVar3 + 0xb8))(0x59,(int)uVar7);
        }
        iVar3 = *(int *)(param_1 + 0x58);
        *(undefined4 *)(iVar3 + 0x148) = 0;
        *(undefined4 *)(iVar3 + 0x14c) = 0x40220000;
        iVar3 = **(int **)(*(int *)(param_1 + 0x58) + 0x5c);
        uVar7 = Math_FloatToUInt64();
        (**(code **)(iVar3 + 0xb8))(0xe,(int)uVar7);
      }
      Boss_ProcessFinalSecretWeapon
                ((void *)(*(int *)(param_1 + 0x58) + 0x214),*(int **)(param_1 + 0x60));
    }
  }
  return;
}


