/*
 * Function: Animation_ProcessVodkavaniaWinterEffects
 * Address: 00430e40
 * Category: animation
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


void __thiscall Animation_ProcessVodkavaniaWinterEffects(void *this,undefined1 *param_1)

{
  undefined1 *this_00;
  uint uVar1;
  int iVar2;
  uint extraout_EDX;
  uint extraout_EDX_00;
  uint extraout_EDX_01;
  uint uVar3;
  undefined1 local_4c [28];
  _String_base local_30 [28];
  undefined4 local_14;
  void *local_10;
  undefined4 uStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  uStack_c = 0x511faa;
  local_10 = ExceptionList;
  local_14 = 0;
  ExceptionList = &local_10;
  (**(code **)(**(int **)((int)this + 0xc4) + 0xb8))();
  switch(param_1) {
  case (undefined1 *)0x16:
    iVar2 = *(int *)(*(int *)((int)this + 0xd8) + 0xa4);
    if (iVar2 == 0) {
      param_1 = (undefined1 *)operator_new(0x130);
      local_8 = 0;
      if (param_1 != (undefined1 *)0x0) {
        Settings_ApplyChanges(param_1,*(int *)((int)this + 0xc4),'\0',0);
      }
      local_8 = 0xffffffff;
      (**(code **)(**(int **)((int)this + 0xc4) + 0x100))();
      UserDataSystem_SaveUserProfiles(*(void **)((int)this + 0xc4));
      ExceptionList = local_10;
      return;
    }
    *(int *)(*(int *)((int)this + 0xc4) + 0xb40) = iVar2 + -1;
    (**(code **)(**(int **)((int)this + 0xc4) + 0x108))();
    UserDataSystem_SaveUserProfiles(*(void **)((int)this + 0xc4));
    ExceptionList = local_10;
    return;
  case (undefined1 *)0x17:
    goto switchD_00430e8d_caseD_17;
  case (undefined1 *)0x18:
    param_1 = (undefined1 *)operator_new(0x130);
    local_8 = 1;
    if (param_1 != (undefined1 *)0x0) {
      Settings_ApplyChanges
                (param_1,*(int *)((int)this + 0xc4),'\x01',*(undefined4 *)((int)this + 0xe0));
    }
    local_8 = 0xffffffff;
    (**(code **)(**(int **)((int)this + 0xc4) + 0x100))();
    ExceptionList = local_10;
    return;
  case (undefined1 *)0x19:
    this_00 = (undefined1 *)operator_new(0x124);
    local_8 = 2;
    uVar3 = extraout_EDX;
    param_1 = this_00;
    if (this_00 != (undefined1 *)0x0) {
      Level_InitializeDictastroika(local_4c,"Are you sure you want to delete this user\'s profile?")
      ;
      local_8 = CONCAT31(local_8._1_3_,3);
      local_14 = 1;
      Level_InitializeDictastroika(local_30,"DELETE PROFILE");
      local_8 = 4;
      local_14 = 3;
      Dialog_YesNoConstructor
                (this_00,*(int *)((int)this + 0xc4),-(uint)(this != (void *)0x58) & (uint)this,
                 local_30,(uint)local_4c,0x140,0xbe,0,0);
      String_Destructor((int)local_30,extraout_EDX_00);
      uVar3 = extraout_EDX_01;
    }
    local_8 = 0xffffffff;
    if (this_00 != (undefined1 *)0x0) {
      String_Destructor((int)local_4c,uVar3);
    }
    (**(code **)(**(int **)((int)this + 0xc4) + 0x100))();
    ExceptionList = local_10;
    return;
  default:
    ExceptionList = local_10;
    return;
  case (undefined1 *)0x21:
    (**(code **)(**(int **)((int)this + 0xc4) + 0x108))();
    param_1 = &stack0xffffff98;
    Animation_ProcessZamblamiaVolcano
              ((void *)(*(int *)((int)this + 0xc4) + 0x1488),&param_1,
               (undefined4 *)
               (*(int *)((int)this + 0xe0) * 0x60 + *(int *)(*(int *)((int)this + 0xc4) + 0x148c)));
    iVar2 = *(int *)((int)this + 0xc4);
    uVar3 = *(uint *)(iVar2 + 0xb40);
    uVar1 = Vector_Size_96ByteObjects(iVar2 + 0x1488);
    if (uVar1 <= uVar3) {
      *(uint *)(iVar2 + 0xb40) = uVar3 - 1;
      if (0 < *(int *)((int)this + 0xe0)) {
        *(int *)((int)this + 0xe0) = *(int *)((int)this + 0xe0) + -1;
      }
    }
    UserDataSystem_SaveUserProfiles(*(void **)((int)this + 0xc4));
    UserProfileSelector_PopulateList((int)this + -0x58);
    iVar2 = Vector_Size_96ByteObjects(*(int *)((int)this + 0xc4) + 0x1488);
    if (iVar2 != 0) {
      ExceptionList = local_10;
      return;
    }
    param_1 = (undefined1 *)operator_new(0x130);
    local_8 = 7;
    if (param_1 != (undefined1 *)0x0) {
      Settings_ApplyChanges(param_1,*(int *)((int)this + 0xc4),'\0',0);
    }
    local_8 = 0xffffffff;
    (**(code **)(**(int **)((int)this + 0xc4) + 0x100))(0x1b);
switchD_00430e8d_caseD_17:
    (**(code **)(**(int **)((int)this + 0xc4) + 0x108))();
    ExceptionList = local_10;
    return;
  case (undefined1 *)0x22:
    (**(code **)(**(int **)((int)this + 0xc4) + 0x108))();
    ExceptionList = local_10;
    return;
  }
}


