/*
 * Function: AnimationSystem_LoadAnimsXML
 * Address: 0040c1d0
 * Category: animation
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


/* WARNING: Type propagation algorithm not settling */

void AnimationSystem_LoadAnimsXML(void)

{
  int iVar1;
  int iVar2;
  int *piVar3;
  undefined1 uVar4;
  char cVar5;
  undefined4 *puVar6;
  uint uVar7;
  char *pcVar8;
  int iVar9;
  long lVar10;
  void *pvVar11;
  _String_base *p_Var12;
  undefined4 uVar13;
  char *pcVar14;
  char *pcVar15;
  int extraout_ECX;
  int extraout_ECX_00;
  int extraout_ECX_01;
  int extraout_ECX_02;
  int extraout_ECX_03;
  int extraout_ECX_04;
  int extraout_ECX_05;
  int extraout_ECX_06;
  int extraout_ECX_07;
  int extraout_ECX_08;
  int extraout_ECX_09;
  int extraout_ECX_10;
  int extraout_ECX_11;
  int extraout_ECX_12;
  int extraout_ECX_13;
  int extraout_ECX_14;
  int extraout_ECX_15;
  undefined2 extraout_DX;
  uint extraout_EDX;
  uint extraout_EDX_00;
  undefined1 *extraout_EDX_01;
  undefined1 *puVar16;
  uint extraout_EDX_02;
  uint extraout_EDX_03;
  uint extraout_EDX_04;
  uint extraout_EDX_05;
  uint extraout_EDX_06;
  uint extraout_EDX_07;
  uint extraout_EDX_08;
  uint extraout_EDX_09;
  uint extraout_EDX_10;
  uint extraout_EDX_11;
  uint extraout_EDX_12;
  uint extraout_EDX_13;
  char *extraout_EDX_14;
  uint extraout_EDX_15;
  char *extraout_EDX_16;
  char *extraout_EDX_17;
  undefined1 *extraout_EDX_18;
  undefined1 *extraout_EDX_19;
  undefined1 *extraout_EDX_20;
  uint extraout_EDX_21;
  uint extraout_EDX_22;
  uint extraout_EDX_23;
  uint extraout_EDX_24;
  uint extraout_EDX_25;
  uint extraout_EDX_26;
  uint extraout_EDX_27;
  undefined4 *unaff_ESI;
  byte *******pppppppbVar17;
  undefined4 *unaff_EDI;
  byte *pbVar18;
  bool bVar19;
  bool bVar20;
  double dVar21;
  uint unaff_retaddr;
  void *local_264 [4];
  int local_254;
  double local_24c;
  long local_244;
  double local_23c;
  undefined1 local_234;
  undefined1 local_233;
  undefined1 local_230 [4];
  int local_22c;
  undefined4 *local_228;
  int local_224;
  uint local_21c;
  undefined1 local_218;
  _String_base local_214 [4];
  uint local_210;
  undefined4 local_200;
  uint local_1fc;
  undefined1 local_1f8 [4];
  uint local_1f4;
  undefined4 local_1e4;
  uint local_1e0;
  undefined1 local_1dc [4];
  uint local_1d8;
  undefined4 local_1c8;
  uint local_1c4;
  undefined1 local_1c0 [4];
  uint local_1bc;
  undefined4 local_1ac;
  uint local_1a8;
  undefined1 local_1a4 [4];
  uint local_1a0;
  undefined4 local_190;
  uint local_18c;
  undefined1 local_188 [4];
  uint local_184;
  undefined4 local_174;
  uint local_170;
  _String_base local_16c [4];
  uint local_168;
  undefined4 local_158;
  uint local_154;
  _String_base local_150 [4];
  uint local_14c;
  undefined4 local_13c;
  uint local_138;
  _String_base local_134 [4];
  uint local_130;
  undefined4 local_120;
  uint local_11c;
  int local_118 [8];
  undefined1 local_f8 [4];
  byte *******local_f4 [4];
  char *local_e4;
  uint local_e0;
  undefined1 local_c0 [24];
  double local_a8;
  _String_base local_a0 [4];
  uint local_9c;
  undefined4 local_8c;
  uint local_88;
  _String_base local_84 [4];
  uint local_80;
  undefined4 local_70;
  uint local_6c;
  _String_base local_68 [4];
  uint local_64;
  undefined4 local_54;
  uint local_50;
  undefined1 local_4c [4];
  int local_48;
  int local_44;
  undefined4 local_40;
  _String_base local_3c [4];
  uint local_38;
  undefined4 local_28;
  uint local_24;
  int *local_20;
  undefined4 *local_1c;
  undefined4 *local_18;
  uint local_14;
  void *local_10;
  undefined4 uStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  uStack_c = 0x50fe45;
  local_10 = ExceptionList;
  local_14 = DAT_00569f5c ^ unaff_retaddr;
  ExceptionList = &local_10;
  local_18 = (undefined4 *)operator_new(0x74);
  local_8 = 0;
  if (local_18 == (undefined4 *)0x0) {
    puVar6 = (undefined4 *)0x0;
  }
  else {
    puVar6 = (undefined4 *)ObjectType1_Constructor(local_18);
  }
  local_8 = 0xffffffff;
  local_24 = 0xf;
  local_28 = 0;
  local_38 = local_38 & 0xffffff00;
  pcVar15 = "Images\\Anims\\anims.xml";
  do {
    pcVar8 = pcVar15;
    pcVar15 = pcVar8 + 1;
  } while (*pcVar8 != '\0');
  local_1c = puVar6;
  String_Assign(local_3c,(_String_base *)"Images\\Anims\\anims.xml",(uint)(pcVar8 + -0x52a788));
  local_8 = 1;
  Image_UpdateTexture((int)puVar6,extraout_DX,(int)local_3c);
  local_8 = 0xffffffff;
  if (0xf < local_24) {
                    /* WARNING: Subroutine does not return */
    System_ShutdownHandler(local_38,extraout_EDX);
  }
  WeaponBomb_ProcessBurstingRocket((int)local_118);
  local_48 = 0;
  local_44 = 0;
  local_40 = 0;
  local_22c = 0;
  local_228 = (undefined4 *)0x0;
  local_224 = 0;
  local_8 = 4;
  cVar5 = XML_ParseDocument((int)puVar6,(uint)local_118,local_118);
  do {
    if (cVar5 == '\0') {
      if (puVar6 != (undefined4 *)0x0) {
        (**(code **)*puVar6)(1);
      }
LAB_0040c2d3:
      local_8 = 0xffffffff;
      PowerUp_ProcessNuke((int)local_118);
      ExceptionList = local_10;
      Exception_SetMessage((void *)(local_14 ^ unaff_retaddr),unaff_EDI,unaff_ESI);
      return;
    }
    if (local_118[0] == 1) {
      pcVar15 = "Level";
      do {
        pcVar8 = pcVar15;
        pcVar15 = pcVar8 + 1;
      } while (*pcVar8 != '\0');
      uVar7 = String_Compare(local_f8,0,(uint)local_e4,(_String_base *)"Level",
                             (uint)(pcVar8 + -0x52a528));
      if (uVar7 == 0) {
        cVar5 = XML_ParseDocument((int)puVar6,extraout_EDX_00,local_118);
        puVar16 = extraout_EDX_01;
        while (cVar5 != '\0') {
          if (local_118[0] == 1) {
            puVar16 = &DAT_0052a781;
            pcVar15 = "Anim";
            do {
              pcVar8 = pcVar15;
              pcVar15 = pcVar8 + 1;
            } while (*pcVar8 != '\0');
            pcVar8 = pcVar8 + -0x52a780;
            if (local_e4 != (char *)0x0) {
              pcVar15 = local_e4;
              if (pcVar8 <= local_e4) {
                pcVar15 = pcVar8;
              }
              pppppppbVar17 = local_f4[0];
              if (local_e0 < 0x10) {
                pppppppbVar17 = (byte *******)local_f4;
              }
              bVar19 = false;
              puVar16 = (undefined1 *)0x0;
              bVar20 = true;
              pbVar18 = &DAT_0052a780;
              do {
                if (pcVar15 == (char *)0x0) break;
                pcVar15 = pcVar15 + -1;
                bVar19 = *(byte *)pppppppbVar17 < *pbVar18;
                bVar20 = *(byte *)pppppppbVar17 == *pbVar18;
                pppppppbVar17 = (byte *******)((int)pppppppbVar17 + 1);
                pbVar18 = pbVar18 + 1;
              } while (bVar20);
              if (!bVar20) {
                puVar16 = (undefined1 *)((1 - (uint)bVar19) - (uint)(bVar19 != 0));
              }
              if (puVar16 != (undefined1 *)0x0) goto LAB_0040cdaa;
            }
            if ((pcVar8 <= local_e4) &&
               (puVar16 = (undefined1 *)(uint)(local_e4 != pcVar8), puVar16 == (undefined1 *)0x0)) {
              local_1a8 = 0xf;
              local_1ac = 0;
              local_1bc = local_1bc & 0xffffff00;
              pcVar15 = "speed";
              do {
                pcVar8 = pcVar15;
                pcVar15 = pcVar8 + 1;
              } while (*pcVar8 != '\0');
              String_Assign(local_1c0,(_String_base *)"speed",(uint)(pcVar8 + -0x52a778));
              local_8._0_1_ = 5;
              iVar9 = StringMap_LookupAndConcatenate
                                (local_c0,(uint)local_1c0,(_String_base *)local_1c0);
              if (*(uint *)(iVar9 + 0x18) < 0x10) {
                pcVar15 = (char *)(iVar9 + 4);
              }
              else {
                pcVar15 = *(char **)(iVar9 + 4);
              }
              local_a8 = _atof(pcVar15);
              local_8._0_1_ = 4;
              if (0xf < local_1a8) {
                    /* WARNING: Subroutine does not return */
                System_ShutdownHandler(extraout_ECX,extraout_EDX_02);
              }
              local_1a8 = 0xf;
              local_1ac = 0;
              local_1bc = local_1bc & 0xffffff00;
              local_1fc = 0xf;
              local_200 = 0;
              local_210 = local_210 & 0xffffff00;
              pcVar15 = "plane";
              do {
                pcVar8 = pcVar15;
                pcVar15 = pcVar8 + 1;
              } while (*pcVar8 != '\0');
              String_Assign(local_214,(_String_base *)"plane",(uint)(pcVar8 + -0x52a770));
              local_8._0_1_ = 6;
              iVar9 = StringMap_LookupAndConcatenate(local_c0,extraout_EDX_03,local_214);
              if (*(uint *)(iVar9 + 0x18) < 0x10) {
                pcVar15 = (char *)(iVar9 + 4);
              }
              else {
                pcVar15 = *(char **)(iVar9 + 4);
              }
              lVar10 = _atol(pcVar15);
              local_254 = lVar10 + -1;
              local_8._0_1_ = 4;
              if (0xf < local_1fc) {
                    /* WARNING: Subroutine does not return */
                System_ShutdownHandler(extraout_ECX_00,local_210);
              }
              local_1fc = 0xf;
              local_200 = 0;
              local_210 = local_210 & 0xffffff00;
              local_138 = 0xf;
              local_13c = 0;
              local_14c = local_14c & 0xffffff00;
              pcVar15 = "offset";
              do {
                pcVar8 = pcVar15;
                pcVar15 = pcVar8 + 1;
              } while (*pcVar8 != '\0');
              String_Assign(local_150,(_String_base *)"offset",(uint)(pcVar8 + -0x52a768));
              local_8._0_1_ = 7;
              iVar9 = StringMap_LookupAndConcatenate(local_c0,extraout_EDX_04,local_150);
              if (*(uint *)(iVar9 + 0x18) < 0x10) {
                pcVar15 = (char *)(iVar9 + 4);
              }
              else {
                pcVar15 = *(char **)(iVar9 + 4);
              }
              local_18 = (undefined4 *)_atol(pcVar15);
              local_24c = (double)(int)local_18;
              local_8._0_1_ = 4;
              if (0xf < local_138) {
                    /* WARNING: Subroutine does not return */
                System_ShutdownHandler(local_14c,extraout_EDX_05);
              }
              local_138 = 0xf;
              local_13c = 0;
              local_14c = local_14c & 0xffffff00;
              local_170 = 0xf;
              local_174 = 0;
              local_184 = local_184 & 0xffffff00;
              pcVar15 = "y";
              do {
                pcVar8 = pcVar15;
                pcVar15 = pcVar8 + 1;
              } while (*pcVar8 != '\0');
              String_Assign(local_188,(_String_base *)&DAT_0052a764,(uint)(pcVar8 + -0x52a764));
              local_8._0_1_ = 8;
              iVar9 = StringMap_LookupAndConcatenate
                                (local_c0,(uint)local_188,(_String_base *)local_188);
              if (*(uint *)(iVar9 + 0x18) < 0x10) {
                pcVar15 = (char *)(iVar9 + 4);
              }
              else {
                pcVar15 = *(char **)(iVar9 + 4);
              }
              local_244 = _atol(pcVar15);
              local_8._0_1_ = 4;
              if (0xf < local_170) {
                    /* WARNING: Subroutine does not return */
                System_ShutdownHandler(extraout_ECX_01,extraout_EDX_06);
              }
              local_170 = 0xf;
              local_174 = 0;
              local_184 = local_184 & 0xffffff00;
              local_11c = 0xf;
              local_120 = 0;
              local_130 = local_130 & 0xffffff00;
              pcVar15 = "mx";
              do {
                pcVar8 = pcVar15;
                pcVar15 = pcVar8 + 1;
              } while (*pcVar8 != '\0');
              String_Assign(local_134,(_String_base *)&DAT_0052a760,(uint)(pcVar8 + -0x52a760));
              local_8._0_1_ = 9;
              iVar9 = StringMap_LookupAndConcatenate(local_c0,extraout_EDX_07,local_134);
              if (*(uint *)(iVar9 + 0x18) < 0x10) {
                pcVar15 = (char *)(iVar9 + 4);
              }
              else {
                pcVar15 = *(char **)(iVar9 + 4);
              }
              local_23c = _atof(pcVar15);
              local_8._0_1_ = 4;
              if (0xf < local_11c) {
                    /* WARNING: Subroutine does not return */
                System_ShutdownHandler(extraout_ECX_02,local_130);
              }
              local_11c = 0xf;
              local_120 = 0;
              local_130 = local_130 & 0xffffff00;
              local_18 = (undefined4 *)operator_new(0x20);
              local_8._0_1_ = 10;
              if (local_18 == (undefined4 *)0x0) {
                pvVar11 = (void *)0x0;
              }
              else {
                pvVar11 = (void *)Sprite_GetWidth(local_18,local_20);
              }
              local_8._0_1_ = 4;
              local_1e0 = 0xf;
              local_1e4 = 0;
              local_1f4 = local_1f4 & 0xffffff00;
              pcVar15 = "frames";
              do {
                pcVar8 = pcVar15;
                pcVar15 = pcVar8 + 1;
              } while (*pcVar8 != '\0');
              local_264[0] = pvVar11;
              String_Assign(local_1f8,(_String_base *)"frames",(uint)(pcVar8 + -0x52a758));
              local_8._0_1_ = 0xb;
              iVar9 = StringMap_LookupAndConcatenate
                                (local_c0,(uint)local_1f8,(_String_base *)local_1f8);
              if (*(uint *)(iVar9 + 0x18) < 0x10) {
                pcVar15 = (char *)(iVar9 + 4);
              }
              else {
                pcVar15 = *(char **)(iVar9 + 4);
              }
              puVar6 = (undefined4 *)_atol(pcVar15);
              local_8._0_1_ = 4;
              local_18 = puVar6;
              if (0xf < local_1e0) {
                    /* WARNING: Subroutine does not return */
                System_ShutdownHandler(extraout_ECX_03,extraout_EDX_08);
              }
              local_1e0 = 0xf;
              local_154 = 0xf;
              local_1e4 = 0;
              local_1f4 = local_1f4 & 0xffffff00;
              local_158 = 0;
              local_168 = local_168 & 0xffffff00;
              pcVar15 = "name";
              do {
                pcVar8 = pcVar15;
                pcVar15 = pcVar8 + 1;
              } while (*pcVar8 != '\0');
              String_Assign(local_16c,(_String_base *)&DAT_0052a4f0,(uint)(pcVar8 + -0x52a4f0));
              local_8._0_1_ = 0xc;
              iVar9 = StringMap_LookupAndConcatenate(local_c0,extraout_EDX_09,local_16c);
              p_Var12 = Survival_LoadConfiguration(local_a0,(_String_base *)"Images\\Anims\\",iVar9)
              ;
              local_8._0_1_ = 0xd;
              uVar13 = Sprite_GetHeight(pvVar11,p_Var12,(int)puVar6,1);
              bVar19 = (char)uVar13 == '\0';
              if (0xf < local_88) {
                    /* WARNING: Subroutine does not return */
                System_ShutdownHandler(extraout_ECX_04,extraout_EDX_10);
              }
              local_88 = 0xf;
              local_8c = 0;
              local_9c = local_9c & 0xffffff00;
              local_8._0_1_ = 4;
              uVar4 = (undefined1)local_8;
              local_8._0_1_ = 4;
              if (0xf < local_154) {
                    /* WARNING: Subroutine does not return */
                System_ShutdownHandler(local_168,extraout_EDX_10);
              }
              local_154 = 0xf;
              local_158 = 0;
              local_168 = local_168 & 0xffffff00;
              if (bVar19) {
                local_24 = 0xf;
                local_28 = 0;
                local_38 = local_38 & 0xffffff00;
                pcVar15 = "name";
                do {
                  pcVar8 = pcVar15;
                  pcVar15 = pcVar8 + 1;
                } while (*pcVar8 != '\0');
                local_8._0_1_ = uVar4;
                String_Assign(local_3c,(_String_base *)&DAT_0052a4f0,(uint)(pcVar8 + -0x52a4f0));
                local_8._0_1_ = 0xe;
                iVar9 = StringMap_LookupAndConcatenate(local_c0,extraout_EDX_24,local_3c);
                Survival_LoadConfiguration(local_84,(_String_base *)"Images\\Anims\\",iVar9);
                local_8._0_1_ = 0x10;
                if (0xf < local_24) {
                    /* WARNING: Subroutine does not return */
                  System_ShutdownHandler(extraout_ECX_12,local_38);
                }
                local_28 = 0;
                local_24 = 0xf;
                local_50 = 0xf;
                local_38 = local_38 & 0xffffff00;
                local_54 = 0;
                local_64 = local_64 & 0xffffff00;
                pcVar15 = "Message";
                do {
                  pcVar8 = pcVar15;
                  pcVar15 = pcVar8 + 1;
                } while (*pcVar8 != '\0');
                String_Assign(local_68,(_String_base *)"Message",(uint)(pcVar8 + -0x52a3dc));
                local_8._0_1_ = 0x11;
                p_Var12 = Survival_LoadConfiguration
                                    (local_a0,(_String_base *)"Failed to load image: ",(int)local_84
                                    );
                local_8._0_1_ = 0x12;
                (**(code **)(*local_20 + 0x6c))(p_Var12,local_68,0);
                if (0xf < local_88) {
                    /* WARNING: Subroutine does not return */
                  System_ShutdownHandler(extraout_ECX_13,local_9c);
                }
                local_88 = 0xf;
                local_8c = 0;
                local_9c = local_9c & 0xffffff00;
                local_8 = CONCAT31(local_8._1_3_,0x10);
                if (0xf < local_50) {
                    /* WARNING: Subroutine does not return */
                  System_ShutdownHandler(extraout_ECX_13,extraout_EDX_25);
                }
                (**(code **)(*local_20 + 0x98))();
                iVar9 = local_44;
                if (0xf < local_6c) {
                    /* WARNING: Subroutine does not return */
                  System_ShutdownHandler(extraout_ECX_14,extraout_EDX_26);
                }
                local_6c = 0xf;
                local_70 = 0;
                local_80 = local_80 & 0xffffff00;
                iVar1 = extraout_ECX_14;
                uVar7 = extraout_EDX_26;
                iVar2 = local_48;
                if (local_48 != 0) {
                  for (; iVar2 != iVar9; iVar2 = iVar2 + 0x50) {
                    SingleDataStructure_Destructor(iVar2,uVar7,0);
                    iVar1 = extraout_ECX_15;
                    uVar7 = extraout_EDX_27;
                  }
                    /* WARNING: Subroutine does not return */
                  System_ShutdownHandler(iVar1,uVar7);
                }
                goto LAB_0040c2d3;
              }
              local_1c4 = 0xf;
              local_1c8 = 0;
              local_1d8 = CONCAT31(local_1d8._1_3_,bVar19);
              pcVar15 = "nuke";
              do {
                pcVar8 = pcVar15;
                pcVar15 = pcVar8 + 1;
              } while (*pcVar8 != '\0');
              local_233 = bVar19;
              String_Assign(local_1dc,(_String_base *)&DAT_0052a740,(uint)(pcVar8 + -0x52a740));
              local_8._0_1_ = 0x13;
              pvVar11 = (void *)StringMap_LookupAndConcatenate
                                          (local_c0,(uint)local_1dc,(_String_base *)local_1dc);
              pcVar15 = "yes";
              do {
                pcVar8 = pcVar15;
                pcVar15 = pcVar8 + 1;
              } while (*pcVar8 != '\0');
              uVar7 = String_Compare(pvVar11,0,*(uint *)((int)pvVar11 + 0x14),
                                     (_String_base *)&DAT_0052a73c,(uint)(pcVar8 + -0x52a73c));
              local_8._0_1_ = 4;
              if (0xf < local_1c4) {
                    /* WARNING: Subroutine does not return */
                System_ShutdownHandler(extraout_ECX_05,local_1d8);
              }
              local_1c8 = 0;
              local_1c4 = 0xf;
              local_18c = 0xf;
              local_1d8 = local_1d8 & 0xffffff00;
              local_190 = 0;
              local_1a0 = local_1a0 & 0xffffff00;
              pcVar15 = "rare";
              do {
                pcVar8 = pcVar15;
                pcVar15 = pcVar8 + 1;
              } while (*pcVar8 != '\0');
              local_234 = uVar7 == 0;
              String_Assign(local_1a4,(_String_base *)&DAT_0052a734,(uint)(pcVar8 + -0x52a734));
              local_8._0_1_ = 0x14;
              pvVar11 = (void *)StringMap_LookupAndConcatenate
                                          (local_c0,(uint)local_1a4,(_String_base *)local_1a4);
              pcVar15 = "yes";
              do {
                pcVar8 = pcVar15;
                pcVar15 = pcVar8 + 1;
              } while (*pcVar8 != '\0');
              uVar7 = String_Compare(pvVar11,0,*(uint *)((int)pvVar11 + 0x14),
                                     (_String_base *)&DAT_0052a73c,(uint)(pcVar8 + -0x52a73c));
              local_8._0_1_ = 4;
              if (0xf < local_18c) {
                    /* WARNING: Subroutine does not return */
                System_ShutdownHandler(extraout_ECX_06,local_1a0);
              }
              local_190 = 0;
              local_18c = 0xf;
              local_6c = 0xf;
              local_1a0 = local_1a0 & 0xffffff00;
              local_70 = 0;
              local_80 = local_80 & 0xffffff00;
              pcVar15 = "type";
              do {
                pcVar8 = pcVar15;
                pcVar15 = pcVar8 + 1;
              } while (*pcVar8 != '\0');
              local_218 = uVar7 == 0;
              String_Assign(local_84,(_String_base *)&DAT_0052a72c,(uint)(pcVar8 + -0x52a72c));
              local_8._0_1_ = 0x15;
              pvVar11 = (void *)StringMap_LookupAndConcatenate(local_c0,(uint)local_84,local_84);
              pcVar15 = "looping";
              do {
                pcVar8 = pcVar15;
                pcVar15 = pcVar8 + 1;
              } while (*pcVar8 != '\0');
              uVar7 = String_Compare(pvVar11,0,*(uint *)((int)pvVar11 + 0x14),
                                     (_String_base *)"looping",(uint)(pcVar8 + -0x52a724));
              local_8 = CONCAT31(local_8._1_3_,4);
              if (0xf < local_6c) {
                    /* WARNING: Subroutine does not return */
                System_ShutdownHandler(extraout_ECX_07,local_80);
              }
              local_6c = 0xf;
              local_21c = (uint)(uVar7 != 0);
              local_70 = 0;
              local_80 = local_80 & 0xffffff00;
              uVar7 = extraout_EDX_11;
              iVar9 = local_22c;
              if (0 < (int)local_18) {
                do {
                  puVar6 = local_228;
                  if ((iVar9 == 0) ||
                     ((uint)(local_224 - iVar9 >> 3) <= (uint)((int)local_228 - iVar9 >> 3))) {
                    Boss_ProcessWreckerAttack
                              (local_230,local_228,(undefined4 *)0x1,(undefined4 *)&local_a8);
                    uVar7 = extraout_EDX_13;
                    iVar9 = local_22c;
                  }
                  else {
                    ListNode_Constructor(local_228,1,(undefined4 *)&local_a8);
                    local_228 = puVar6 + 2;
                    uVar7 = extraout_EDX_12;
                  }
                  local_18 = (undefined4 *)((int)local_18 + -1);
                } while (local_18 != (undefined4 *)0x0);
              }
              cVar5 = XML_ParseDocument((int)local_1c,uVar7,local_118);
              pcVar15 = extraout_EDX_14;
              while (cVar5 != '\0') {
                if (local_118[0] == 1) {
                  pcVar15 = "elay";
                  pcVar8 = "Delay";
                  do {
                    pcVar14 = pcVar8;
                    pcVar8 = pcVar14 + 1;
                  } while (*pcVar14 != '\0');
                  pcVar14 = pcVar14 + -0x52a71c;
                  if (local_e4 != (char *)0x0) {
                    pcVar8 = local_e4;
                    if (pcVar14 <= local_e4) {
                      pcVar8 = pcVar14;
                    }
                    pppppppbVar17 = local_f4[0];
                    if (local_e0 < 0x10) {
                      pppppppbVar17 = (byte *******)local_f4;
                    }
                    bVar19 = false;
                    pcVar15 = (char *)0x0;
                    bVar20 = true;
                    pbVar18 = (byte *)"Delay";
                    do {
                      if (pcVar8 == (char *)0x0) break;
                      pcVar8 = pcVar8 + -1;
                      bVar19 = *(byte *)pppppppbVar17 < *pbVar18;
                      bVar20 = *(byte *)pppppppbVar17 == *pbVar18;
                      pppppppbVar17 = (byte *******)((int)pppppppbVar17 + 1);
                      pbVar18 = pbVar18 + 1;
                    } while (bVar20);
                    if (!bVar20) {
                      pcVar15 = (char *)((1 - (uint)bVar19) - (uint)(bVar19 != 0));
                    }
                    if (pcVar15 != (char *)0x0) goto LAB_0040cd27;
                  }
                  if ((pcVar14 <= local_e4) &&
                     (pcVar15 = (char *)(uint)(local_e4 != pcVar14), pcVar15 == (char *)0x0)) {
                    local_24 = 0xf;
                    local_28 = 0;
                    local_38 = local_38 & 0xffffff00;
                    pcVar15 = "speed";
                    do {
                      pcVar8 = pcVar15;
                      pcVar15 = pcVar8 + 1;
                    } while (*pcVar8 != '\0');
                    String_Assign(local_3c,(_String_base *)"speed",(uint)(pcVar8 + -0x52a778));
                    local_8._0_1_ = 0x16;
                    local_50 = 0xf;
                    local_54 = 0;
                    local_64 = local_64 & 0xffffff00;
                    pcVar15 = "frame";
                    do {
                      pcVar8 = pcVar15;
                      pcVar15 = pcVar8 + 1;
                    } while (*pcVar8 != '\0');
                    String_Assign(local_68,(_String_base *)"frame",(uint)(pcVar8 + -0x52a714));
                    local_8._0_1_ = 0x17;
                    iVar9 = StringMap_LookupAndConcatenate(local_c0,(uint)local_3c,local_3c);
                    if (*(uint *)(iVar9 + 0x18) < 0x10) {
                      pcVar15 = (char *)(iVar9 + 4);
                    }
                    else {
                      pcVar15 = *(char **)(iVar9 + 4);
                    }
                    iVar9 = StringMap_LookupAndConcatenate(local_c0,extraout_EDX_15,local_68);
                    if (*(uint *)(iVar9 + 0x18) < 0x10) {
                      pcVar8 = (char *)(iVar9 + 4);
                    }
                    else {
                      pcVar8 = *(char **)(iVar9 + 4);
                    }
                    lVar10 = _atol(pcVar8);
                    dVar21 = _atof(pcVar15);
                    *(double *)(local_22c + lVar10 * 8) = dVar21;
                    if (0xf < local_50) {
                    /* WARNING: Subroutine does not return */
                      System_ShutdownHandler(local_22c,local_64);
                    }
                    local_50 = 0xf;
                    local_54 = 0;
                    local_64 = local_64 & 0xffffff00;
                    local_8 = CONCAT31(local_8._1_3_,4);
                    if (0xf < local_24) {
                    /* WARNING: Subroutine does not return */
                      System_ShutdownHandler(local_22c,(uint)extraout_EDX_16);
                    }
                    local_24 = 0xf;
                    local_28 = 0;
                    local_38 = local_38 & 0xffffff00;
                    pcVar15 = extraout_EDX_16;
                  }
                }
                else if (local_118[0] == 2) {
                  pcVar15 = "nim";
                  pcVar8 = "Anim";
                  do {
                    pcVar14 = pcVar8;
                    pcVar8 = pcVar14 + 1;
                  } while (*pcVar14 != '\0');
                  pcVar14 = pcVar14 + -0x52a780;
                  if (local_e4 != (char *)0x0) {
                    pcVar8 = local_e4;
                    if (pcVar14 <= local_e4) {
                      pcVar8 = pcVar14;
                    }
                    pppppppbVar17 = local_f4[0];
                    if (local_e0 < 0x10) {
                      pppppppbVar17 = (byte *******)local_f4;
                    }
                    bVar19 = false;
                    pcVar15 = (char *)0x0;
                    bVar20 = true;
                    pbVar18 = &DAT_0052a780;
                    do {
                      if (pcVar8 == (char *)0x0) break;
                      pcVar8 = pcVar8 + -1;
                      bVar19 = *(byte *)pppppppbVar17 < *pbVar18;
                      bVar20 = *(byte *)pppppppbVar17 == *pbVar18;
                      pppppppbVar17 = (byte *******)((int)pppppppbVar17 + 1);
                      pbVar18 = pbVar18 + 1;
                    } while (bVar20);
                    if (!bVar20) {
                      pcVar15 = (char *)((1 - (uint)bVar19) - (uint)(bVar19 != 0));
                    }
                    if (pcVar15 != (char *)0x0) goto LAB_0040cd27;
                  }
                  if ((pcVar14 <= local_e4) &&
                     (pcVar15 = (char *)(uint)(local_e4 != pcVar14), pcVar15 == (char *)0x0)) break;
                }
LAB_0040cd27:
                cVar5 = XML_ParseDocument((int)local_1c,(uint)pcVar15,local_118);
                pcVar15 = extraout_EDX_17;
              }
              Wave_ProcessTimingIntervals(local_4c,local_264);
              if (local_22c != 0) {
                    /* WARNING: Subroutine does not return */
                System_ShutdownHandler(extraout_ECX_08,(uint)extraout_EDX_18);
              }
              local_22c = 0;
              local_228 = (undefined4 *)0x0;
              local_224 = 0;
              puVar16 = extraout_EDX_18;
            }
          }
          else if (local_118[0] == 2) {
            pcVar15 = "Level";
            do {
              pcVar8 = pcVar15;
              pcVar15 = pcVar8 + 1;
            } while (*pcVar8 != '\0');
            uVar7 = String_Compare(local_f8,0,(uint)local_e4,(_String_base *)"Level",
                                   (uint)(pcVar8 + -0x52a528));
            puVar16 = extraout_EDX_19;
            if (uVar7 == 0) break;
          }
LAB_0040cdaa:
          cVar5 = XML_ParseDocument((int)local_1c,(uint)puVar16,local_118);
          puVar16 = extraout_EDX_20;
        }
        piVar3 = local_20;
        iVar9 = local_20[0x51f];
        if ((iVar9 == 0) ||
           ((uint)(local_20[0x521] - iVar9 >> 4) <= (uint)(local_20[0x520] - iVar9 >> 4))) {
          Vector_Insert_16ByteObjects_WithVectorDestructors
                    (local_20 + 0x51e,(undefined1 *)local_20[0x520],(undefined1 *)0x1,local_4c);
          iVar9 = extraout_ECX_10;
          uVar7 = extraout_EDX_22;
        }
        else {
          pvVar11 = (void *)local_20[0x520];
          Survival_ProcessBossEncounters(pvVar11,1,(int)local_4c);
          piVar3[0x520] = (int)pvVar11 + 0x10;
          iVar9 = extraout_ECX_09;
          uVar7 = extraout_EDX_21;
        }
        iVar2 = local_44;
        iVar1 = local_48;
        if (local_48 != 0) {
          for (; iVar1 != iVar2; iVar1 = iVar1 + 0x50) {
            SingleDataStructure_Clear(iVar1,uVar7);
            iVar9 = extraout_ECX_11;
            uVar7 = extraout_EDX_23;
          }
                    /* WARNING: Subroutine does not return */
          System_ShutdownHandler(iVar9,uVar7);
        }
        local_48 = 0;
        local_44 = 0;
        local_40 = 0;
        puVar6 = local_1c;
      }
    }
    cVar5 = XML_ParseDocument((int)puVar6,(uint)local_118,local_118);
  } while( true );
}


