/*
 * Function: Memory_AllocateAnimation
 * Address: 00414000
 * Category: animation
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


int * __thiscall Memory_AllocateAnimation(void *this,undefined4 param_1,int param_2)

{
  int *piVar1;
  int iVar2;
  ios_base *this_00;
  void *local_10;
  undefined *puStack_c;
  undefined4 local_8;
  
  puStack_c = &DAT_005103c5;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  if (param_2 != 0) {
    ExceptionList = &local_10;
    *(undefined **)this = &DAT_0052c6ac;
    *(undefined **)((int)this + 8) = &DAT_0052c6a4;
    *(undefined4 *)((int)this + 0x30) = 0;
    *(undefined ***)((int)this + 0xc) = &PTR_IOSBase_DestructorWrapper_00531324;
  }
                    /* WARNING: Load size is inaccurate */
  *(undefined ***)((int)this + *(int *)(*this + 4)) = &PTR_Audio_ProcessVolumeControl_0053132c;
  *(undefined4 *)((int)this + 4) = 0;
  piVar1 = (int *)((int)this + 8);
  local_8 = 2;
  *(undefined ***)((int)piVar1 + *(int *)(*(int *)((int)this + 8) + 4)) =
       &PTR_Audio_ProcessMusicLoop_0053131c;
  iVar2 = *(int *)(*piVar1 + 4);
  *(undefined4 *)(iVar2 + 0x2c + (int)piVar1) = 0;
  this_00 = (ios_base *)(iVar2 + (int)piVar1);
  *(undefined4 *)(this_00 + 0x28) = param_1;
  this_00[0x30] = (ios_base)0x20;
  std::ios_base::_Init(this_00);
  if (*(int *)(this_00 + 0x28) == 0) {
    std::ios_base::clear(this_00,*(uint *)(this_00 + 4) | 4,false);
  }
                    /* WARNING: Load size is inaccurate */
  *(undefined ***)((int)this + *(int *)(*this + 4)) = &PTR_Audio_ProcessEnvironmentalSounds_00531334
  ;
  ExceptionList = local_10;
  return (int *)this;
}


