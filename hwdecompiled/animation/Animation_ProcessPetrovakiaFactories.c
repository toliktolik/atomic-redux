/*
 * Function: Animation_ProcessPetrovakiaFactories
 * Address: 004305e0
 * Category: animation
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


void __thiscall
Animation_ProcessPetrovakiaFactories(void *this,undefined4 param_1,int param_2,int param_3)

{
  int iVar1;
  void *this_00;
  undefined4 *puVar2;
  void *local_10;
  undefined4 uStack_c;
  int local_8;
  
  local_8 = 0xffffffff;
  uStack_c = 0x511eab;
  local_10 = ExceptionList;
  iVar1 = *(int *)(*(int *)((int)this + 8) + 0x148c);
  if ((iVar1 == 0) || ((*(int *)(*(int *)((int)this + 8) + 0x1490) - iVar1) / 0x60 == 0)) {
    param_2 = *(int *)((int)this + 0x24) + 1;
  }
  if (param_2 != 0) {
    ExceptionList = &local_10;
    (**(code **)(**(int **)((int)this + 0x1c) + 0xf0))(param_2);
    *(int *)((int)this + 0x24) = param_2 + -1;
    if (param_3 == 2) {
      *(int *)(*(int *)((int)this + 8) + 0xb40) = param_2 + -1;
      (**(code **)(**(int **)((int)this + 8) + 0x108))(0x15);
    }
    ExceptionList = local_10;
    return;
  }
  ExceptionList = &local_10;
  this_00 = operator_new(0x130);
  if (this_00 == (void *)0x0) {
    puVar2 = (undefined4 *)0x0;
  }
  else {
    local_8 = param_2;
    puVar2 = Settings_ApplyChanges(this_00,*(int *)((int)this + 8),'\0',0);
  }
  local_8 = 0xffffffff;
  (**(code **)(**(int **)((int)this + 8) + 0x100))(0x1b,puVar2);
  ExceptionList = local_10;
  return;
}


