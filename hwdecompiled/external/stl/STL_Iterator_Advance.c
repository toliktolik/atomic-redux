/*
 * Function: STL_Iterator_Advance
 * Address: 004f3a6e
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


_String_base * __fastcall
STL_Iterator_Advance
          (_String_base *param_1,uint param_2,_String_base *param_3,uint param_4,uint param_5)

{
  bool bVar1;
  _String_base *p_Var2;
  uint extraout_EDX;
  _String_base *p_Var3;
  _String_base *p_Var4;
  uint uVar5;
  
  if (*(uint *)(param_3 + 0x14) < param_4) {
    std::_String_base::_Xran(param_1);
    param_2 = extraout_EDX;
  }
  uVar5 = *(int *)(param_3 + 0x14) - param_4;
  if (param_5 < *(int *)(param_3 + 0x14) - param_4) {
    uVar5 = param_5;
  }
  if (param_1 == param_3) {
    STL_Iterator_Distance(param_1,uVar5 + param_4,0xffffffff);
    STL_Iterator_Distance(param_1,0,param_4);
  }
  else {
    bVar1 = Resource_FindResource(param_1,param_2,uVar5,'\x01');
    if (bVar1) {
      if (*(uint *)(param_3 + 0x18) < 8) {
        p_Var2 = param_3 + 4;
      }
      else {
        p_Var2 = *(_String_base **)(param_3 + 4);
      }
      p_Var4 = param_1 + 4;
      p_Var3 = p_Var4;
      if (7 < *(uint *)(param_1 + 0x18)) {
        p_Var3 = *(_String_base **)p_Var4;
      }
      Assembly_MemoryCopy((undefined4 *)p_Var3,(int)(p_Var2 + param_4 * 2));
      *(uint *)(param_1 + 0x14) = uVar5;
      if (7 < *(uint *)(param_1 + 0x18)) {
        p_Var4 = *(_String_base **)p_Var4;
      }
      *(undefined2 *)(p_Var4 + uVar5 * 2) = 0;
    }
  }
  return param_1;
}


