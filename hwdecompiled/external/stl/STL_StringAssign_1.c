/*
 * Function: STL_StringAssign_1
 * Address: 004f0040
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


/* Library Function - Multiple Matches With Different Base Names
    public: class std::basic_string<unsigned short,struct std::char_traits<unsigned short>,class
   std::allocator<unsigned short> > & __thiscall std::basic_string<unsigned short,struct
   std::char_traits<unsigned short>,class std::allocator<unsigned short> >::assign(unsigned
   int,unsigned short)
    public: class std::basic_string<wchar_t,struct std::char_traits<wchar_t>,class
   std::allocator<wchar_t> > & __thiscall std::basic_string<wchar_t,struct
   std::char_traits<wchar_t>,class std::allocator<wchar_t> >::assign(unsigned int,wchar_t)
   
   Library: Visual Studio 2003 Release */

_String_base * __fastcall
STL_StringAssign_1(_String_base *param_1,uint param_2,uint param_3,undefined2 param_4)

{
  bool bVar1;
  uint uVar2;
  uint extraout_EDX;
  _String_base *p_Var3;
  _String_base *p_Var4;
  
  if (param_3 == 0xffffffff) {
    std::_String_base::_Xlen(param_1);
    param_2 = extraout_EDX;
  }
  bVar1 = Resource_FindResource(param_1,param_2,param_3,'\x01');
  if (bVar1) {
    p_Var3 = param_1 + 4;
    p_Var4 = p_Var3;
    if (7 < *(uint *)(param_1 + 0x18)) {
      p_Var4 = *(_String_base **)p_Var3;
    }
    if (param_3 != 0) {
      for (uVar2 = param_3 >> 1; uVar2 != 0; uVar2 = uVar2 - 1) {
        *(uint *)p_Var4 = CONCAT22(param_4,param_4);
        p_Var4 = p_Var4 + 4;
      }
      for (uVar2 = (uint)((param_3 & 1) != 0); uVar2 != 0; uVar2 = uVar2 - 1) {
        *(undefined2 *)p_Var4 = param_4;
        p_Var4 = p_Var4 + 2;
      }
    }
    *(uint *)(param_1 + 0x14) = param_3;
    if (7 < *(uint *)(param_1 + 0x18)) {
      p_Var3 = *(_String_base **)p_Var3;
    }
    *(undefined2 *)(p_Var3 + param_3 * 2) = 0;
  }
  return param_1;
}


