/*
 * Function: STL_Vector_ReallocateMemory
 * Address: 00455650
 * Category: memory
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void STL_Vector_ReallocateMemory(void)

{
  int iVar1;
  char *pcVar2;
  char *pcVar3;
  void *this;
  int iVar4;
  undefined4 uVar5;
  undefined4 uVar6;
  int extraout_ECX;
  uint extraout_EDX;
  uint unaff_retaddr;
  undefined4 *in_stack_ffffff58;
  undefined4 *in_stack_ffffff5c;
  _String_base local_4c [4];
  uint local_48;
  undefined4 local_38;
  uint local_34;
  undefined1 local_30 [4];
  uint local_2c;
  undefined4 local_24 [2];
  undefined4 local_1c;
  uint local_18;
  uint local_14;
  void *local_10;
  undefined4 uStack_c;
  undefined4 local_8;
  
  uStack_c = 0x513424;
  local_10 = ExceptionList;
  local_14 = DAT_00569f5c ^ unaff_retaddr;
  ExceptionList = &local_10;
  if ((_DAT_0056dad4 & 1) == 0) {
    _DAT_0056dad4 = _DAT_0056dad4 | 1;
    local_8 = 0;
    local_18 = 0xf;
    local_1c = 0;
    local_2c = local_2c & 0xffffff00;
    pcVar2 = "Tahoma";
    do {
      pcVar3 = pcVar2;
      pcVar2 = pcVar3 + 1;
    } while (*pcVar3 != '\0');
    ExceptionList = &local_10;
    String_Assign(local_30,(_String_base *)"Tahoma",(uint)(pcVar3 + -0x531414));
    local_8 = CONCAT31(local_8._1_3_,1);
    System_CancelScheduledTask(&DAT_0056dab8,DAT_0056da10,(int)local_30,8,0,'\0',0,0);
    if (0xf < local_18) {
                    /* WARNING: Subroutine does not return */
      System_ShutdownHandler(extraout_ECX,local_2c);
    }
    _atexit((_func_4879 *)&DAT_00526950);
  }
  local_8 = 0xffffffff;
  if (DAT_0056da28 == (int *)0x0) {
    this = operator_new(200);
    local_8 = 2;
    if (this == (void *)0x0) {
      DAT_0056da28 = (int *)0x0;
    }
    else {
      DAT_0056da28 = Game_UpdateParticles(this,*(int *)(DAT_0056da10 + 0x328));
    }
    local_8 = 0xffffffff;
    iVar1 = *DAT_0056da28;
    iVar4 = Graphics_SetTransform(0x56dab8);
    (**(code **)(iVar1 + 0x60))(0x32,iVar4 + 4);
    (**(code **)(*DAT_0056da28 + 0x68))(0,0);
    (**(code **)(*DAT_0056da28 + 0x6c))(1);
  }
  Graphics_InitializeSurface(&stack0xffffff58,DAT_0056da28);
  local_8 = 3;
  Graphics_SetProjection(&stack0xffffff58,&DAT_0056dab8);
  Sound_SetPosition(local_4c,"%d,%d");
  local_8 = CONCAT31(local_8._1_3_,4);
  SexyWidget_GetMatrix(local_24,0);
  SexyWidget_SetRectangle(&stack0xffffff58,local_24);
  uVar5 = SexyWidget_GetHeight((int)DAT_0056da28);
  uVar6 = SexyWidget_GetWidth((int)DAT_0056da28);
  Graphics_FillRect(&stack0xffffff58,0,0,uVar6,uVar5);
  SexyWidget_GetMatrix(local_24,0xffffff);
  SexyWidget_SetRectangle(&stack0xffffff58,local_24);
  uVar5 = SexyWidget_GetWidth(0x56dab8);
  SexyWidget_DrawWithInterface(&stack0xffffff58,local_4c,2,uVar5);
  Graphics_SetTextureFilter(DAT_0056da28);
  DAT_0056da28[7] = DAT_0056da28[7] + 1;
  if (0xf < local_34) {
                    /* WARNING: Subroutine does not return */
    System_ShutdownHandler(local_48,extraout_EDX);
  }
  local_34 = 0xf;
  local_38 = 0;
  local_48 = local_48 & 0xffffff00;
  local_8 = 0xffffffff;
  Graphics_ClearClipRect((undefined4 *)&stack0xffffff58);
  ExceptionList = local_10;
  Exception_SetMessage((void *)(local_14 ^ unaff_retaddr),in_stack_ffffff58,in_stack_ffffff5c);
  return;
}


