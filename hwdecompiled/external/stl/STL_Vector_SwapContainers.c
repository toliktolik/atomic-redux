/*
 * Function: STL_Vector_SwapContainers
 * Address: 00455890
 * Category: enemies
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void STL_Vector_SwapContainers(void)

{
  int iVar1;
  double dVar2;
  char *pcVar3;
  char *pcVar4;
  int iVar5;
  DWORD DVar6;
  undefined4 uVar7;
  undefined4 uVar8;
  int extraout_ECX;
  int extraout_ECX_00;
  uint extraout_EDX;
  uint unaff_retaddr;
  undefined4 *in_stack_ffffff58;
  undefined4 *in_stack_ffffff5c;
  _String_base local_50 [4];
  uint local_4c;
  undefined4 local_3c;
  uint local_38;
  undefined1 local_34 [4];
  uint local_30;
  undefined4 local_28 [2];
  undefined4 local_20;
  uint local_1c;
  void *local_18;
  uint local_14;
  void *local_10;
  undefined4 uStack_c;
  undefined4 local_8;
  
  uStack_c = 0x513464;
  local_10 = ExceptionList;
  local_14 = DAT_00569f5c ^ unaff_retaddr;
  ExceptionList = &local_10;
  if ((_DAT_0056daf8 & 1) == 0) {
    _DAT_0056daf8 = _DAT_0056daf8 | 1;
    local_8 = 0;
    local_1c = 0xf;
    local_20 = 0;
    local_30 = local_30 & 0xffffff00;
    pcVar3 = "Tahoma";
    do {
      pcVar4 = pcVar3;
      pcVar3 = pcVar4 + 1;
    } while (*pcVar4 != '\0');
    ExceptionList = &local_10;
    String_Assign(local_34,(_String_base *)"Tahoma",(uint)(pcVar4 + -0x531414));
    local_8 = CONCAT31(local_8._1_3_,1);
    System_CancelScheduledTask(&DAT_0056dadc,DAT_0056da10,(int)local_34,8,0,'\0',0,0);
    if (0xf < local_1c) {
                    /* WARNING: Subroutine does not return */
      System_ShutdownHandler(extraout_ECX,local_30);
    }
    _atexit((_func_4879 *)&DAT_00526960);
  }
  local_8 = 0xffffffff;
  if (DAT_0056da30 == (int *)0x0) {
    local_18 = operator_new(200);
    local_8 = 2;
    if (local_18 == (void *)0x0) {
      DAT_0056da30 = (int *)0x0;
    }
    else {
      DAT_0056da30 = Game_UpdateParticles(local_18,*(int *)(DAT_0056da10 + 0x328));
    }
    iVar1 = *DAT_0056da30;
    local_8 = 0xffffffff;
    iVar5 = Graphics_SetTransform(0x56dadc);
    (**(code **)(iVar1 + 0x60))(0x32,iVar5 + 4);
    (**(code **)(*DAT_0056da30 + 0x68))(0,0);
    (**(code **)(*DAT_0056da30 + 0x6c))(1);
  }
  DVar6 = GetTickCount();
  local_18 = (void *)(DVar6 - DAT_0056dad8);
  dVar2 = (double)(int)local_18;
  if ((int)local_18 < 0) {
    dVar2 = dVar2 + _DAT_00531540;
  }
  if (_DAT_0052c578 / *(double *)(DAT_0056da10 + 0x418) <= dVar2) {
    DAT_0056dad8 = DVar6;
    Graphics_InitializeSurface(&stack0xffffff58,DAT_0056da30);
    local_8 = 3;
    Graphics_SetProjection(&stack0xffffff58,&DAT_0056dadc);
    Sound_SetPosition(local_50,"%02d:%02d:%02d");
    local_8 = CONCAT31(local_8._1_3_,4);
    SexyWidget_GetMatrix(local_28,0);
    SexyWidget_SetRectangle(&stack0xffffff58,local_28);
    uVar7 = SexyWidget_GetHeight((int)DAT_0056da30);
    uVar8 = SexyWidget_GetWidth((int)DAT_0056da30);
    Graphics_FillRect(&stack0xffffff58,0,0,uVar8,uVar7);
    SexyWidget_GetMatrix(local_28,0xffffff);
    SexyWidget_SetRectangle(&stack0xffffff58,local_28);
    uVar7 = SexyWidget_GetWidth(0x56dadc);
    SexyWidget_DrawWithInterface(&stack0xffffff58,local_50,2,uVar7);
    Graphics_SetTextureFilter(DAT_0056da30);
    DAT_0056da30[7] = DAT_0056da30[7] + 1;
    if (0xf < local_38) {
                    /* WARNING: Subroutine does not return */
      System_ShutdownHandler(extraout_ECX_00,extraout_EDX);
    }
    local_38 = 0xf;
    local_3c = 0;
    local_4c = local_4c & 0xffffff00;
    local_8 = 0xffffffff;
    Graphics_ClearClipRect((undefined4 *)&stack0xffffff58);
  }
  ExceptionList = local_10;
  Exception_SetMessage((void *)(local_14 ^ unaff_retaddr),in_stack_ffffff58,in_stack_ffffff5c);
  return;
}


