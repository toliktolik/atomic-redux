/*
 * Function: STL_Iterator_Distance
 * Address: 004f3b10
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


_String_base * __thiscall STL_Iterator_Distance(void *this,uint param_1,uint param_2)

{
  undefined4 *puVar1;
  bool bVar2;
  uint uVar3;
  undefined4 *puVar4;
  uint extraout_EDX;
  undefined4 *puVar5;
  
  if (*(uint *)((int)this + 0x14) < param_1) {
    std::_String_base::_Xran((_String_base *)this);
  }
  uVar3 = *(int *)((int)this + 0x14) - param_1;
  if (uVar3 < param_2) {
    param_2 = uVar3;
  }
  if (param_2 != 0) {
    puVar5 = (undefined4 *)((int)this + 4);
    puVar4 = puVar5;
    puVar1 = puVar5;
    if (7 < *(uint *)((int)this + 0x18)) {
      puVar4 = (undefined4 *)*puVar5;
      puVar1 = (undefined4 *)*puVar5;
    }
    STL_MemoryCopy((void *)((int)puVar4 + param_1 * 2),
                   (void *)((int)puVar1 + (param_2 + param_1) * 2),(uVar3 - param_2) * 2);
    uVar3 = *(int *)((int)this + 0x14) - param_2;
    bVar2 = Resource_FindResource((_String_base *)this,extraout_EDX,uVar3,'\0');
    if (bVar2) {
      *(uint *)((int)this + 0x14) = uVar3;
      if (7 < *(uint *)((int)this + 0x18)) {
        puVar5 = (undefined4 *)*puVar5;
      }
      *(undefined2 *)((int)puVar5 + uVar3 * 2) = 0;
    }
  }
  return (_String_base *)this;
}


