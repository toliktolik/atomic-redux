/*
 * Function: STL_Map_LowerBound
 * Address: 00453710
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


int * __thiscall STL_Map_LowerBound(void *this,undefined4 *param_1,facet *param_2)

{
  facet *pfVar1;
  char *pcVar2;
  _Locimp *this_00;
  undefined4 uVar3;
  char *pcVar4;
  void *local_10;
  undefined4 uStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  uStack_c = 0x5131ab;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  this_00 = (_Locimp *)operator_new(0x34);
  local_8 = 0;
  if (this_00 == (_Locimp *)0x0) {
    uVar3 = 0;
  }
  else {
    uVar3 = std::locale::_Locimp::_Locimp(this_00,(_Locimp *)*param_1);
  }
  pfVar1 = param_2;
  local_8 = 0xffffffff;
  *(undefined4 *)this = uVar3;
  if (param_2 != (facet *)0x0) {
    if (DAT_0056db14 == 0) {
      Threading_LockSectorByIndex(&param_1,0);
      if (DAT_0056db14 == 0) {
        DAT_0056db14 = DAT_005a4828 + 1;
        DAT_005a4828 = DAT_0056db14;
      }
      Threading_UnlockSectorByIndex((int *)&param_1);
    }
                    /* WARNING: Load size is inaccurate */
    std::locale::_Locimp::_Addfac(*this,pfVar1,DAT_0056db14);
                    /* WARNING: Load size is inaccurate */
    *(undefined4 *)(*this + 0x10) = 0;
    pcVar2 = "*";
    do {
      pcVar4 = pcVar2;
      pcVar2 = pcVar4 + 1;
    } while (*pcVar4 != '\0');
                    /* WARNING: Load size is inaccurate */
    String_Assign((void *)(*this + 0x18),(_String_base *)&DAT_00531590,(uint)(pcVar4 + -0x531590));
  }
  ExceptionList = local_10;
  return (int *)this;
}


