/*
 * Function: STL_Map_EqualRange
 * Address: 004538a0
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


undefined4 __fastcall STL_Map_EqualRange(int *param_1)

{
  int *piVar1;
  int *piVar2;
  int iVar3;
  int *piVar4;
  char cVar5;
  uint uVar6;
  int *piVar7;
  undefined4 *puVar8;
  undefined4 *puVar9;
  int *local_8;
  
  local_8 = param_1;
  uVar6 = Log_CloseFile(param_1 + 0xb8,(int *)&local_8,(int *)&stack0x00000004);
  piVar4 = local_8;
  if (local_8 == (int *)param_1[0xb9]) {
    return uVar6 & 0xffffff00;
  }
  piVar1 = (int *)local_8[4];
  if (piVar1[0x42] == -1) {
    piVar1[0x42] = 0;
  }
  cVar5 = (**(code **)(*piVar1 + 0xd0))();
  if (cVar5 != '\0') {
    (**(code **)(*param_1 + 0x114))();
  }
  UI_ProcessChildAnimation((void *)param_1[0xb7],piVar1);
  piVar2 = (int *)param_1[0xbc];
  piVar7 = piVar2;
  if (piVar2 != (int *)0x0) {
    piVar7 = (int *)*piVar2;
  }
  if (piVar7 != piVar2) {
    do {
      if ((int *)piVar7[2] == piVar1) break;
      piVar7 = (int *)*piVar7;
    } while (piVar7 != piVar2);
    if ((piVar7 != piVar2) && (piVar7 != (int *)param_1[0xbc])) {
      *(int *)piVar7[1] = *piVar7;
      iVar3 = *piVar7;
      uVar6 = piVar7[1];
      *(uint *)(iVar3 + 4) = uVar6;
                    /* WARNING: Subroutine does not return */
      System_ShutdownHandler(iVar3,uVar6);
    }
  }
  (**(code **)(*param_1 + 0x78))(piVar1);
  DataStructure_RebalanceTree(&stack0x00000004,piVar4);
  puVar8 = *(undefined4 **)(param_1[0xb7] + 0x4c);
  if (puVar8 == (undefined4 *)0x0) {
    puVar9 = (undefined4 *)param_1[0xbc];
    while( true ) {
      puVar8 = (undefined4 *)param_1[0xbc];
      if (puVar8 != (undefined4 *)0x0) {
        puVar8 = (undefined4 *)*puVar8;
      }
      if (puVar9 == puVar8) goto LAB_004539b5;
      piVar4 = *(int **)(puVar9[1] + 8);
      cVar5 = (**(code **)(*piVar4 + 0xd0))();
      if (cVar5 != '\0') break;
      puVar9 = (undefined4 *)puVar9[1];
    }
    puVar8 = (undefined4 *)UI_Widget_ProcessBlending((void *)param_1[0xb7],(int)piVar4);
  }
LAB_004539b5:
  return CONCAT31((int3)((uint)puVar8 >> 8),1);
}


