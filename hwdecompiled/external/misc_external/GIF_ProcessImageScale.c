/*
 * Function: GIF_ProcessImageScale
 * Address: 004d4b30
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


void __cdecl
GIF_ProcessImageScale
          (undefined4 *param_1,int *param_2,int param_3,int param_4,int param_5,int param_6)

{
  int iVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  int *piVar6;
  int iVar7;
  int iVar8;
  undefined4 *puVar9;
  int local_10 [3];
  
  local_10[1] = param_2[1];
  local_10[0] = *param_2;
  local_10[2] = *(int *)(param_3 + param_5 * 4);
  iVar1 = *(int *)(param_3 + param_4 * 4);
  iVar2 = *(int *)(param_3 + param_6 * 4);
  iVar3 = (int)(local_10[2] + (local_10[2] >> 0x1f & 3U)) >> 2;
  iVar7 = iVar3 - ((int)(iVar1 + (iVar1 >> 0x1f & 3U)) >> 2);
  iVar3 = (local_10[2] / 2 - ((int)(iVar2 + (iVar2 >> 0x1f & 3U)) >> 2)) + iVar3;
  iVar8 = iVar1 / 2 + iVar7;
  iVar1 = iVar2 / 2 + iVar3;
  iVar5 = 0;
  iVar4 = iVar7;
  puVar9 = param_1;
  if (0 < iVar7) {
    for (; iVar5 = iVar7, iVar4 != 0; iVar4 = iVar4 + -1) {
      *puVar9 = 0;
      puVar9 = puVar9 + 1;
    }
  }
  if (iVar5 < iVar8) {
    piVar6 = (int *)local_10[param_4];
    do {
      param_1[iVar5] =
           (int)((ulonglong)((longlong)*piVar6 * (longlong)(int)param_1[iVar5]) >> 0x20) * 2;
      iVar5 = iVar5 + 1;
      piVar6 = piVar6 + 1;
    } while (iVar5 < iVar8);
  }
  if (iVar3 < iVar1) {
    piVar6 = (int *)(local_10[param_6] + -4 + (iVar2 / 2) * 4);
    do {
      param_1[iVar3] =
           (int)((ulonglong)((longlong)*piVar6 * (longlong)(int)param_1[iVar3]) >> 0x20) * 2;
      iVar3 = iVar3 + 1;
      piVar6 = piVar6 + -1;
    } while (iVar3 < iVar1);
  }
  if (iVar3 < local_10[2]) {
    puVar9 = param_1 + iVar3;
    for (local_10[2] = local_10[2] - iVar3; local_10[2] != 0; local_10[2] = local_10[2] + -1) {
      *puVar9 = 0;
      puVar9 = puVar9 + 1;
    }
  }
  return;
}


