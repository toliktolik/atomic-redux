/*
 * Function: Audio_AllocateChannelBuffers
 * Address: 004d91f0
 * Category: audio
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


void __cdecl Audio_AllocateChannelBuffers(int param_1)

{
  int iVar1;
  undefined4 *puVar2;
  int *piVar3;
  uint uVar4;
  int iVar5;
  undefined4 *puVar6;
  undefined4 *puVar7;
  undefined4 *local_1c;
  int local_18;
  int local_14;
  undefined4 *local_c;
  int local_8;
  
  iVar1 = *(int *)(param_1 + 0xdc);
  iVar5 = *(int *)(param_1 + 0x144);
  local_8 = (*(code *)**(undefined4 **)(param_1 + 4))
                      (param_1,1,*(int *)(param_1 + 0x3c) * iVar1 * 0x14);
  local_18 = 0;
  if (0 < *(int *)(param_1 + 0x3c)) {
    piVar3 = (int *)(*(int *)(param_1 + 0x44) + 8);
    local_c = (undefined4 *)(local_8 + iVar1 * 4);
    local_1c = (undefined4 *)(iVar5 + 8);
    do {
      puVar2 = (undefined4 *)
               (**(code **)(*(int *)(param_1 + 4) + 8))
                         (param_1,1,(piVar3[5] * *(int *)(param_1 + 0xd8) * 8) / *piVar3,iVar1 * 3);
      puVar7 = puVar2;
      puVar6 = local_c;
      for (uVar4 = (uint)(iVar1 * 0xc) >> 2; uVar4 != 0; uVar4 = uVar4 - 1) {
        *puVar6 = *puVar7;
        puVar7 = puVar7 + 1;
        puVar6 = puVar6 + 1;
      }
      for (iVar5 = 0; iVar5 != 0; iVar5 = iVar5 + -1) {
        *(undefined1 *)puVar6 = *(undefined1 *)puVar7;
        puVar7 = (undefined4 *)((int)puVar7 + 1);
        puVar6 = (undefined4 *)((int)puVar6 + 1);
      }
      if (0 < iVar1) {
        puVar6 = (undefined4 *)(iVar1 * 0x10 + local_8);
        puVar7 = puVar2 + iVar1 * 2;
        iVar5 = local_8 - (int)puVar2;
        local_14 = iVar1;
        do {
          *(undefined4 *)(iVar5 + (int)puVar2) = *puVar7;
          *puVar6 = *puVar2;
          puVar7 = puVar7 + 1;
          puVar2 = puVar2 + 1;
          puVar6 = puVar6 + 1;
          local_14 = local_14 + -1;
        } while (local_14 != 0);
      }
      *local_1c = local_c;
      local_c = local_c + iVar1 * 5;
      local_1c = local_1c + 1;
      local_8 = local_8 + iVar1 * 0x14;
      local_18 = local_18 + 1;
      piVar3 = piVar3 + 0x15;
    } while (local_18 < *(int *)(param_1 + 0x3c));
  }
  return;
}


