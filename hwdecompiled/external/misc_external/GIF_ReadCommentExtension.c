/*
 * Function: GIF_ReadCommentExtension
 * Address: 004d2350
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


undefined4 __cdecl GIF_ReadCommentExtension(int *param_1)

{
  char cVar1;
  undefined4 uVar2;
  uint uVar3;
  
LAB_004d2360:
  if (param_1[0x5f] == 0) {
    if (*(char *)(param_1[0x65] + 0xc) == '\0') {
      uVar2 = GIF_WriteGraphicsControl(param_1);
      cVar1 = (char)uVar2;
    }
    else {
      uVar3 = GIF_ReadGraphicsControl(param_1);
      cVar1 = (char)uVar3;
    }
    if (cVar1 == '\0') {
      return 0;
    }
  }
  switch(param_1[0x5f]) {
  case 1:
  case 0xd0:
  case 0xd1:
  case 0xd2:
  case 0xd3:
  case 0xd4:
  case 0xd5:
  case 0xd6:
  case 0xd7:
    *(undefined4 *)(*param_1 + 0x14) = 0x5c;
    *(int *)(*param_1 + 0x18) = param_1[0x5f];
    (**(code **)(*param_1 + 4))(param_1,1);
    param_1[0x5f] = 0;
    goto LAB_004d2360;
  default:
    *(undefined4 *)(*param_1 + 0x14) = 0x44;
    *(int *)(*param_1 + 0x18) = param_1[0x5f];
    (**(code **)*param_1)(param_1);
    break;
  case 0xc0:
  case 0xc1:
    uVar3 = PNG_GetPixelSize(0,0);
    if ((char)uVar3 == '\0') {
      return 0;
    }
    param_1[0x5f] = 0;
    goto LAB_004d2360;
  case 0xc2:
    uVar3 = PNG_GetPixelSize(1,0);
    if ((char)uVar3 == '\0') {
      return 0;
    }
    param_1[0x5f] = 0;
    goto LAB_004d2360;
  case 0xc3:
  case 0xc5:
  case 0xc6:
  case 199:
  case 200:
  case 0xcb:
  case 0xcd:
  case 0xce:
  case 0xcf:
    *(undefined4 *)(*param_1 + 0x14) = 0x3c;
    *(int *)(*param_1 + 0x18) = param_1[0x5f];
    (**(code **)*param_1)(param_1);
    param_1[0x5f] = 0;
    goto LAB_004d2360;
  case 0xc4:
    cVar1 = GIF_WriteHeader();
    if (cVar1 == '\0') {
      return 0;
    }
    param_1[0x5f] = 0;
    goto LAB_004d2360;
  case 0xc9:
    uVar3 = PNG_GetPixelSize(0,1);
    if ((char)uVar3 == '\0') {
      return 0;
    }
    param_1[0x5f] = 0;
    goto LAB_004d2360;
  case 0xca:
    uVar3 = PNG_GetPixelSize(1,1);
    if ((char)uVar3 == '\0') {
      return 0;
    }
    param_1[0x5f] = 0;
    goto LAB_004d2360;
  case 0xcc:
  case 0xdc:
    uVar2 = GIF_WriteExtension(param_1);
    if ((char)uVar2 == '\0') {
      return 0;
    }
    param_1[0x5f] = 0;
    goto LAB_004d2360;
  case 0xd8:
    uVar2 = PNG_CalculateRowBytes();
    if ((char)uVar2 == '\0') {
      return 0;
    }
    break;
  case 0xd9:
    *(undefined4 *)(*param_1 + 0x14) = 0x55;
    (**(code **)(*param_1 + 4))(param_1,1);
    param_1[0x5f] = 0;
    return 2;
  case 0xda:
    uVar3 = GIF_ReadHeader();
    if ((char)uVar3 == '\0') {
      return 0;
    }
    param_1[0x5f] = 0;
    return 1;
  case 0xdb:
    uVar2 = GIF_ReadColorTable();
    if ((char)uVar2 == '\0') {
      return 0;
    }
    param_1[0x5f] = 0;
    goto LAB_004d2360;
  case 0xdd:
    uVar2 = GIF_WriteColorTable(param_1);
    if ((char)uVar2 == '\0') {
      return 0;
    }
    param_1[0x5f] = 0;
    goto LAB_004d2360;
  case 0xe0:
  case 0xe1:
  case 0xe2:
  case 0xe3:
  case 0xe4:
  case 0xe5:
  case 0xe6:
  case 0xe7:
  case 0xe8:
  case 0xe9:
  case 0xea:
  case 0xeb:
  case 0xec:
  case 0xed:
  case 0xee:
  case 0xef:
    cVar1 = (**(code **)(param_1[0x65] + -0x364 + param_1[0x5f] * 4))(param_1);
    if (cVar1 == '\0') {
      return 0;
    }
    param_1[0x5f] = 0;
    goto LAB_004d2360;
  case 0xfe:
    goto switchD_004d23a7_caseD_fe;
  }
  param_1[0x5f] = 0;
  goto LAB_004d2360;
switchD_004d23a7_caseD_fe:
  cVar1 = (**(code **)(param_1[0x65] + 0x18))(param_1);
  if (cVar1 == '\0') {
    return 0;
  }
  param_1[0x5f] = 0;
  goto LAB_004d2360;
}


