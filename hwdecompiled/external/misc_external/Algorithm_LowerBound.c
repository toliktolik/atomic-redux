/*
 * Function: Algorithm_LowerBound
 * Address: 0045c450
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

undefined4 Algorithm_LowerBound(HWND param_1,int param_2)

{
  int iVar1;
  HWND hWnd;
  int *piVar2;
  BOOL BVar3;
  LONG *pLVar4;
  uint uVar5;
  uint uVar6;
  uint uVar7;
  uint uVar8;
  tagRECT local_20;
  void *local_10;
  undefined *puStack_c;
  undefined4 local_8;
  
  puStack_c = &DAT_005139fe;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  if ((_DAT_0056db0c & 1) == 0) {
    _DAT_0056db0c = _DAT_0056db0c | 1;
    local_8 = 0;
    DAT_0056db00 = param_1._3_1_;
    ExceptionList = &local_10;
    DAT_0056db04 = Tree_CountNodes();
    *(undefined1 *)(DAT_0056db04 + 0x21) = 1;
    *(int *)(DAT_0056db04 + 4) = DAT_0056db04;
    *(int *)DAT_0056db04 = DAT_0056db04;
    *(int *)(DAT_0056db04 + 8) = DAT_0056db04;
    _DAT_0056db08 = 0;
    _atexit((_func_4879 *)&LAB_00526970);
  }
  iVar1 = DAT_0056db04;
  local_8 = 0xffffffff;
  if ((param_2 != 0) ||
     (piVar2 = (int *)Log_SetMaxFileSize(&DAT_0056db00,&param_2,(uint *)&param_1), hWnd = param_1,
     *piVar2 != iVar1)) {
    Log_SetMaxFileSize(&DAT_0056db00,&param_2,(uint *)&param_1);
    if (param_2 != iVar1) {
      uVar5 = *(int *)(param_2 + 0x1c) - *(int *)(param_2 + 0x14);
      uVar7 = (int)uVar5 >> 0x1f;
      uVar6 = *(int *)(param_2 + 0x18) - *(int *)(param_2 + 0x10);
      uVar8 = (int)uVar6 >> 0x1f;
      MoveWindow(param_1,*(int *)(param_2 + 0x10),*(int *)(param_2 + 0x14),(uVar6 ^ uVar8) - uVar8,
                 (uVar5 ^ uVar7) - uVar7,1);
    }
    ExceptionList = local_10;
    return 1;
  }
  BVar3 = IsIconic(param_1);
  if (BVar3 != 0) {
    ExceptionList = local_10;
    return 1;
  }
  BVar3 = IsWindowVisible(hWnd);
  if (BVar3 == 0) {
    ExceptionList = local_10;
    return 1;
  }
  BVar3 = GetWindowRect(hWnd,&local_20);
  if (BVar3 == 0) {
    ExceptionList = local_10;
    return 1;
  }
  pLVar4 = (LONG *)STL_String_AtIndex(&DAT_0056db00,(uint *)&param_1);
  *pLVar4 = local_20.left;
  pLVar4[1] = local_20.top;
  pLVar4[2] = local_20.right;
  pLVar4[3] = local_20.bottom;
  ExceptionList = local_10;
  return 1;
}


