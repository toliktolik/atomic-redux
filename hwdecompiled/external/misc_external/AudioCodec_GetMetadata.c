/*
 * Function: AudioCodec_GetMetadata
 * Address: 004b5940
 * Category: audio
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


void __thiscall AudioCodec_GetMetadata(void *this,undefined4 param_1,int param_2,char param_3)

{
  int iVar1;
  char cVar2;
  void *pvVar3;
  int iVar4;
  ulonglong uVar5;
  undefined4 uVar6;
  void *local_8;
  
  local_8 = this;
  AudioCodec_SetCallback((void *)((int)this + 4),(int *)&local_8,&param_1);
  pvVar3 = local_8;
  cVar2 = param_3;
  if (local_8 != *(void **)((int)this + 8)) {
    iVar4 = *(int *)((int)local_8 + 0x18);
    *(undefined8 *)((int)local_8 + 0x20) = *(undefined8 *)((int)local_8 + 0x30);
    *(undefined4 *)((int)local_8 + 0x28) = 0;
    *(undefined4 *)((int)local_8 + 0x2c) = 0;
    *(char *)((int)local_8 + 0x38) = param_3;
    if (iVar4 == 0) {
      iVar4 = *(int *)((int)local_8 + 0x1c);
    }
    uVar6 = 0xffffff9b;
    uVar5 = Math_FloatToUInt64();
    (**(code **)(DAT_005a4380 + 0x3c))(iVar4,0xffffffff,(int)uVar5,uVar6);
    iVar4 = *(int *)((int)pvVar3 + 0x18);
    if (iVar4 == 0) {
      iVar4 = *(int *)((int)pvVar3 + 0x1c);
    }
    (**(code **)(DAT_005a4380 + 0x30))(iVar4);
    iVar1 = param_2;
    iVar4 = *(int *)((int)pvVar3 + 0x18);
    if (iVar4 != 0) {
      if (*(char *)(DAT_005a4380 + 8) == '\0') {
        (**(code **)(DAT_005a4380 + 0x54))(iVar4,param_2,(cVar2 != '\0') - 1U & 4,1);
        return;
      }
      (**(code **)(DAT_005a4380 + 0x54))(iVar4,param_2,(cVar2 != '\0') - 1 & 4 | 0x200);
      return;
    }
    (**(code **)(DAT_005a4380 + 0x60))
              (*(undefined4 *)((int)pvVar3 + 0x1c),param_2 != -1,(cVar2 != '\0') - 1U & 4);
    if (0 < iVar1) {
      (**(code **)(DAT_005a4380 + 0x40))(*(undefined4 *)((int)pvVar3 + 0x1c),iVar1,iVar1 >> 0x1f);
    }
  }
  return;
}


