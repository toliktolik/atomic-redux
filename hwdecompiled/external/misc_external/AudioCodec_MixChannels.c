/*
 * Function: AudioCodec_MixChannels
 * Address: 004b7750
 * Category: audio
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


undefined4 __thiscall AudioCodec_MixChannels(void *this,int param_1,int param_2,undefined1 param_3)

{
  _String_base _Var1;
  _String_base *p_Var2;
  undefined4 uVar3;
  _String_base *p_Var4;
  int iVar5;
  uint extraout_EDX;
  int *piVar6;
  int *piVar7;
  undefined8 uVar8;
  int local_70 [2];
  int local_68 [10];
  int local_40 [3];
  _String_base local_34 [4];
  uint local_30;
  undefined4 local_20;
  uint local_1c;
  undefined4 local_18;
  void *local_14;
  void *local_10;
  undefined *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &DAT_005170a8;
  local_10 = ExceptionList;
  if (*(uint *)(param_2 + 0x18) < 0x10) {
    p_Var4 = (_String_base *)(param_2 + 4);
  }
  else {
    p_Var4 = *(_String_base **)(param_2 + 4);
  }
  local_1c = 0xf;
  local_20 = 0;
  local_30 = local_30 & 0xffffff00;
  p_Var2 = p_Var4;
  do {
    _Var1 = *p_Var2;
    p_Var2 = p_Var2 + 1;
  } while (_Var1 != (_String_base)0x0);
  ExceptionList = &local_10;
  local_14 = this;
  String_Assign(local_34,p_Var4,(int)p_Var2 - (int)(p_Var4 + 1));
  local_8 = 0;
  uVar8 = AudioCodec_DecompressData(this,extraout_EDX,local_34);
  local_8 = 0xffffffff;
  if (0xf < local_1c) {
                    /* WARNING: Subroutine does not return */
    System_ShutdownHandler(local_30,(uint)((ulonglong)uVar8 >> 0x20));
  }
  if ((int)uVar8 == 0) {
    ExceptionList = local_10;
    return 0;
  }
  Dialog_AddButton(local_40);
  local_40[0] = (int)uVar8;
  local_20._0_2_ = CONCAT11(param_3,(undefined1)local_20);
  local_70[0] = param_1;
  piVar6 = local_40;
  piVar7 = local_68;
  for (iVar5 = 10; iVar5 != 0; iVar5 = iVar5 + -1) {
    *piVar7 = *piVar6;
    piVar6 = piVar6 + 1;
    piVar7 = piVar7 + 1;
  }
  uVar3 = AudioCodec_EncodeFrame((void *)((int)local_14 + 4),&local_18,local_70);
  ExceptionList = local_10;
  return CONCAT31((int3)((uint)uVar3 >> 8),1);
}


