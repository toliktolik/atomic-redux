/*
 * Function: Audio_ReleaseBuffer
 * Address: 004e6830
 * Category: audio
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


void __cdecl Audio_ReleaseBuffer(int param_1,int param_2,short *param_3,int param_4,int param_5)

{
  int *piVar1;
  int iVar2;
  undefined1 uVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  int iVar7;
  int iVar8;
  undefined1 *puVar9;
  int iVar10;
  int local_134 [8];
  int local_114 [8];
  int local_f4 [8];
  int local_d4 [8];
  int local_b4 [8];
  int local_94 [8];
  int local_74 [8];
  int local_54 [8];
  int local_34;
  int local_30;
  int local_2c;
  int local_28;
  int *local_24;
  int local_20;
  int local_1c;
  int *local_18;
  int local_14;
  int local_10;
  int local_c;
  int local_8;
  
  local_18 = *(int **)(param_2 + 0x50);
  iVar2 = *(int *)(param_1 + 0x120) + 0x80;
  local_24 = (int *)param_3;
  piVar1 = local_134;
  local_34 = 8;
  do {
    if ((((*(short *)((int)local_24 + 0x10) == 0) && (*(short *)((int)local_24 + 0x20) == 0)) &&
        (*(short *)((int)local_24 + 0x30) == 0)) &&
       (((*(short *)((int)local_24 + 0x40) == 0 && (*(short *)((int)local_24 + 0x50) == 0)) &&
        ((*(short *)((int)local_24 + 0x60) == 0 && (*(short *)((int)local_24 + 0x70) == 0)))))) {
      iVar4 = (int)(short)*local_24 * *local_18 * 4;
      *piVar1 = iVar4;
      piVar1[8] = iVar4;
      piVar1[0x10] = iVar4;
      piVar1[0x18] = iVar4;
      piVar1[0x20] = iVar4;
      piVar1[0x28] = iVar4;
      piVar1[0x30] = iVar4;
      piVar1[0x38] = iVar4;
    }
    else {
      iVar6 = ((int)*(short *)((int)local_24 + 0x20) * local_18[0x10] +
              (int)*(short *)((int)local_24 + 0x60) * local_18[0x30]) * 0x1151;
      iVar4 = iVar6 + (int)*(short *)((int)local_24 + 0x60) * local_18[0x30] * -0x3b21;
      iVar6 = (int)*(short *)((int)local_24 + 0x20) * local_18[0x10] * 0x187e + iVar6;
      iVar5 = (int)(short)*local_24 * *local_18;
      iVar8 = ((int)*(short *)((int)local_24 + 0x40) * local_18[0x20] + iVar5) * 0x2000;
      iVar5 = (iVar5 - (int)*(short *)((int)local_24 + 0x40) * local_18[0x20]) * 0x2000;
      iVar7 = iVar6 + iVar8;
      local_10 = iVar7;
      local_28 = iVar8 - iVar6;
      local_30 = iVar5 + iVar4;
      iVar8 = (int)*(short *)((int)local_24 + 0x50) * local_18[0x28];
      local_2c = iVar5 - iVar4;
      iVar4 = (int)*(short *)((int)local_24 + 0x70) * local_18[0x38];
      iVar6 = (int)*(short *)((int)local_24 + 0x30) * local_18[0x18];
      iVar10 = local_18[8] * (int)*(short *)((int)local_24 + 0x10);
      local_14 = iVar10 + iVar8;
      local_1c = (local_14 + iVar6 + iVar4) * 0x25a1;
      local_20 = (iVar4 + iVar10) * -0x1ccd;
      local_8 = (iVar6 + iVar8) * -0x5203;
      local_c = local_1c + (iVar6 + iVar4) * -0x3ec5;
      local_1c = local_1c + local_14 * -0xc7c;
      iVar4 = iVar4 * 0x98e + local_20 + local_c;
      iVar5 = iVar8 * 0x41b3 + local_1c + local_8;
      iVar6 = iVar6 * 0x6254 + local_c + local_8;
      local_20 = iVar10 * 0x300b + local_1c + local_20;
      *piVar1 = iVar7 + 0x400 + local_20 >> 0xb;
      piVar1[0x38] = (iVar7 - local_20) + 0x400 >> 0xb;
      piVar1[8] = local_30 + 0x400 + iVar6 >> 0xb;
      piVar1[0x30] = (local_30 - iVar6) + 0x400 >> 0xb;
      piVar1[0x28] = (local_2c - iVar5) + 0x400 >> 0xb;
      piVar1[0x10] = local_2c + 0x400 + iVar5 >> 0xb;
      piVar1[0x18] = local_28 + 0x400 + iVar4 >> 0xb;
      piVar1[0x20] = (local_28 - iVar4) + 0x400 >> 0xb;
    }
    local_24 = (int *)((int)local_24 + 2);
    local_18 = local_18 + 1;
    piVar1 = piVar1 + 1;
    local_34 = local_34 + -1;
  } while (local_34 != 0);
  piVar1 = local_134;
  local_24 = (int *)(param_4 + 8);
  local_34 = 2;
  do {
    local_18 = (int *)piVar1[1];
    puVar9 = (undefined1 *)(local_24[-2] + param_5);
    if (((local_18 == (int *)0x0) && (piVar1[2] == 0)) &&
       (((piVar1[3] == 0 && (((piVar1[4] == 0 && (piVar1[5] == 0)) && (piVar1[6] == 0)))) &&
        (piVar1[7] == 0)))) {
      uVar3 = *(undefined1 *)((*piVar1 + 0x10 >> 5 & 0x3ffU) + iVar2);
      *puVar9 = uVar3;
      puVar9[1] = uVar3;
      puVar9[2] = uVar3;
      puVar9[3] = uVar3;
      puVar9[5] = uVar3;
      puVar9[6] = uVar3;
      puVar9[7] = uVar3;
    }
    else {
      local_20 = (piVar1[6] + piVar1[2]) * 0x1151;
      iVar6 = local_20 + piVar1[6] * -0x3b21;
      local_20 = piVar1[2] * 0x187e + local_20;
      local_28 = (*piVar1 + piVar1[4]) * 0x2000;
      local_2c = (*piVar1 - piVar1[4]) * 0x2000;
      iVar4 = local_28 + local_20;
      local_28 = local_28 - local_20;
      local_30 = local_2c + iVar6;
      local_2c = local_2c - iVar6;
      iVar6 = piVar1[5];
      iVar5 = piVar1[3];
      iVar8 = piVar1[7];
      local_1c = ((int)local_18 + iVar6 + iVar8 + iVar5) * 0x25a1;
      iVar7 = (iVar8 + (int)local_18) * -0x1ccd;
      local_8 = (iVar6 + iVar5) * -0x5203;
      local_c = local_1c + (iVar8 + iVar5) * -0x3ec5;
      local_14 = local_1c + ((int)local_18 + iVar6) * -0xc7c;
      local_10 = iVar8 * 0x98e + iVar7 + local_c;
      iVar6 = iVar6 * 0x41b3 + local_14 + local_8;
      local_8 = iVar5 * 0x6254 + local_c + local_8;
      iVar7 = (int)local_18 * 0x300b + local_14 + iVar7;
      *puVar9 = *(undefined1 *)((iVar4 + 0x20000 + iVar7 >> 0x12 & 0x3ffU) + iVar2);
      puVar9[7] = *(undefined1 *)(((iVar4 - iVar7) + 0x20000 >> 0x12 & 0x3ffU) + iVar2);
      puVar9[1] = *(undefined1 *)((local_30 + 0x20000 + local_8 >> 0x12 & 0x3ffU) + iVar2);
      puVar9[6] = *(undefined1 *)(((local_30 - local_8) + 0x20000 >> 0x12 & 0x3ffU) + iVar2);
      puVar9[2] = *(undefined1 *)((local_2c + 0x20000 + iVar6 >> 0x12 & 0x3ffU) + iVar2);
      puVar9[5] = *(undefined1 *)(((local_2c - iVar6) + 0x20000 >> 0x12 & 0x3ffU) + iVar2);
      puVar9[3] = *(undefined1 *)((local_28 + 0x20000 + local_10 >> 0x12 & 0x3ffU) + iVar2);
      uVar3 = *(undefined1 *)(((local_28 - local_10) + 0x20000 >> 0x12 & 0x3ffU) + iVar2);
    }
    puVar9[4] = uVar3;
    local_18 = (int *)piVar1[9];
    puVar9 = (undefined1 *)(local_24[-1] + param_5);
    if (((((local_18 == (int *)0x0) && (piVar1[10] == 0)) &&
         ((piVar1[0xb] == 0 && ((piVar1[0xc] == 0 && (piVar1[0xd] == 0)))))) && (piVar1[0xe] == 0))
       && (piVar1[0xf] == 0)) {
      uVar3 = *(undefined1 *)((piVar1[8] + 0x10 >> 5 & 0x3ffU) + iVar2);
      *puVar9 = uVar3;
      puVar9[1] = uVar3;
      puVar9[2] = uVar3;
      puVar9[3] = uVar3;
      puVar9[5] = uVar3;
      puVar9[6] = uVar3;
      puVar9[7] = uVar3;
    }
    else {
      local_20 = (piVar1[0xe] + piVar1[10]) * 0x1151;
      iVar6 = local_20 + piVar1[0xe] * -0x3b21;
      local_20 = piVar1[10] * 0x187e + local_20;
      iVar4 = piVar1[8];
      local_28 = (iVar4 + piVar1[0xc]) * 0x2000;
      local_2c = (iVar4 - piVar1[0xc]) * 0x2000;
      iVar4 = local_28 + local_20;
      local_28 = local_28 - local_20;
      local_30 = local_2c + iVar6;
      local_2c = local_2c - iVar6;
      iVar6 = piVar1[0xd];
      iVar5 = piVar1[0xb];
      iVar8 = piVar1[0xf];
      local_1c = ((int)local_18 + iVar6 + iVar8 + iVar5) * 0x25a1;
      iVar7 = (iVar8 + (int)local_18) * -0x1ccd;
      local_8 = (iVar6 + iVar5) * -0x5203;
      local_c = local_1c + (iVar8 + iVar5) * -0x3ec5;
      local_14 = local_1c + ((int)local_18 + iVar6) * -0xc7c;
      local_10 = iVar8 * 0x98e + iVar7 + local_c;
      iVar6 = iVar6 * 0x41b3 + local_14 + local_8;
      local_8 = iVar5 * 0x6254 + local_c + local_8;
      iVar7 = (int)local_18 * 0x300b + local_14 + iVar7;
      *puVar9 = *(undefined1 *)((iVar4 + 0x20000 + iVar7 >> 0x12 & 0x3ffU) + iVar2);
      puVar9[7] = *(undefined1 *)(((iVar4 - iVar7) + 0x20000 >> 0x12 & 0x3ffU) + iVar2);
      puVar9[1] = *(undefined1 *)((local_30 + 0x20000 + local_8 >> 0x12 & 0x3ffU) + iVar2);
      puVar9[6] = *(undefined1 *)(((local_30 - local_8) + 0x20000 >> 0x12 & 0x3ffU) + iVar2);
      puVar9[2] = *(undefined1 *)((local_2c + 0x20000 + iVar6 >> 0x12 & 0x3ffU) + iVar2);
      puVar9[5] = *(undefined1 *)(((local_2c - iVar6) + 0x20000 >> 0x12 & 0x3ffU) + iVar2);
      puVar9[3] = *(undefined1 *)((local_28 + 0x20000 + local_10 >> 0x12 & 0x3ffU) + iVar2);
      uVar3 = *(undefined1 *)(((local_28 - local_10) + 0x20000 >> 0x12 & 0x3ffU) + iVar2);
    }
    puVar9[4] = uVar3;
    local_18 = (int *)piVar1[0x11];
    puVar9 = (undefined1 *)(*local_24 + param_5);
    if (((((local_18 == (int *)0x0) && (piVar1[0x12] == 0)) && (piVar1[0x13] == 0)) &&
        ((piVar1[0x14] == 0 && (piVar1[0x15] == 0)))) &&
       ((piVar1[0x16] == 0 && (piVar1[0x17] == 0)))) {
      uVar3 = *(undefined1 *)((piVar1[0x10] + 0x10 >> 5 & 0x3ffU) + iVar2);
      *puVar9 = uVar3;
      puVar9[1] = uVar3;
      puVar9[2] = uVar3;
      puVar9[3] = uVar3;
      puVar9[5] = uVar3;
      puVar9[6] = uVar3;
      puVar9[7] = uVar3;
    }
    else {
      local_20 = (piVar1[0x16] + piVar1[0x12]) * 0x1151;
      iVar6 = local_20 + piVar1[0x16] * -0x3b21;
      local_20 = piVar1[0x12] * 0x187e + local_20;
      iVar4 = piVar1[0x10];
      local_28 = (iVar4 + piVar1[0x14]) * 0x2000;
      local_2c = (iVar4 - piVar1[0x14]) * 0x2000;
      iVar4 = local_28 + local_20;
      local_28 = local_28 - local_20;
      local_30 = local_2c + iVar6;
      local_2c = local_2c - iVar6;
      iVar6 = piVar1[0x15];
      iVar5 = piVar1[0x13];
      iVar8 = piVar1[0x17];
      local_1c = ((int)local_18 + iVar6 + iVar8 + iVar5) * 0x25a1;
      iVar7 = (iVar8 + (int)local_18) * -0x1ccd;
      local_8 = (iVar6 + iVar5) * -0x5203;
      local_c = local_1c + (iVar8 + iVar5) * -0x3ec5;
      local_14 = local_1c + ((int)local_18 + iVar6) * -0xc7c;
      local_10 = iVar8 * 0x98e + iVar7 + local_c;
      iVar6 = iVar6 * 0x41b3 + local_14 + local_8;
      local_8 = iVar5 * 0x6254 + local_c + local_8;
      iVar7 = (int)local_18 * 0x300b + local_14 + iVar7;
      *puVar9 = *(undefined1 *)((iVar4 + 0x20000 + iVar7 >> 0x12 & 0x3ffU) + iVar2);
      puVar9[7] = *(undefined1 *)(((iVar4 - iVar7) + 0x20000 >> 0x12 & 0x3ffU) + iVar2);
      puVar9[1] = *(undefined1 *)((local_30 + 0x20000 + local_8 >> 0x12 & 0x3ffU) + iVar2);
      puVar9[6] = *(undefined1 *)(((local_30 - local_8) + 0x20000 >> 0x12 & 0x3ffU) + iVar2);
      puVar9[2] = *(undefined1 *)((local_2c + 0x20000 + iVar6 >> 0x12 & 0x3ffU) + iVar2);
      puVar9[5] = *(undefined1 *)(((local_2c - iVar6) + 0x20000 >> 0x12 & 0x3ffU) + iVar2);
      puVar9[3] = *(undefined1 *)((local_28 + 0x20000 + local_10 >> 0x12 & 0x3ffU) + iVar2);
      uVar3 = *(undefined1 *)(((local_28 - local_10) + 0x20000 >> 0x12 & 0x3ffU) + iVar2);
    }
    puVar9[4] = uVar3;
    local_18 = (int *)piVar1[0x19];
    puVar9 = (undefined1 *)(local_24[1] + param_5);
    if ((((local_18 == (int *)0x0) && (piVar1[0x1a] == 0)) &&
        ((piVar1[0x1b] == 0 && (((piVar1[0x1c] == 0 && (piVar1[0x1d] == 0)) && (piVar1[0x1e] == 0)))
         ))) && (piVar1[0x1f] == 0)) {
      uVar3 = *(undefined1 *)((piVar1[0x18] + 0x10 >> 5 & 0x3ffU) + iVar2);
      *puVar9 = uVar3;
      puVar9[1] = uVar3;
      puVar9[2] = uVar3;
      puVar9[3] = uVar3;
      puVar9[5] = uVar3;
      puVar9[6] = uVar3;
      puVar9[7] = uVar3;
    }
    else {
      local_20 = (piVar1[0x1e] + piVar1[0x1a]) * 0x1151;
      iVar6 = local_20 + piVar1[0x1e] * -0x3b21;
      local_20 = piVar1[0x1a] * 0x187e + local_20;
      iVar4 = piVar1[0x18];
      local_28 = (iVar4 + piVar1[0x1c]) * 0x2000;
      local_2c = (iVar4 - piVar1[0x1c]) * 0x2000;
      iVar4 = local_28 + local_20;
      local_28 = local_28 - local_20;
      local_30 = local_2c + iVar6;
      local_2c = local_2c - iVar6;
      iVar6 = piVar1[0x1d];
      iVar5 = piVar1[0x1b];
      iVar8 = piVar1[0x1f];
      local_1c = ((int)local_18 + iVar6 + iVar8 + iVar5) * 0x25a1;
      iVar7 = (iVar8 + (int)local_18) * -0x1ccd;
      local_8 = (iVar6 + iVar5) * -0x5203;
      local_c = local_1c + (iVar8 + iVar5) * -0x3ec5;
      local_14 = local_1c + ((int)local_18 + iVar6) * -0xc7c;
      local_10 = iVar8 * 0x98e + iVar7 + local_c;
      iVar6 = iVar6 * 0x41b3 + local_14 + local_8;
      local_8 = iVar5 * 0x6254 + local_c + local_8;
      iVar7 = (int)local_18 * 0x300b + local_14 + iVar7;
      *puVar9 = *(undefined1 *)((iVar4 + 0x20000 + iVar7 >> 0x12 & 0x3ffU) + iVar2);
      puVar9[7] = *(undefined1 *)(((iVar4 - iVar7) + 0x20000 >> 0x12 & 0x3ffU) + iVar2);
      puVar9[1] = *(undefined1 *)((local_30 + 0x20000 + local_8 >> 0x12 & 0x3ffU) + iVar2);
      puVar9[6] = *(undefined1 *)(((local_30 - local_8) + 0x20000 >> 0x12 & 0x3ffU) + iVar2);
      puVar9[2] = *(undefined1 *)((local_2c + 0x20000 + iVar6 >> 0x12 & 0x3ffU) + iVar2);
      puVar9[5] = *(undefined1 *)(((local_2c - iVar6) + 0x20000 >> 0x12 & 0x3ffU) + iVar2);
      puVar9[3] = *(undefined1 *)((local_28 + 0x20000 + local_10 >> 0x12 & 0x3ffU) + iVar2);
      uVar3 = *(undefined1 *)(((local_28 - local_10) + 0x20000 >> 0x12 & 0x3ffU) + iVar2);
    }
    puVar9[4] = uVar3;
    piVar1 = piVar1 + 0x20;
    local_34 = local_34 + -1;
    local_24 = local_24 + 4;
  } while (local_34 != 0);
  return;
}


