/*
 * Function: Audio_InitializeEncodingBuffers
 * Address: 004d9310
 * Category: audio
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


void __cdecl Audio_InitializeEncodingBuffers(int *param_1,char param_2)

{
  undefined4 *puVar1;
  undefined4 uVar2;
  int *piVar3;
  
  if (param_2 != '\0') {
    *(undefined4 *)(*param_1 + 0x14) = 4;
    (**(code **)*param_1)(param_1);
  }
  puVar1 = (undefined4 *)(**(code **)param_1[1])(param_1,1,0x40);
  param_1[0x51] = (int)puVar1;
  *puVar1 = Audio_PrepareEncodingContext;
  if (*(char *)(param_1[0x55] + 8) == '\0') {
    puVar1[1] = Audio_EncodeStreamData;
    _param_2 = 0;
    if (0 < param_1[0xf]) {
      piVar3 = (int *)(param_1[0x11] + 8);
      puVar1 = puVar1 + 2;
      do {
        uVar2 = (**(code **)(param_1[1] + 8))
                          (param_1,1,(piVar3[5] * param_1[0x36] * 8) / *piVar3,param_1[0x37]);
        *puVar1 = uVar2;
        _param_2 = _param_2 + 1;
        puVar1 = puVar1 + 1;
        piVar3 = piVar3 + 0x15;
      } while (_param_2 < param_1[0xf]);
    }
    return;
  }
  puVar1[1] = Audio_EncodeInterleavedData;
  Audio_AllocateChannelBuffers((int)param_1);
  return;
}


