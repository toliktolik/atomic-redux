/*
 * Function: Memory_FreeImageBuffer
 * Address: 0047bd50
 * Category: memory
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


uint __fastcall Memory_FreeImageBuffer(int *param_1)

{
  char cVar1;
  uint uVar2;
  void *pvVar3;
  undefined4 *puVar4;
  int extraout_ECX;
  uint extraout_EDX;
  
  (**(code **)(*param_1 + 0x50))();
  if (param_1[10] != 0) {
    return CONCAT31((int3)((uint)param_1[10] >> 8),1);
  }
  uVar2 = (**(code **)(*param_1 + 100))();
  if (param_1[6] != 0) {
    pvVar3 = operator_new(param_1[1] * param_1[2]);
    param_1[0xb] = (int)pvVar3;
    puVar4 = (undefined4 *)operator_new(0x400);
    param_1[10] = (int)puVar4;
    cVar1 = ColorPalette_Generate
                      ((undefined4 *)param_1[6],param_1[1],param_1[2],(undefined1 *)param_1[0xb],
                       puVar4);
    if (cVar1 == '\0') {
                    /* WARNING: Subroutine does not return */
      System_ShutdownHandler(extraout_ECX,param_1[0xb]);
    }
                    /* WARNING: Subroutine does not return */
    System_ShutdownHandler(param_1[6],extraout_EDX);
  }
  return uVar2 & 0xffffff00;
}


