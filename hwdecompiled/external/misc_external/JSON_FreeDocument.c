/*
 * Function: JSON_FreeDocument
 * Address: 0044f2e0
 * Category: memory
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


bool __thiscall JSON_FreeDocument(void *this,void *param_1)

{
  uint uVar1;
  _String_base *p_Var2;
  int iVar3;
  char extraout_CL;
  undefined4 extraout_ECX;
  undefined4 extraout_ECX_00;
  int extraout_ECX_01;
  uint extraout_EDX;
  uint extraout_EDX_00;
  int extraout_EDX_01;
  void *pvVar4;
  _String_base local_2c [4];
  uint local_28;
  undefined4 local_18;
  uint local_14;
  void *local_10;
  undefined4 uStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  uStack_c = 0x5130a8;
  local_10 = ExceptionList;
  if (*(char *)((int)this + 0x491) != '\0') {
    if (*(char *)((int)this + 0x492) != '\0') {
      return true;
    }
    ExceptionList = &local_10;
    Threading_WaitForThread((int)this);
    *(undefined1 *)((int)this + 0x4fc) = 1;
    uVar1 = String_FindSubstring((void *)((int)this + 0x4cc),1,'\0');
    ExceptionList = local_10;
    return uVar1 != 0;
  }
  ExceptionList = &local_10;
  p_Var2 = Sound_SetPan(local_2c,param_1,'\0');
  local_8 = 0;
  Sound_SetVolume(extraout_ECX,extraout_EDX,p_Var2);
  local_8 = 0xffffffff;
  if (0xf < local_14) {
                    /* WARNING: Subroutine does not return */
    System_ShutdownHandler(local_28,extraout_EDX_00);
  }
  local_14 = 0xf;
  local_18 = 0;
  local_28 = local_28 & 0xffffff00;
  iVar3 = String_AllocateBuffer(extraout_ECX_00,(short)extraout_EDX_00);
  if (iVar3 == 0) {
    if (*(char *)((int)this + 0x490) != '\0') {
      Threading_TerminateThread((int)this);
      pvVar4 = (void *)((int)this + 0x4cc);
      BitStream_WriteBits(pvVar4,0,1);
      BitStream_WriteBits(pvVar4,0x10,5);
      BitStream_WriteBits(pvVar4,0,1);
    }
    ExceptionList = local_10;
    return false;
  }
  String_CopyData(extraout_CL);
  Memory_AllocateBlock(extraout_ECX_01,extraout_EDX_01);
  if (*(char *)((int)this + 0x490) != '\0') {
    Threading_TerminateThread((int)this);
    pvVar4 = (void *)((int)this + 0x4cc);
    BitStream_WriteBits(pvVar4,0,1);
    BitStream_WriteBits(pvVar4,0x10,5);
    BitStream_WriteBits(pvVar4,1,1);
  }
  ExceptionList = local_10;
  return true;
}


