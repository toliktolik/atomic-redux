/*
 * Function: GIF_DitherImage
 * Address: 004d3830
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


uint __fastcall GIF_DitherImage(int param_1,uint param_2,int param_3)

{
  uint in_EAX;
  int iVar1;
  uint uVar2;
  int iVar3;
  int *unaff_EBX;
  
  if (in_EAX == 0) {
    *unaff_EBX = param_1;
    return param_2;
  }
  if (param_2 == 0) {
    *unaff_EBX = param_3;
    return in_EAX;
  }
  if (param_1 < param_3) {
    iVar3 = (param_3 - param_1) + 1;
    iVar1 = (int)in_EAX >> 1;
    *unaff_EBX = param_3 + 1;
    if (iVar3 < 0x20) {
      iVar3 = (int)((1 << ((byte)(param_3 - param_1) & 0x1f)) + param_2) >> ((byte)iVar3 & 0x1f);
    }
    else {
      iVar3 = 0;
    }
  }
  else {
    iVar1 = (param_1 - param_3) + 1;
    iVar3 = (int)param_2 >> 1;
    *unaff_EBX = param_1 + 1;
    if (iVar1 < 0x20) {
      iVar1 = (int)((1 << ((byte)(param_1 - param_3) & 0x1f)) + in_EAX) >> ((byte)iVar1 & 0x1f);
    }
    else {
      iVar1 = 0;
    }
  }
  uVar2 = iVar1 + iVar3;
  if (((uVar2 & 0xc0000000) == 0xc0000000) || ((uVar2 & 0xc0000000) == 0)) {
    uVar2 = uVar2 * 2;
    *unaff_EBX = *unaff_EBX + -1;
  }
  return uVar2;
}


