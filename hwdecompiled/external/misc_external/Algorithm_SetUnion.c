/*
 * Function: Algorithm_SetUnion
 * Address: 0045d180
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


void __thiscall Algorithm_SetUnion(void *this,int *param_1)

{
  char cVar1;
  DWORD DVar2;
  int iVar3;
  undefined4 uVar4;
  WINDOWPLACEMENT local_30;
  
  if (*(char *)((int)this + 1000) != '\0') {
    return;
  }
  if (*(char *)((int)this + 0x2fd) != '\0') {
    return;
  }
  if (DAT_0056da24 != '\0') {
    return;
  }
  cVar1 = Threading_CreateMutex(*(void **)((int)this + 0x328),param_1);
  if (cVar1 == '\0') {
    DAT_0056e359 = 0;
    if (DAT_0056da25 == '\0') {
      DAT_0056da25 = '\x01';
    }
    GetWindowPlacement(*(HWND *)((int)this + 0x30c),&local_30);
    DVar2 = GetTickCount();
    if (((*(char *)((int)this + 0x452) != '\0') ||
        ((1000 < DVar2 - DAT_0056db10 && (*(char *)((int)this + 0x2ff) != '\0')))) &&
       (local_30.showCmd != 2)) {
      DAT_0056db10 = DVar2;
      *(undefined4 *)(*(int *)((int)this + 0x2dc) + 0x10) = 0;
                    /* WARNING: Load size is inaccurate */
      (**(code **)(*this + 0xb0))();
      iVar3 = DirectXRenderer_Initialize3DGraphics
                        (*(void **)((int)this + 0x328),*(HWND *)((int)this + 0x30c),
                         (int *)(uint)*(byte *)((int)this + 0x2ff));
      Threading_InitializeAndSetupMusic((int)this);
      if ((*(char *)((int)this + 0x2fe) != '\0') && (iVar3 == 6)) {
        if (*(char *)((int)this + 0x452) == '\0') {
          return;
        }
                    /* WARNING: Load size is inaccurate */
        (**(code **)(*this + 0xf0))(0);
        *(undefined1 *)((int)this + 0x301) = 1;
        return;
      }
      if (iVar3 == 7) {
        DirectDrawRenderer_Initialize(this,'\0',1);
        return;
      }
      if (iVar3 != 0) {
        return;
      }
                    /* WARNING: Load size is inaccurate */
      (**(code **)(*this + 0x34))();
      uVar4 = SexyWidget_GetRotation(*(int *)((int)this + 0x328));
      *(undefined4 *)(*(int *)((int)this + 0x2dc) + 0x10) = uVar4;
      UI_Widget_ValidateRender(*(int *)((int)this + 0x2dc));
      DVar2 = timeGetTime();
      *(DWORD *)((int)this + 0x404) = DVar2;
    }
  }
  else if (DAT_0056da25 != '\0') {
    DAT_0056da25 = '\0';
    DAT_0056db10 = 0;
  }
  *(int *)((int)this + 0x460) = *(int *)((int)this + 0x460) + 1;
  return;
}


