/*
 * Function: Memory_TrackAllocation
 * Address: 004e0280
 * Category: memory
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


void __cdecl Memory_TrackAllocation(int param_1,int param_2,undefined4 *param_3,int *param_4)

{
  int iVar1;
  undefined1 *puVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  byte *pbVar6;
  int iVar7;
  int iVar8;
  byte *pbVar9;
  int local_18;
  undefined4 *local_8;
  
  iVar1 = *param_4;
  iVar3 = 0;
  if (0 < *(int *)(param_1 + 0x114)) {
    local_8 = param_3;
    do {
      local_18 = 0;
      do {
        pbVar6 = (byte *)*local_8;
        if (local_18 == 0) {
          pbVar9 = (byte *)local_8[-1];
        }
        else {
          pbVar9 = (byte *)local_8[1];
        }
        puVar2 = *(undefined1 **)(iVar1 + iVar3 * 4);
        iVar3 = iVar3 + 1;
        iVar7 = (uint)*pbVar6 * 3 + (uint)*pbVar9;
        iVar4 = (uint)pbVar6[1] * 3 + (uint)pbVar9[1];
        *puVar2 = (char)(iVar7 * 4 + 8 >> 4);
        pbVar9 = pbVar9 + 2;
        pbVar6 = pbVar6 + 2;
        puVar2[1] = (char)(iVar7 * 3 + 7 + iVar4 >> 4);
        for (iVar8 = *(int *)(param_2 + 0x28) + -2; puVar2 = puVar2 + 2, iVar8 != 0;
            iVar8 = iVar8 + -1) {
          iVar5 = (uint)*pbVar6 * 3 + (uint)*pbVar9;
          *puVar2 = (char)(iVar4 * 3 + 8 + iVar7 >> 4);
          pbVar9 = pbVar9 + 1;
          pbVar6 = pbVar6 + 1;
          puVar2[1] = (char)(iVar4 * 3 + 7 + iVar5 >> 4);
          iVar7 = iVar4;
          iVar4 = iVar5;
        }
        *puVar2 = (char)(iVar4 * 3 + 8 + iVar7 >> 4);
        puVar2[1] = (char)(iVar4 * 4 + 7 >> 4);
        local_18 = local_18 + 1;
      } while (local_18 < 2);
      local_8 = local_8 + 1;
    } while (iVar3 < *(int *)(param_1 + 0x114));
  }
  return;
}


