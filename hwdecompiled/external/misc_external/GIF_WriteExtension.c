/*
 * Function: GIF_WriteExtension
 * Address: 004d20d0
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


uint __cdecl GIF_WriteExtension(int *param_1)

{
  byte bVar1;
  byte bVar2;
  undefined4 *puVar3;
  int *piVar4;
  int *piVar5;
  uint uVar6;
  int iVar7;
  byte *pbVar8;
  
  piVar4 = param_1;
  puVar3 = (undefined4 *)param_1[6];
  iVar7 = puVar3[1];
  pbVar8 = (byte *)*puVar3;
  if (iVar7 == 0) {
    uVar6 = (*(code *)puVar3[3])(param_1);
    if ((char)uVar6 == '\0') goto LAB_004d2114;
    iVar7 = puVar3[1];
    pbVar8 = (byte *)*puVar3;
  }
  bVar1 = *pbVar8;
  pbVar8 = pbVar8 + 1;
  piVar5 = (int *)(iVar7 + -1);
  if ((int *)(iVar7 + -1) == (int *)0x0) {
    uVar6 = (*(code *)puVar3[3])(param_1);
    if ((char)uVar6 == '\0') {
LAB_004d2114:
      return uVar6 & 0xffffff00;
    }
    pbVar8 = (byte *)*puVar3;
    piVar5 = (int *)puVar3[1];
  }
  param_1 = piVar5;
  bVar2 = *pbVar8;
  *(undefined4 *)(*piVar4 + 0x14) = 0x5b;
  iVar7 = (uint)bVar1 * 0x100 + -2 + (uint)bVar2;
  *(int *)(*piVar4 + 0x18) = piVar4[0x5f];
  *(int *)(*piVar4 + 0x1c) = iVar7;
  (**(code **)(*piVar4 + 4))(piVar4,1);
  puVar3[1] = (int)param_1 + -1;
  *puVar3 = pbVar8 + 1;
  if (0 < iVar7) {
    iVar7 = (**(code **)(piVar4[6] + 0x10))(piVar4,iVar7);
  }
  return CONCAT31((int3)((uint)iVar7 >> 8),1);
}


