/*
 * Function: GIF_ProcessImageRows
 * Address: 004d44f0
 * Category: misc
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


undefined4 __thiscall
GIF_ProcessImageRows(void *this,int *param_1,int *param_2,uint *param_3,int param_4,int param_5)

{
  int *piVar1;
  int iVar2;
  uint uVar3;
  int iVar4;
  int *piVar5;
  byte bVar6;
  undefined4 extraout_ECX;
  uint *puVar7;
  uint *puVar8;
  
  piVar1 = param_1;
  puVar7 = (uint *)&stack0xffffffe8;
  puVar8 = (uint *)&stack0xffffffe8;
  iVar2 = param_4 / *param_1;
  System_LoadLibrary(this);
  System_LoadLibrary(extraout_ECX);
  param_4 = 0;
  bVar6 = (byte)(param_5 - param_1[3]);
  if (param_5 - param_1[3] < 0) {
    if (0 < iVar2) {
      do {
        uVar3 = GIF_FindImageIndex((int)param_1,param_3);
        *puVar8 = uVar3;
        if (uVar3 == 0xffffffff) {
          return 0xffffffff;
        }
        param_4 = param_4 + 1;
        *puVar8 = param_1[4] + *param_1 * uVar3 * 4;
        puVar8 = puVar8 + 1;
      } while (param_4 < iVar2);
    }
    param_4 = 0;
    if (0 < *param_1) {
      param_1 = param_2;
      do {
        iVar4 = 0;
        if (0 < iVar2) {
          piVar5 = param_1;
          do {
            *piVar5 = *piVar5 + (*(int *)(*(int *)(&stack0xffffffe8 + iVar4 * 4) + param_4 * 4) <<
                                (-bVar6 & 0x1f));
            iVar4 = iVar4 + 1;
            piVar5 = piVar5 + 1;
          } while (iVar4 < iVar2);
        }
        param_1 = param_1 + iVar2;
        param_4 = param_4 + 1;
      } while (param_4 < *piVar1);
    }
  }
  else {
    if (0 < iVar2) {
      do {
        uVar3 = GIF_FindImageIndex((int)param_1,param_3);
        *puVar7 = uVar3;
        if (uVar3 == 0xffffffff) {
          return 0xffffffff;
        }
        param_4 = param_4 + 1;
        *puVar7 = param_1[4] + *param_1 * uVar3 * 4;
        puVar7 = puVar7 + 1;
      } while (param_4 < iVar2);
    }
    param_4 = 0;
    if (0 < *param_1) {
      param_1 = param_2;
      do {
        iVar4 = 0;
        piVar5 = param_1;
        if (0 < iVar2) {
          do {
            *piVar5 = *piVar5 + (*(int *)(*(int *)(&stack0xffffffe8 + iVar4 * 4) + param_4 * 4) >>
                                (bVar6 & 0x1f));
            iVar4 = iVar4 + 1;
            piVar5 = piVar5 + 1;
          } while (iVar4 < iVar2);
        }
        param_1 = param_1 + iVar2;
        param_4 = param_4 + 1;
      } while (param_4 < *piVar1);
      return 0;
    }
  }
  return 0;
}


