/*
 * Function: Locale_AllocateCollationTable
 * Address: 004ec8e7
 * Category: memory
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


void __cdecl Locale_AllocateCollationTable(undefined4 *param_1)

{
  undefined4 uVar1;
  LONG *pLVar2;
  int iVar3;
  int iVar4;
  undefined4 extraout_ECX;
  uint extraout_ECX_00;
  int extraout_ECX_01;
  undefined2 extraout_DX;
  uint extraout_EDX;
  int extraout_EDX_00;
  bool bVar5;
  undefined8 uVar6;
  ulonglong uVar7;
  uint uVar8;
  undefined4 in_stack_0000cd80;
  int in_stack_0000cd84;
  int in_stack_0000cd88;
  undefined4 in_stack_0000cd8c;
  undefined4 in_stack_0000cd90;
  uint in_stack_0000cd94;
  uint in_stack_0000cd98;
  int in_stack_0000cd9c;
  undefined4 in_stack_0000cda0;
  undefined4 *local_10;
  uint local_c;
  
  pLVar2 = (LONG *)Assembly_StackCopyLoop();
  InterlockedIncrement(pLVar2);
  iVar3 = Assembly_StackCopyOperation(extraout_ECX,extraout_DX);
  if (iVar3 != 0) {
    pLVar2 = (LONG *)Assembly_StackCopyLoop();
    InterlockedDecrement(pLVar2);
    Assembly_FloatingPointCalculation(extraout_ECX_00,extraout_EDX);
  }
  uVar6 = func_0x00500cca();
  uVar1 = *(undefined4 *)((int)uVar6 + 4);
  uVar7 = Assembly_LongLongProcessing(extraout_ECX_01,(int *)((ulonglong)uVar6 >> 0x20));
  uVar8 = 0x200;
  local_10 = (undefined4 *)_malloc(0x200);
  bVar5 = local_10 == (undefined4 *)0x0;
  if (bVar5) {
    local_10 = (undefined4 *)
               Assembly_ComplexParameterProcessing
                         (uVar8,extraout_EDX_00,in_stack_0000cd80,(ushort)in_stack_0000cd84,
                          in_stack_0000cd88,in_stack_0000cd8c,in_stack_0000cd90,in_stack_0000cd94,
                          in_stack_0000cd98,in_stack_0000cd9c,in_stack_0000cda0);
  }
  else {
    iVar4 = Assembly_ComplexParameterProcessing
                      (uVar8,extraout_EDX_00,0x200,(ushort)in_stack_0000cd80,in_stack_0000cd84,
                       in_stack_0000cd88,in_stack_0000cd8c,in_stack_0000cd90,in_stack_0000cd94,
                       in_stack_0000cd98,in_stack_0000cd9c);
    Assembly_MemoryCopy(local_10,iVar4);
  }
  local_c = (uint)!bVar5;
  if (iVar3 == 0) {
    pLVar2 = (LONG *)Assembly_StackCopyLoop();
    InterlockedDecrement(pLVar2);
  }
  else {
    Assembly_MemoryPatch();
  }
  *param_1 = uVar1;
  param_1[1] = (int)uVar7;
  param_1[2] = local_10;
  param_1[3] = local_c;
  return;
}


