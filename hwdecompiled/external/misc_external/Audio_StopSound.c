/*
 * Function: Audio_StopSound
 * Address: 004e5fe0
 * Category: audio
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


int __cdecl Audio_StopSound(int param_1,int param_2,int param_3)

{
  undefined4 *puVar1;
  undefined4 uVar2;
  undefined1 *puVar3;
  uint uVar4;
  undefined4 *puVar5;
  uint uVar6;
  undefined4 *puVar7;
  undefined4 *local_c;
  
  puVar1 = *(undefined4 **)(param_1 + 0x30);
  puVar5 = *(undefined4 **)(param_1 + 0x34);
  local_c = *(undefined4 **)(param_2 + 0xc);
  if (puVar5 < puVar1) {
    puVar5 = *(undefined4 **)(param_1 + 0x2c);
  }
  uVar4 = *(uint *)(param_2 + 0x10);
  uVar6 = (int)puVar5 - (int)puVar1;
  if (uVar4 < (uint)((int)puVar5 - (int)puVar1)) {
    uVar6 = uVar4;
  }
  if ((uVar6 != 0) && (param_3 == -5)) {
    param_3 = 0;
  }
  *(uint *)(param_2 + 0x10) = uVar4 - uVar6;
  *(int *)(param_2 + 0x14) = *(int *)(param_2 + 0x14) + uVar6;
  if (*(code **)(param_1 + 0x38) != (code *)0x0) {
    uVar2 = (**(code **)(param_1 + 0x38))(*(undefined4 *)(param_1 + 0x3c),puVar1,uVar6);
    *(undefined4 *)(param_1 + 0x3c) = uVar2;
    *(undefined4 *)(param_2 + 0x30) = uVar2;
  }
  puVar5 = puVar1;
  puVar7 = local_c;
  for (uVar4 = uVar6 >> 2; uVar4 != 0; uVar4 = uVar4 - 1) {
    *puVar7 = *puVar5;
    puVar5 = puVar5 + 1;
    puVar7 = puVar7 + 1;
  }
  for (uVar4 = uVar6 & 3; uVar4 != 0; uVar4 = uVar4 - 1) {
    *(undefined1 *)puVar7 = *(undefined1 *)puVar5;
    puVar5 = (undefined4 *)((int)puVar5 + 1);
    puVar7 = (undefined4 *)((int)puVar7 + 1);
  }
  local_c = (undefined4 *)((int)local_c + uVar6);
  puVar3 = (undefined1 *)((int)puVar1 + uVar6);
  if (puVar3 == *(undefined1 **)(param_1 + 0x2c)) {
    puVar1 = *(undefined4 **)(param_1 + 0x28);
    if (*(undefined1 **)(param_1 + 0x34) == *(undefined1 **)(param_1 + 0x2c)) {
      *(undefined4 **)(param_1 + 0x34) = puVar1;
    }
    uVar4 = *(uint *)(param_2 + 0x10);
    uVar6 = *(int *)(param_1 + 0x34) - (int)puVar1;
    if (uVar4 < uVar6) {
      uVar6 = uVar4;
    }
    if ((uVar6 != 0) && (param_3 == -5)) {
      param_3 = 0;
    }
    *(uint *)(param_2 + 0x10) = uVar4 - uVar6;
    *(int *)(param_2 + 0x14) = *(int *)(param_2 + 0x14) + uVar6;
    if (*(code **)(param_1 + 0x38) != (code *)0x0) {
      uVar2 = (**(code **)(param_1 + 0x38))(*(undefined4 *)(param_1 + 0x3c),puVar1,uVar6);
      *(undefined4 *)(param_1 + 0x3c) = uVar2;
      *(undefined4 *)(param_2 + 0x30) = uVar2;
    }
    puVar5 = puVar1;
    puVar7 = local_c;
    for (uVar4 = uVar6 >> 2; uVar4 != 0; uVar4 = uVar4 - 1) {
      *puVar7 = *puVar5;
      puVar5 = puVar5 + 1;
      puVar7 = puVar7 + 1;
    }
    for (uVar4 = uVar6 & 3; uVar4 != 0; uVar4 = uVar4 - 1) {
      *(undefined1 *)puVar7 = *(undefined1 *)puVar5;
      puVar5 = (undefined4 *)((int)puVar5 + 1);
      puVar7 = (undefined4 *)((int)puVar7 + 1);
    }
    local_c = (undefined4 *)((int)local_c + uVar6);
    puVar3 = (undefined1 *)((int)puVar1 + uVar6);
  }
  *(undefined4 **)(param_2 + 0xc) = local_c;
  *(undefined1 **)(param_1 + 0x30) = puVar3;
  return param_3;
}


