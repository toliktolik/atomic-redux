/*
 * Function: Audio_ProcessQuantizationTables
 * Address: 004d7dd0
 * Category: audio
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void __cdecl Audio_ProcessQuantizationTables(int *param_1)

{
  int iVar1;
  int *piVar2;
  undefined4 uVar3;
  ushort *puVar4;
  ushort *puVar5;
  int iVar6;
  float *pfVar7;
  int *piVar8;
  double *pdVar9;
  double *pdVar10;
  int iVar11;
  short *psVar12;
  int local_c;
  
  iVar1 = param_1[0x56];
  local_c = 0;
  if (0 < param_1[0xf]) {
    piVar2 = (int *)(param_1[0x11] + 0x10);
    do {
      iVar11 = *piVar2;
      if (((iVar11 < 0) || (3 < iVar11)) || (param_1[iVar11 + 0x12] == 0)) {
        *(undefined4 *)(*param_1 + 0x14) = 0x34;
        *(int *)(*param_1 + 0x18) = iVar11;
        (**(code **)*param_1)(param_1);
      }
      iVar6 = param_1[0x2e];
      puVar4 = (ushort *)param_1[iVar11 + 0x12];
      if (iVar6 == 0) {
        if (*(int *)(iVar1 + 0xc + iVar11 * 4) == 0) {
          uVar3 = (**(code **)param_1[1])(param_1,1,0x100);
          *(undefined4 *)(iVar1 + 0xc + iVar11 * 4) = uVar3;
        }
        iVar11 = *(int *)(iVar1 + 0xc + iVar11 * 4);
        iVar6 = 0;
        do {
          *(uint *)(iVar11 + iVar6 * 4) = (uint)puVar4[iVar6] << 3;
          iVar6 = iVar6 + 1;
        } while (iVar6 < 0x40);
      }
      else if (iVar6 == 1) {
        if (*(int *)(iVar1 + 0xc + iVar11 * 4) == 0) {
          uVar3 = (**(code **)param_1[1])(param_1,1,0x100);
          *(undefined4 *)(iVar1 + 0xc + iVar11 * 4) = uVar3;
        }
        piVar8 = (int *)(*(int *)(iVar1 + 0xc + iVar11 * 4) + 8);
        puVar5 = puVar4 + 2;
        psVar12 = &DAT_00542d72;
        iVar11 = -(int)puVar4;
        do {
          piVar8[-2] = (int)((int)psVar12[-1] * (uint)puVar5[-2] + 0x400) >> 0xb;
          piVar8[-1] = (int)((uint)puVar5[-1] * (int)*psVar12 + 0x400) >> 0xb;
          *piVar8 = (int)((int)*(short *)((int)&DAT_00542d70 + iVar11 + (int)puVar5) * (uint)*puVar5
                         + 0x400) >> 0xb;
          piVar8[1] = (int)((int)*(short *)((int)&DAT_00542d72 + iVar11 + (int)puVar5) *
                            (uint)puVar5[1] + 0x400) >> 0xb;
          piVar8[2] = (int)((int)*(short *)((int)&DAT_00542d74 + iVar11 + (int)puVar5) *
                            (uint)puVar5[2] + 0x400) >> 0xb;
          piVar8[3] = (int)((int)*(short *)((int)&DAT_00542d76 + iVar11 + (int)puVar5) *
                            (uint)puVar5[3] + 0x400) >> 0xb;
          piVar8[4] = (int)((int)*(short *)((int)&DAT_00542d78 + iVar11 + (int)puVar5) *
                            (uint)puVar5[4] + 0x400) >> 0xb;
          piVar8[5] = (int)((int)*(short *)((int)&DAT_00542d7a + iVar11 + (int)puVar5) *
                            (uint)puVar5[5] + 0x400) >> 0xb;
          psVar12 = psVar12 + 8;
          piVar8 = piVar8 + 8;
          puVar5 = puVar5 + 8;
        } while ((int)psVar12 < 0x542df2);
      }
      else if (iVar6 == 2) {
        if (*(int *)(iVar1 + 0x20 + iVar11 * 4) == 0) {
          uVar3 = (**(code **)param_1[1])(param_1,1,0x100);
          *(undefined4 *)(iVar1 + 0x20 + iVar11 * 4) = uVar3;
        }
        pfVar7 = *(float **)(iVar1 + 0x20 + iVar11 * 4);
        pdVar9 = &DAT_00542df0;
        do {
          *pfVar7 = (float)_DAT_0052a0f0 /
                    ((float)*puVar4 * (float)*pdVar9 * (float)DAT_00542df0 * (float)_DAT_0052c998);
          pfVar7[1] = (float)_DAT_0052a0f0 /
                      ((float)puVar4[1] * (float)*pdVar9 * (float)_DAT_00542df8 *
                      (float)_DAT_0052c998);
          pfVar7[2] = (float)_DAT_0052a0f0 /
                      ((float)puVar4[2] * (float)*pdVar9 * (float)_DAT_00542e00 *
                      (float)_DAT_0052c998);
          pfVar7[3] = (float)_DAT_0052a0f0 /
                      ((float)puVar4[3] * (float)*pdVar9 * (float)_DAT_00542e08 *
                      (float)_DAT_0052c998);
          pfVar7[4] = (float)_DAT_0052a0f0 /
                      ((float)puVar4[4] * (float)*pdVar9 * (float)_DAT_00542e10 *
                      (float)_DAT_0052c998);
          pfVar7[5] = (float)_DAT_0052a0f0 /
                      ((float)puVar4[5] * (float)*pdVar9 * (float)_DAT_00542e18 *
                      (float)_DAT_0052c998);
          pdVar10 = pdVar9 + 1;
          pfVar7[6] = (float)_DAT_0052a0f0 /
                      ((float)puVar4[6] * (float)*pdVar9 * (float)_DAT_00542e20 *
                      (float)_DAT_0052c998);
          pfVar7[7] = (float)_DAT_0052a0f0 /
                      ((float)puVar4[7] * (float)*pdVar9 * (float)_DAT_00542e28 *
                      (float)_DAT_0052c998);
          puVar4 = puVar4 + 8;
          pfVar7 = pfVar7 + 8;
          pdVar9 = pdVar10;
        } while ((int)pdVar10 < 0x542e30);
      }
      else {
        *(undefined4 *)(*param_1 + 0x14) = 0x30;
        (**(code **)*param_1)(param_1);
      }
      local_c = local_c + 1;
      piVar2 = piVar2 + 0x15;
    } while (local_c < param_1[0xf]);
  }
  return;
}


