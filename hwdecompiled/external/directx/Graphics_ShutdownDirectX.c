/*
 * Function: Graphics_ShutdownDirectX
 * Address: 004e4240
 * Category: graphics
 * Generated by Ghidra Bulk Exporter
 */

#include "../heavy_weapon_deluxe.h"


int * __cdecl Graphics_ShutdownDirectX(undefined4 param_1,undefined4 param_2,int *param_3)

{
  int iVar1;
  int *piVar2;
  int *piVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  int iVar7;
  int local_128 [65];
  int *local_24;
  int local_20;
  int local_18;
  int local_10;
  int *local_c;
  int *local_8;
  
  piVar2 = (int *)Assembly_DecompilationFailed(1,0x30c);
  piVar2[0xc2] = (int)param_3;
  piVar2[0xc0] = param_3[0xd2];
  iVar4 = *param_3;
  iVar6 = 0;
  piVar3 = param_3;
  if (0 < iVar4) {
    do {
      iVar6 = iVar6 + param_3[piVar3[1] + 0x20];
      iVar4 = iVar4 + -1;
      piVar3 = piVar3 + 1;
    } while (iVar4 != 0);
  }
  iVar7 = iVar6 + 2;
  iVar4 = 0;
  piVar2[0xbf] = iVar7;
  local_24 = piVar2;
  if (0 < iVar7) {
    piVar3 = param_3 + 0xd1;
    do {
      local_128[iVar4] = (int)piVar3;
      iVar4 = iVar4 + 1;
      piVar3 = piVar3 + 1;
    } while (iVar4 < iVar7);
  }
  System_GetModuleHandle();
  if (0 < iVar7) {
    piVar3 = piVar2;
    do {
      iVar7 = iVar7 + -1;
      *piVar3 = (*(int *)(((int)local_128 - (int)piVar2) + (int)piVar3) - (int)param_3) + -0x344 >>
                2;
      piVar3 = piVar3 + 1;
    } while (iVar7 != 0);
  }
  switch(param_3[0xd0]) {
  case 1:
    piVar2[0xc1] = 0x100;
    break;
  case 2:
    piVar2[0xc1] = 0x80;
    break;
  case 3:
    piVar2[0xc1] = 0x56;
    break;
  case 4:
    piVar2[0xc1] = 0x40;
  }
  if (0 < iVar6) {
    local_c = param_3 + 0xd3;
    iVar4 = 2;
    piVar3 = piVar2 + 0x41;
    local_18 = iVar6;
    do {
      local_20 = piVar2[0xc0];
      iVar6 = 0;
      iVar5 = 0;
      local_10 = 0;
      iVar7 = 1;
      if (0 < iVar4) {
        local_8 = param_3 + 0xd1;
        do {
          iVar1 = *local_8;
          if ((iVar6 < iVar1) && (iVar1 < *local_c)) {
            iVar6 = iVar1;
            local_10 = iVar5;
          }
          if ((iVar1 < local_20) && (*local_c < iVar1)) {
            iVar7 = iVar5;
            local_20 = iVar1;
          }
          iVar5 = iVar5 + 1;
          local_8 = local_8 + 1;
          piVar2 = local_24;
        } while (iVar5 < iVar4);
      }
      piVar3[0x3f] = local_10;
      local_c = local_c + 1;
      *piVar3 = iVar7;
      iVar4 = iVar4 + 1;
      local_18 = local_18 + -1;
      piVar3 = piVar3 + 1;
    } while (local_18 != 0);
  }
  return piVar2;
}


